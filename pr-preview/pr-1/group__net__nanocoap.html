<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="icon" type="image/png" href="favicon.png">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>nanoCoAP small CoAP library</title>
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="jquery.min.js"></script>
    <script src="jquery.powertip.min.js"></script>
    <script src="jquery-ui.min.js"></script>
    <script src="jquery.scrollTo.min.js"></script>
    <script src="doxy-jquery.js"></script>
    <script src="dynsections.js"></script>
    <link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
    <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
    <!-- Bootstrap -->
    <link href="doxygen.css" rel="stylesheet">
    <link href="fonts.css" rel="stylesheet">
    <link href="bootstrap.min.css" rel="stylesheet">
    <link href="jquery.smartmenus.bootstrap.css" rel="stylesheet">
    <link href="riot.css" rel="stylesheet">
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
        <script>
            function displaySR(){
            searchBox.Search();
            var rhtml=(document.getElementById('MSearchResults').contentWindow.document.body.innerHTML).replace(/href=\"\.\.\//g,'href="');
            document.getElementById('MSearchResultsWindow').style.display='none';
            document.getElementById('top').append(document.getElementById('MSearchSelectWindow'));
            document.getElementById('top').append(document.getElementById('MSearchResultsWindow'));
            document.getElementById('doc-content').innerHTML=rhtml;
            }
            function modSearch(){
            if(!searchBox.doxySearch){
                searchBox.doxySearch=searchBox.Search
                searchBox.Search= function(){this.doxySearch();
                var r=document.getElementById('MSearchResultsWindow');console.log(r.style);
                if(parseInt(r.style.left)<0)r.style.left=0;
                var x=document.getElementById('MSearchResults');
                if(x.scrollWidth>window.screen.width)x.style.width=window.screen.width-2+'px';
                var f=document.getElementById('riot-searchform');
                if(parseInt( r.style.top) < f.offsetTop+f.scrollHeight) r.style.top = f.offsetTop+f.scrollHeight+'px';}
            }
            }
        </script>
  </head>
  <body>
      <div id="top">
        <nav class="navbar navbar-inverse">
          <div class="container-fluid">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
              <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse" aria-expanded="false">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              <a class="navbar-brand" id="brand-logo" href="http://riot-os.org"><img height="40px" src="riot-logo.svg" /></a>
              <p class="navbar-text text-center visible-xs">Documentation</p>
            </div>
            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="navbar-collapse">
              <p class="navbar-text navbar-left"><span id="projectbrief">The friendly Operating System for the Internet of Things</span></p>
              <ul id="riot-navlist" class="nav navbar-nav"></ul>
              <form id="riot-searchform" class="navbar-form navbar-left navbar-right" action="https://duckduckgo.com/" method="get">
                 <input type="hidden" name="sites" value="doc.riot-os.org"/>
                 <input type="hidden" name="kt" value="h"/>
                 <div class="form-group">
                   <div id="MSearchBox" class="MSearchBoxActive">
                     <div class="input-group">
                       <div class="input-group-addon">
                         <span id="MSearchSelect" class="glyphicon glyphicon-search" aria-hidden="true" onmouseover="return searchBox.OnSearchSelectShow()" onmouseout="return searchBox.OnSearchSelectHide()"></span>
                       </div>
                       <input class="form-control" type="text" name="q" id="MSearchField" placeholder="Search" accesskey="S" onfocus="searchBox.OnSearchFieldFocus(true)" onblur="searchBox.OnSearchFieldFocus(false)" onkeyup="searchBox.OnSearchFieldChange(event); modSearch();">
                       <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()">
                         <span id="search-reset" class="glyphicon glyphicon-remove-circle" aria-hidden="true"></span>
                       </a>
                     </div>
                   </div>
                 </div>
              </form>
            </div><!-- /.navbar-collapse -->
          </div><!-- /.container-fluid -->
        </nav>
      </div>
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group__net__nanocoap.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#groups">Modules</a> &#124;
<a href="#files">Files</a> &#124;
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">nanoCoAP small CoAP library<div class="ingroups"><a class="el" href="group__net.html">Networking</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>CoAP library optimized for minimal resource usage.  
<a href="#details">More...</a></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>CoAP library optimized for minimal resource usage. </p>
<p>nanocoap is a toolbox for reading and writing CoAP messages. It provides functions for core header attributes like message type and code. It also provides high and low level interfaces to CoAP options, including Block.</p>
<p>nanocoap includes the core structs to store message information. It also provides helper functions for use before sending and after receiving a message, such as <a class="el" href="group__net__nanocoap.html#gad60d02b4df6c510da7931ac15e430378" title="Parse a CoAP PDU. ">coap_parse()</a> to read an incoming message.</p>
<p>This page provides reference documentation for the contents of nanocoap. To use nanocoap in an application, see the functional APIs that are built with it. <a href="group__net__nanosock.html">nanocoap sock</a> is for a targeted client or server with lesser resource requirements, and <a href="group__net__gcoap.html">gcoap</a> provides a more featureful messaging hub.</p>
<p>For both server responses and client requests, CoAP uses an Option mechanism to encode message metadata that is not required for each message. For example, the resource URI path is required only for a request, and is encoded as the Uri-Path option.</p>
<p>nanocoap sock uses the simpler Buffer API, described in the section <em>Options Write Buffer API</em>. gcoap uses the more convenient Packet API, described in the section <em>Options Write Packet API</em>.</p>
<p>For either API, the caller <em>must</em> write options in order by option number (see "CoAP option numbers" in <a href="group__net__coap.html">CoAP defines</a>).</p>
<p>By default the URI-path of an incoming request should match exactly one of the registered resources. But also, a resource can be configured to match just a prefix of the URI-path of the request by adding the <a class="el" href="group__net__nanocoap.html#ga8c87dddfffd38c7c88c32b49fad9cb26">COAP_MATCH_SUBTREE</a> option to <a class="el" href="structcoap__resource__t.html#a5aa955ab88b29ad7e1d481bffa843fe3" title="OR&#39;ed methods this resource allows. ">coap_resource_t::methods</a>.</p>
<p>For example, if a resource is configured with a <a class="el" href="structcoap__resource__t.html#a1d11fb4d19d132be8091d6ba43558b79">path</a> <code>/resource01</code> and the <a class="el" href="group__net__nanocoap.html#ga8c87dddfffd38c7c88c32b49fad9cb26">COAP_MATCH_SUBTREE</a> option is used it would match any of <code>/resource01/</code>, <code>/resource01/sub/path</code>, <code>/resource01alt</code>.</p>
<p>If the behavior of matching <code>/resource01alt</code> is not wanted and only subtrees are wanted to match, the path should be <code>/resource01/</code>.</p>
<p>If in addition just <code>/resource01</code> is wanted to match, together with any subtrees of <code>/resource01/</code>, then a first resource with the path <code>/resource01</code> and exact matching should be register, and then a second one with the path <code>/resource01/</code> and subtree matching. </p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:group__net__nanocoap__fileserver"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap__fileserver.html">CoAP file server</a></td></tr>
<tr class="memdesc:group__net__nanocoap__fileserver"><td class="mdescLeft">&#160;</td><td class="mdescRight">Library for serving files from the VFS to CoAP clients. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__net__nanocoap__conf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap__conf.html">nanoCoAP compile configurations</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__net__nanocoap__cache"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap__cache.html">nanoCoAP-Cache implementation</a></td></tr>
<tr class="memdesc:group__net__nanocoap__cache"><td class="mdescLeft">&#160;</td><td class="mdescRight">A cache implementation for nanocoap response messages. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="files"></a>
Files</h2></td></tr>
<tr class="memitem:nanocoap_8h"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nanocoap_8h.html">nanocoap.h</a></td></tr>
<tr class="memdesc:nanocoap_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">nanocoap API <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcoap__hdr__t.html">coap_hdr_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Raw CoAP PDU header structure.  <a href="structcoap__hdr__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcoap__optpos__t.html">coap_optpos_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">CoAP option array entry.  <a href="structcoap__optpos__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">CoAP PDU parsing context structure.  <a href="structcoap__pkt__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcoap__resource__t.html">coap_resource_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type for CoAP resource entry.  <a href="structcoap__resource__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcoap__resource__subtree__t.html">coap_resource_subtree_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type for CoAP resource subtrees.  <a href="structcoap__resource__subtree__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__coap__request__ctx.html">_coap_request_ctx</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">CoAP resource request handler context.  <a href="struct__coap__request__ctx.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcoap__block1__t.html">coap_block1_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Block1 helper struct.  <a href="structcoap__block1__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcoap__block__slicer__t.html">coap_block_slicer_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Blockwise transfer helper struct.  <a href="structcoap__block__slicer__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga0c9cfbe5210cba4e35c9fbad51a88e19"><td class="memItemLeft" align="right" valign="top"><a id="ga0c9cfbe5210cba4e35c9fbad51a88e19"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#ga0c9cfbe5210cba4e35c9fbad51a88e19">COAP_FORMAT_NONE</a>&#160;&#160;&#160;(UINT16_MAX)</td></tr>
<tr class="memdesc:ga0c9cfbe5210cba4e35c9fbad51a88e19"><td class="mdescLeft">&#160;</td><td class="mdescRight">nanoCoAP-specific value to indicate no format specified <br /></td></tr>
<tr class="separator:ga0c9cfbe5210cba4e35c9fbad51a88e19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga51ef623fc5b3b479a384f74804b14bcc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#ga51ef623fc5b3b479a384f74804b14bcc">CONFIG_NANOCOAP_BLOCK_HEADER_MAX</a>&#160;&#160;&#160;(80)</td></tr>
<tr class="memdesc:ga51ef623fc5b3b479a384f74804b14bcc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum length of a CoAP header for a blockwise message.  <a href="#ga51ef623fc5b3b479a384f74804b14bcc">More...</a><br /></td></tr>
<tr class="separator:ga51ef623fc5b3b479a384f74804b14bcc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf3b7751818e477148bf210c79683ae0c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#gaf3b7751818e477148bf210c79683ae0c">NANOCOAP_RESOURCE</a>(name)&#160;&#160;&#160;<a class="el" href="xfa_8h.html#a9b3e8f506ebeefc418799a13904fec38">XFA_CONST</a>(<a class="el" href="structcoap__resource__t.html">coap_resource_t</a>, coap_resources_xfa, 0) <a class="el" href="core_2lib_2include_2macros_2utils_8h.html#a88fa737059e67b4b17ec980e5877361e">CONCAT</a>(coap_resource_, name) =</td></tr>
<tr class="memdesc:gaf3b7751818e477148bf210c79683ae0c"><td class="mdescLeft">&#160;</td><td class="mdescRight">CoAP XFA resource entry.  <a href="#gaf3b7751818e477148bf210c79683ae0c">More...</a><br /></td></tr>
<tr class="separator:gaf3b7751818e477148bf210c79683ae0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac7f7d60ad34fc0f6ce5782d376588a11"><td class="memItemLeft" align="right" valign="top"><a id="gac7f7d60ad34fc0f6ce5782d376588a11"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#gac7f7d60ad34fc0f6ce5782d376588a11">CONFIG_NANOCOAP_SERVER_WELL_KNOWN_CORE</a>&#160;&#160;&#160;!<a class="el" href="modules_8h.html#a185d252af6cac906c5bdf5a7171b85f4">IS_USED</a>(MODULE_GCOAP)</td></tr>
<tr class="memdesc:gac7f7d60ad34fc0f6ce5782d376588a11"><td class="mdescLeft">&#160;</td><td class="mdescRight">Respond to <code>/.well-known/core</code> to list all resources on the server. <br /></td></tr>
<tr class="separator:gac7f7d60ad34fc0f6ce5782d376588a11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga65ee47333edb3b0291e2f9059593efdc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#ga65ee47333edb3b0291e2f9059593efdc">COAP_WELL_KNOWN_CORE_DEFAULT_HANDLER</a></td></tr>
<tr class="memdesc:ga65ee47333edb3b0291e2f9059593efdc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resource definition for the default .well-known/core handler.  <a href="#ga65ee47333edb3b0291e2f9059593efdc">More...</a><br /></td></tr>
<tr class="separator:ga65ee47333edb3b0291e2f9059593efdc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:gaedec79122f8968eb8b04e9e9360b392a"><td class="memItemLeft" align="right" valign="top"><a id="gaedec79122f8968eb8b04e9e9360b392a"></a>
typedef struct <a class="el" href="struct__coap__request__ctx.html">_coap_request_ctx</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#gaedec79122f8968eb8b04e9e9360b392a">coap_request_ctx_t</a></td></tr>
<tr class="memdesc:gaedec79122f8968eb8b04e9e9360b392a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Forward declaration of internal CoAP resource request handler context. <br /></td></tr>
<tr class="separator:gaedec79122f8968eb8b04e9e9360b392a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8b44fbd36baf301f3bf531d1fcfadf9f"><td class="memItemLeft" align="right" valign="top">typedef ssize_t(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#ga8b44fbd36baf301f3bf531d1fcfadf9f">coap_handler_t</a>) (<a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *pkt, uint8_t *buf, size_t len, <a class="el" href="group__net__nanocoap.html#gaedec79122f8968eb8b04e9e9360b392a">coap_request_ctx_t</a> *context)</td></tr>
<tr class="memdesc:ga8b44fbd36baf301f3bf531d1fcfadf9f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resource handler type.  <a href="#ga8b44fbd36baf301f3bf531d1fcfadf9f">More...</a><br /></td></tr>
<tr class="separator:ga8b44fbd36baf301f3bf531d1fcfadf9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac1c99e4c6b4acff707d856ba0b18d590"><td class="memItemLeft" align="right" valign="top">typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#gac1c99e4c6b4acff707d856ba0b18d590">coap_blockwise_cb_t</a>) (void *arg, size_t offset, uint8_t *buf, size_t len, int more)</td></tr>
<tr class="memdesc:gac1c99e4c6b4acff707d856ba0b18d590"><td class="mdescLeft">&#160;</td><td class="mdescRight">Coap blockwise request callback descriptor.  <a href="#gac1c99e4c6b4acff707d856ba0b18d590">More...</a><br /></td></tr>
<tr class="separator:gac1c99e4c6b4acff707d856ba0b18d590"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac302c0f9ec8053b64b9b46a4dbee9092"><td class="memItemLeft" align="right" valign="top">typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#gac302c0f9ec8053b64b9b46a4dbee9092">coap_request_cb_t</a>) (void *arg, <a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *pkt)</td></tr>
<tr class="memdesc:gac302c0f9ec8053b64b9b46a4dbee9092"><td class="mdescLeft">&#160;</td><td class="mdescRight">Coap request callback descriptor.  <a href="#gac302c0f9ec8053b64b9b46a4dbee9092">More...</a><br /></td></tr>
<tr class="separator:gac302c0f9ec8053b64b9b46a4dbee9092"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga550b61f499bfec049a522ef0b26b6f8d"><td class="memItemLeft" align="right" valign="top">typedef uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#ga550b61f499bfec049a522ef0b26b6f8d">coap_method_flags_t</a></td></tr>
<tr class="memdesc:ga550b61f499bfec049a522ef0b26b6f8d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method flag type.  <a href="#ga550b61f499bfec049a522ef0b26b6f8d">More...</a><br /></td></tr>
<tr class="separator:ga550b61f499bfec049a522ef0b26b6f8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga4580738e758c95952896d59de4a06a58"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#ga4580738e758c95952896d59de4a06a58">coap_request_ctx_init</a> (<a class="el" href="group__net__nanocoap.html#gaedec79122f8968eb8b04e9e9360b392a">coap_request_ctx_t</a> *ctx, <a class="el" href="group__net__sock__udp.html#gaedc829c7973d7870c1ec078f9ffd45a1">sock_udp_ep_t</a> *remote)</td></tr>
<tr class="memdesc:ga4580738e758c95952896d59de4a06a58"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize CoAP request context.  <a href="#ga4580738e758c95952896d59de4a06a58">More...</a><br /></td></tr>
<tr class="separator:ga4580738e758c95952896d59de4a06a58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa6a22181749bab3c0bd0c396e7e52bf4"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#gaa6a22181749bab3c0bd0c396e7e52bf4">coap_request_ctx_get_path</a> (const <a class="el" href="group__net__nanocoap.html#gaedec79122f8968eb8b04e9e9360b392a">coap_request_ctx_t</a> *ctx)</td></tr>
<tr class="memdesc:gaa6a22181749bab3c0bd0c396e7e52bf4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get resource path associated with a CoAP request.  <a href="#gaa6a22181749bab3c0bd0c396e7e52bf4">More...</a><br /></td></tr>
<tr class="separator:gaa6a22181749bab3c0bd0c396e7e52bf4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacabe413a520f73982af806c5acea9d4b"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#gacabe413a520f73982af806c5acea9d4b">coap_request_ctx_get_context</a> (const <a class="el" href="group__net__nanocoap.html#gaedec79122f8968eb8b04e9e9360b392a">coap_request_ctx_t</a> *ctx)</td></tr>
<tr class="memdesc:gacabe413a520f73982af806c5acea9d4b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get resource context associated with a CoAP request.  <a href="#gacabe413a520f73982af806c5acea9d4b">More...</a><br /></td></tr>
<tr class="separator:gacabe413a520f73982af806c5acea9d4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0124319fe53d28b08400ed6e2431d78c"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#ga0124319fe53d28b08400ed6e2431d78c">coap_request_ctx_get_tl_type</a> (const <a class="el" href="group__net__nanocoap.html#gaedec79122f8968eb8b04e9e9360b392a">coap_request_ctx_t</a> *ctx)</td></tr>
<tr class="memdesc:ga0124319fe53d28b08400ed6e2431d78c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get transport the packet was received over.  <a href="#ga0124319fe53d28b08400ed6e2431d78c">More...</a><br /></td></tr>
<tr class="separator:ga0124319fe53d28b08400ed6e2431d78c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad01929c7da11c371d7beb519bc741e6b"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="group__net__sock__udp.html#gaedc829c7973d7870c1ec078f9ffd45a1">sock_udp_ep_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#gad01929c7da11c371d7beb519bc741e6b">coap_request_ctx_get_remote_udp</a> (const <a class="el" href="group__net__nanocoap.html#gaedec79122f8968eb8b04e9e9360b392a">coap_request_ctx_t</a> *ctx)</td></tr>
<tr class="memdesc:gad01929c7da11c371d7beb519bc741e6b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the remote endpoint from which the request was received.  <a href="#gad01929c7da11c371d7beb519bc741e6b">More...</a><br /></td></tr>
<tr class="separator:gad01929c7da11c371d7beb519bc741e6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab70406d17d606a327111006e15a3fabb"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="group__net__sock__udp.html#gaedc829c7973d7870c1ec078f9ffd45a1">sock_udp_ep_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#gab70406d17d606a327111006e15a3fabb">coap_request_ctx_get_local_udp</a> (const <a class="el" href="group__net__nanocoap.html#gaedec79122f8968eb8b04e9e9360b392a">coap_request_ctx_t</a> *ctx)</td></tr>
<tr class="memdesc:gab70406d17d606a327111006e15a3fabb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the local endpoint on which the request has been received.  <a href="#gab70406d17d606a327111006e15a3fabb">More...</a><br /></td></tr>
<tr class="separator:gab70406d17d606a327111006e15a3fabb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae28bbd93eeb29c208d27f233db8607e9"><td class="memItemLeft" align="right" valign="top">static ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#gae28bbd93eeb29c208d27f233db8607e9">coap_get_proxy_uri</a> (<a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *pkt, char **target)</td></tr>
<tr class="memdesc:gae28bbd93eeb29c208d27f233db8607e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convenience function for getting the packet's Proxy-Uri option.  <a href="#gae28bbd93eeb29c208d27f233db8607e9">More...</a><br /></td></tr>
<tr class="separator:gae28bbd93eeb29c208d27f233db8607e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga237fe059ae577aa1f8ca00f8a452ece7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#ga237fe059ae577aa1f8ca00f8a452ece7">coap_match_path</a> (const <a class="el" href="structcoap__resource__t.html">coap_resource_t</a> *resource, const uint8_t *uri)</td></tr>
<tr class="memdesc:ga237fe059ae577aa1f8ca00f8a452ece7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if a CoAP resource path matches a given URI.  <a href="#ga237fe059ae577aa1f8ca00f8a452ece7">More...</a><br /></td></tr>
<tr class="separator:ga237fe059ae577aa1f8ca00f8a452ece7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
nanoCoAP specific CoAP method flags used in coap_handlers array</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrpb4dca55e9d72146ab76e382b8f113886"></a><a class="anchor" id="nanocoap_method_flags"></a></p>
</td></tr>
<tr class="memitem:ga3bff44c7ecd7da720bf76215dedc41e9"><td class="memItemLeft" align="right" valign="top"><a id="ga3bff44c7ecd7da720bf76215dedc41e9"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>COAP_GET</b>&#160;&#160;&#160;(0x01)</td></tr>
<tr class="separator:ga3bff44c7ecd7da720bf76215dedc41e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacc0d3f973e6ed8ba8d8681ddb3ea382d"><td class="memItemLeft" align="right" valign="top"><a id="gacc0d3f973e6ed8ba8d8681ddb3ea382d"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>COAP_POST</b>&#160;&#160;&#160;(0x02)</td></tr>
<tr class="separator:gacc0d3f973e6ed8ba8d8681ddb3ea382d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8c808d5257ca056c56612cbac62ee79a"><td class="memItemLeft" align="right" valign="top"><a id="ga8c808d5257ca056c56612cbac62ee79a"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>COAP_PUT</b>&#160;&#160;&#160;(0x04)</td></tr>
<tr class="separator:ga8c808d5257ca056c56612cbac62ee79a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafef95b592176730cf6ce0b716678c174"><td class="memItemLeft" align="right" valign="top"><a id="gafef95b592176730cf6ce0b716678c174"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>COAP_DELETE</b>&#160;&#160;&#160;(0x08)</td></tr>
<tr class="separator:gafef95b592176730cf6ce0b716678c174"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gada66bbdadda4de63a3ddaa4328ddf0be"><td class="memItemLeft" align="right" valign="top"><a id="gada66bbdadda4de63a3ddaa4328ddf0be"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>COAP_FETCH</b>&#160;&#160;&#160;(0x10)</td></tr>
<tr class="separator:gada66bbdadda4de63a3ddaa4328ddf0be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad717fbf5f9de0df93310d4bd2a3ad16a"><td class="memItemLeft" align="right" valign="top"><a id="gad717fbf5f9de0df93310d4bd2a3ad16a"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>COAP_PATCH</b>&#160;&#160;&#160;(0x20)</td></tr>
<tr class="separator:gad717fbf5f9de0df93310d4bd2a3ad16a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9f61b453d71da69f51477b19d04307ce"><td class="memItemLeft" align="right" valign="top"><a id="ga9f61b453d71da69f51477b19d04307ce"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>COAP_IPATCH</b>&#160;&#160;&#160;(0x40)</td></tr>
<tr class="separator:ga9f61b453d71da69f51477b19d04307ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaebd224e7b0ee8ac29a675e8080ec2757"><td class="memItemLeft" align="right" valign="top"><a id="gaebd224e7b0ee8ac29a675e8080ec2757"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#gaebd224e7b0ee8ac29a675e8080ec2757">COAP_IGNORE</a>&#160;&#160;&#160;(0xFF)</td></tr>
<tr class="memdesc:gaebd224e7b0ee8ac29a675e8080ec2757"><td class="mdescLeft">&#160;</td><td class="mdescRight">For situations where the method is not important. <br /></td></tr>
<tr class="separator:gaebd224e7b0ee8ac29a675e8080ec2757"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8c87dddfffd38c7c88c32b49fad9cb26"><td class="memItemLeft" align="right" valign="top"><a id="ga8c87dddfffd38c7c88c32b49fad9cb26"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#ga8c87dddfffd38c7c88c32b49fad9cb26">COAP_MATCH_SUBTREE</a>&#160;&#160;&#160;(0x8000)</td></tr>
<tr class="memdesc:ga8c87dddfffd38c7c88c32b49fad9cb26"><td class="mdescLeft">&#160;</td><td class="mdescRight">Path is considered as a prefix when matching. <br /></td></tr>
<tr class="separator:ga8c87dddfffd38c7c88c32b49fad9cb26"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
coap_opt_finish() flag parameter values</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrpa42845c579b0aa63399ed5ae12d4e5db"></a>Directs packet/buffer updates when user finishes adding options </p>
</td></tr>
<tr class="memitem:ga88497b423bb62815a4f06345b9bd1e0f"><td class="memItemLeft" align="right" valign="top"><a id="ga88497b423bb62815a4f06345b9bd1e0f"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#ga88497b423bb62815a4f06345b9bd1e0f">COAP_OPT_FINISH_NONE</a>&#160;&#160;&#160;(0x0000)</td></tr>
<tr class="memdesc:ga88497b423bb62815a4f06345b9bd1e0f"><td class="mdescLeft">&#160;</td><td class="mdescRight">no special handling required <br /></td></tr>
<tr class="separator:ga88497b423bb62815a4f06345b9bd1e0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadd9f00151231a6abfaf1f2bb2e046c1e"><td class="memItemLeft" align="right" valign="top"><a id="gadd9f00151231a6abfaf1f2bb2e046c1e"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#gadd9f00151231a6abfaf1f2bb2e046c1e">COAP_OPT_FINISH_PAYLOAD</a>&#160;&#160;&#160;(0x0001)</td></tr>
<tr class="memdesc:gadd9f00151231a6abfaf1f2bb2e046c1e"><td class="mdescLeft">&#160;</td><td class="mdescRight">expect a payload to follow <br /></td></tr>
<tr class="separator:gadd9f00151231a6abfaf1f2bb2e046c1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Functions -- Header Read/Write</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrpaca7e03aa870cf9c4da3dcb39c260220"></a>Includes message ID, code, type, token, CoAP version </p>
</td></tr>
<tr class="memitem:ga883eb9fdd897d72115382b7844457028"><td class="memItemLeft" align="right" valign="top">static uint8_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#ga883eb9fdd897d72115382b7844457028">coap_hdr_data_ptr</a> (const <a class="el" href="structcoap__hdr__t.html">coap_hdr_t</a> *hdr)</td></tr>
<tr class="memdesc:ga883eb9fdd897d72115382b7844457028"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the start of data after the header.  <a href="#ga883eb9fdd897d72115382b7844457028">More...</a><br /></td></tr>
<tr class="separator:ga883eb9fdd897d72115382b7844457028"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga00e6b2d6d8151731e38f6cc49073b967"><td class="memItemLeft" align="right" valign="top">static size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#ga00e6b2d6d8151731e38f6cc49073b967">coap_hdr_get_token_len</a> (const <a class="el" href="structcoap__hdr__t.html">coap_hdr_t</a> *hdr)</td></tr>
<tr class="memdesc:ga00e6b2d6d8151731e38f6cc49073b967"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the token length of a CoAP over UDP (DTLS) packet.  <a href="#ga00e6b2d6d8151731e38f6cc49073b967">More...</a><br /></td></tr>
<tr class="separator:ga00e6b2d6d8151731e38f6cc49073b967"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga94e07f743241112c1952e3da8cb42a70"><td class="memItemLeft" align="right" valign="top">static const void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#ga94e07f743241112c1952e3da8cb42a70">coap_hdr_get_token</a> (const <a class="el" href="structcoap__hdr__t.html">coap_hdr_t</a> *hdr)</td></tr>
<tr class="memdesc:ga94e07f743241112c1952e3da8cb42a70"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the Token of a CoAP over UDP (DTLS) packet.  <a href="#ga94e07f743241112c1952e3da8cb42a70">More...</a><br /></td></tr>
<tr class="separator:ga94e07f743241112c1952e3da8cb42a70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2784e44fe4f406235a708b23a014659c"><td class="memItemLeft" align="right" valign="top">static uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#ga2784e44fe4f406235a708b23a014659c">coap_code</a> (unsigned cls, unsigned detail)</td></tr>
<tr class="memdesc:ga2784e44fe4f406235a708b23a014659c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Encode given code class and code detail to raw code.  <a href="#ga2784e44fe4f406235a708b23a014659c">More...</a><br /></td></tr>
<tr class="separator:ga2784e44fe4f406235a708b23a014659c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga68b2d1696412f0c2cfd8ff14c191ef56"><td class="memItemLeft" align="right" valign="top">static unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#ga68b2d1696412f0c2cfd8ff14c191ef56">coap_get_code_class</a> (const <a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *pkt)</td></tr>
<tr class="memdesc:ga68b2d1696412f0c2cfd8ff14c191ef56"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a message's code class (3 most significant bits of code)  <a href="#ga68b2d1696412f0c2cfd8ff14c191ef56">More...</a><br /></td></tr>
<tr class="separator:ga68b2d1696412f0c2cfd8ff14c191ef56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7c4d39185482dc994f974f3c7ba3237b"><td class="memItemLeft" align="right" valign="top">static unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#ga7c4d39185482dc994f974f3c7ba3237b">coap_get_code_detail</a> (const <a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *pkt)</td></tr>
<tr class="memdesc:ga7c4d39185482dc994f974f3c7ba3237b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a message's code detail (5 least significant bits of code)  <a href="#ga7c4d39185482dc994f974f3c7ba3237b">More...</a><br /></td></tr>
<tr class="separator:ga7c4d39185482dc994f974f3c7ba3237b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga984f1765e5addac1b4c6c8ba52e130a8"><td class="memItemLeft" align="right" valign="top">static unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#ga984f1765e5addac1b4c6c8ba52e130a8">coap_get_code_decimal</a> (const <a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *pkt)</td></tr>
<tr class="memdesc:ga984f1765e5addac1b4c6c8ba52e130a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a message's code in decimal format ((class * 100) + detail)  <a href="#ga984f1765e5addac1b4c6c8ba52e130a8">More...</a><br /></td></tr>
<tr class="separator:ga984f1765e5addac1b4c6c8ba52e130a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga161c545e623a38ccf479bdfa674e1f9c"><td class="memItemLeft" align="right" valign="top">static unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#ga161c545e623a38ccf479bdfa674e1f9c">coap_get_code_raw</a> (const <a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *pkt)</td></tr>
<tr class="memdesc:ga161c545e623a38ccf479bdfa674e1f9c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a message's raw code (class + detail)  <a href="#ga161c545e623a38ccf479bdfa674e1f9c">More...</a><br /></td></tr>
<tr class="separator:ga161c545e623a38ccf479bdfa674e1f9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6361047298119f8d830599878661237b"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__net__coap.html#gaf99712dec26d13b1649cc55043580645">coap_method_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#ga6361047298119f8d830599878661237b">coap_get_method</a> (const <a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *pkt)</td></tr>
<tr class="memdesc:ga6361047298119f8d830599878661237b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a request's method type.  <a href="#ga6361047298119f8d830599878661237b">More...</a><br /></td></tr>
<tr class="separator:ga6361047298119f8d830599878661237b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3218ad99f9f4b85bac8f766212ae3d23"><td class="memItemLeft" align="right" valign="top">static unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#ga3218ad99f9f4b85bac8f766212ae3d23">coap_get_id</a> (const <a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *pkt)</td></tr>
<tr class="memdesc:ga3218ad99f9f4b85bac8f766212ae3d23"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the message ID of the given CoAP packet.  <a href="#ga3218ad99f9f4b85bac8f766212ae3d23">More...</a><br /></td></tr>
<tr class="separator:ga3218ad99f9f4b85bac8f766212ae3d23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf7036d4454008277befb32b4c099f50c"><td class="memItemLeft" align="right" valign="top">static unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#gaf7036d4454008277befb32b4c099f50c">coap_get_token_len</a> (const <a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *pkt)</td></tr>
<tr class="memdesc:gaf7036d4454008277befb32b4c099f50c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a message's token length [in byte].  <a href="#gaf7036d4454008277befb32b4c099f50c">More...</a><br /></td></tr>
<tr class="separator:gaf7036d4454008277befb32b4c099f50c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf79f5135693b145a3cd835027fa22539"><td class="memItemLeft" align="right" valign="top">static void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#gaf79f5135693b145a3cd835027fa22539">coap_get_token</a> (const <a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *pkt)</td></tr>
<tr class="memdesc:gaf79f5135693b145a3cd835027fa22539"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get pointer to a message's token.  <a href="#gaf79f5135693b145a3cd835027fa22539">More...</a><br /></td></tr>
<tr class="separator:gaf79f5135693b145a3cd835027fa22539"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaea2f5d5459e56c12011ad5e8a650217f"><td class="memItemLeft" align="right" valign="top">static unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#gaea2f5d5459e56c12011ad5e8a650217f">coap_get_total_len</a> (const <a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *pkt)</td></tr>
<tr class="memdesc:gaea2f5d5459e56c12011ad5e8a650217f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the total length of a CoAP packet in the packet buffer.  <a href="#gaea2f5d5459e56c12011ad5e8a650217f">More...</a><br /></td></tr>
<tr class="separator:gaea2f5d5459e56c12011ad5e8a650217f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9608e29edaa4c14f678b9eaf651fe1f7"><td class="memItemLeft" align="right" valign="top">static unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#ga9608e29edaa4c14f678b9eaf651fe1f7">coap_get_type</a> (const <a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *pkt)</td></tr>
<tr class="memdesc:ga9608e29edaa4c14f678b9eaf651fe1f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the message type.  <a href="#ga9608e29edaa4c14f678b9eaf651fe1f7">More...</a><br /></td></tr>
<tr class="separator:ga9608e29edaa4c14f678b9eaf651fe1f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga59e7ad3df3f1d237f7cfcb9690ab1a85"><td class="memItemLeft" align="right" valign="top">static unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#ga59e7ad3df3f1d237f7cfcb9690ab1a85">coap_get_ver</a> (const <a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *pkt)</td></tr>
<tr class="memdesc:ga59e7ad3df3f1d237f7cfcb9690ab1a85"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the CoAP version number.  <a href="#ga59e7ad3df3f1d237f7cfcb9690ab1a85">More...</a><br /></td></tr>
<tr class="separator:ga59e7ad3df3f1d237f7cfcb9690ab1a85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga61e9932defc7241a5c890f20eceee53f"><td class="memItemLeft" align="right" valign="top">static uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#ga61e9932defc7241a5c890f20eceee53f">coap_hdr_tkl_ext_len</a> (const <a class="el" href="structcoap__hdr__t.html">coap_hdr_t</a> *hdr)</td></tr>
<tr class="memdesc:ga61e9932defc7241a5c890f20eceee53f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the size of the extended Token length field (RFC 8974)  <a href="#ga61e9932defc7241a5c890f20eceee53f">More...</a><br /></td></tr>
<tr class="separator:ga61e9932defc7241a5c890f20eceee53f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6691ffe5aefd5f0abe194ba2a7e482b7"><td class="memItemLeft" align="right" valign="top">static unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#ga6691ffe5aefd5f0abe194ba2a7e482b7">coap_get_total_hdr_len</a> (const <a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *pkt)</td></tr>
<tr class="memdesc:ga6691ffe5aefd5f0abe194ba2a7e482b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the total header length (4-byte header + token length)  <a href="#ga6691ffe5aefd5f0abe194ba2a7e482b7">More...</a><br /></td></tr>
<tr class="separator:ga6691ffe5aefd5f0abe194ba2a7e482b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9a73753ea88ce8355311ff9a2f5e4dc3"><td class="memItemLeft" align="right" valign="top">static unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#ga9a73753ea88ce8355311ff9a2f5e4dc3">coap_get_response_hdr_len</a> (const <a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *pkt)</td></tr>
<tr class="memdesc:ga9a73753ea88ce8355311ff9a2f5e4dc3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the header length a response to the given packet will have.  <a href="#ga9a73753ea88ce8355311ff9a2f5e4dc3">More...</a><br /></td></tr>
<tr class="separator:ga9a73753ea88ce8355311ff9a2f5e4dc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4599c179d69f1df78219c8adbb2ed2ad"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#ga4599c179d69f1df78219c8adbb2ed2ad">coap_hdr_set_code</a> (<a class="el" href="structcoap__hdr__t.html">coap_hdr_t</a> *hdr, uint8_t code)</td></tr>
<tr class="memdesc:ga4599c179d69f1df78219c8adbb2ed2ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write the given raw message code to given CoAP header.  <a href="#ga4599c179d69f1df78219c8adbb2ed2ad">More...</a><br /></td></tr>
<tr class="separator:ga4599c179d69f1df78219c8adbb2ed2ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga11152f456ea417b684ec0d66dad4fa77"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#ga11152f456ea417b684ec0d66dad4fa77">coap_pkt_set_code</a> (<a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *pkt, uint8_t code)</td></tr>
<tr class="memdesc:ga11152f456ea417b684ec0d66dad4fa77"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write the given raw message code to given CoAP pkt.  <a href="#ga11152f456ea417b684ec0d66dad4fa77">More...</a><br /></td></tr>
<tr class="separator:ga11152f456ea417b684ec0d66dad4fa77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga92058243dac042a617701aaedc58e45d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#ga92058243dac042a617701aaedc58e45d">coap_hdr_set_type</a> (<a class="el" href="structcoap__hdr__t.html">coap_hdr_t</a> *hdr, unsigned type)</td></tr>
<tr class="memdesc:ga92058243dac042a617701aaedc58e45d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the message type for the given CoAP header.  <a href="#ga92058243dac042a617701aaedc58e45d">More...</a><br /></td></tr>
<tr class="separator:ga92058243dac042a617701aaedc58e45d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1a5e7f1b647a8456cb7197270a49f0a2"><td class="memItemLeft" align="right" valign="top">static size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#ga1a5e7f1b647a8456cb7197270a49f0a2">coap_hdr_len</a> (const <a class="el" href="structcoap__hdr__t.html">coap_hdr_t</a> *hdr)</td></tr>
<tr class="memdesc:ga1a5e7f1b647a8456cb7197270a49f0a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the header length of a CoAP packet.  <a href="#ga1a5e7f1b647a8456cb7197270a49f0a2">More...</a><br /></td></tr>
<tr class="separator:ga1a5e7f1b647a8456cb7197270a49f0a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Functions -- Options Read</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrpd8aec28393083ebd28a73d0610675485"></a>Read options from a parsed packet.</p>
<p>Packets accessed through <a class="el" href="group__net__nanocoap.html#ga474d6926269d933cab20eaf7670cd30a">coap_find_option</a> or any of the <code>coap_opt_get_*</code> functions track their access in bit field created at parsing time to enable checking for critical options in <a class="el" href="group__net__nanocoap.html#ga28d1eae9dbf1ed8caaa9f9104dd623cd">coap_has_unprocessed_critical_options</a>. These functions thus have a side effect, and code that calls them on critical options needs to ensure that failure to process the accessed option is propagated into failure to process the message. For example, a server helper that tries to read the If-None-Match option (which is critical) and finds it to be longer than it can process must not return as if no If-None-Match option was present, as it has already triggered the side effect of marking the option as processed. </p>
</td></tr>
<tr class="memitem:ga474d6926269d933cab20eaf7670cd30a"><td class="memItemLeft" align="right" valign="top">uint8_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#ga474d6926269d933cab20eaf7670cd30a">coap_find_option</a> (<a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *pkt, unsigned opt_num)</td></tr>
<tr class="memdesc:ga474d6926269d933cab20eaf7670cd30a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get pointer to an option field by type.  <a href="#ga474d6926269d933cab20eaf7670cd30a">More...</a><br /></td></tr>
<tr class="separator:ga474d6926269d933cab20eaf7670cd30a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga01ebc5bcf92819aefc86eb01ccf5f152"><td class="memItemLeft" align="right" valign="top">uint8_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#ga01ebc5bcf92819aefc86eb01ccf5f152">coap_iterate_option</a> (<a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *pkt, unsigned opt_num, uint8_t **opt_pos, int *opt_len)</td></tr>
<tr class="memdesc:ga01ebc5bcf92819aefc86eb01ccf5f152"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get pointer to an option field, can be called in a loop if there are multiple options with the same number.  <a href="#ga01ebc5bcf92819aefc86eb01ccf5f152">More...</a><br /></td></tr>
<tr class="separator:ga01ebc5bcf92819aefc86eb01ccf5f152"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadfbb9dbf3fb3942898f14d8e2a6f724b"><td class="memItemLeft" align="right" valign="top">unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#gadfbb9dbf3fb3942898f14d8e2a6f724b">coap_get_content_type</a> (<a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *pkt)</td></tr>
<tr class="memdesc:gadfbb9dbf3fb3942898f14d8e2a6f724b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get content type from packet.  <a href="#gadfbb9dbf3fb3942898f14d8e2a6f724b">More...</a><br /></td></tr>
<tr class="separator:gadfbb9dbf3fb3942898f14d8e2a6f724b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga535c45deb987c277f30aa8bc934d83ad"><td class="memItemLeft" align="right" valign="top">unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#ga535c45deb987c277f30aa8bc934d83ad">coap_get_accept</a> (<a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *pkt)</td></tr>
<tr class="memdesc:ga535c45deb987c277f30aa8bc934d83ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the Accept option value from a packet if present.  <a href="#ga535c45deb987c277f30aa8bc934d83ad">More...</a><br /></td></tr>
<tr class="separator:ga535c45deb987c277f30aa8bc934d83ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4cbc9a753f42af030699668332ace4f9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#ga4cbc9a753f42af030699668332ace4f9">coap_opt_get_uint</a> (<a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *pkt, uint16_t optnum, uint32_t *value)</td></tr>
<tr class="memdesc:ga4cbc9a753f42af030699668332ace4f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a uint32 option value.  <a href="#ga4cbc9a753f42af030699668332ace4f9">More...</a><br /></td></tr>
<tr class="separator:ga4cbc9a753f42af030699668332ace4f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga392f39ba90e17bd5d22f13cbcb0e1eb6"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#ga392f39ba90e17bd5d22f13cbcb0e1eb6">coap_opt_get_string</a> (<a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *pkt, uint16_t optnum, uint8_t *target, size_t max_len, char separator)</td></tr>
<tr class="memdesc:ga392f39ba90e17bd5d22f13cbcb0e1eb6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read a full option as null terminated string into the target buffer.  <a href="#ga392f39ba90e17bd5d22f13cbcb0e1eb6">More...</a><br /></td></tr>
<tr class="separator:ga392f39ba90e17bd5d22f13cbcb0e1eb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga73750beae3d726b6cffc4529f7596b49"><td class="memItemLeft" align="right" valign="top">static ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#ga73750beae3d726b6cffc4529f7596b49">coap_get_location_path</a> (<a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *pkt, uint8_t *target, size_t max_len)</td></tr>
<tr class="memdesc:ga73750beae3d726b6cffc4529f7596b49"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convenience function for getting the packet's LOCATION_PATH option.  <a href="#ga73750beae3d726b6cffc4529f7596b49">More...</a><br /></td></tr>
<tr class="separator:ga73750beae3d726b6cffc4529f7596b49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga35762cfac6776bb838b860a31a2bcfa9"><td class="memItemLeft" align="right" valign="top">static ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#ga35762cfac6776bb838b860a31a2bcfa9">coap_get_location_query</a> (<a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *pkt, uint8_t *target, size_t max_len)</td></tr>
<tr class="memdesc:ga35762cfac6776bb838b860a31a2bcfa9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convenience function for getting the packet's LOCATION_QUERY option.  <a href="#ga35762cfac6776bb838b860a31a2bcfa9">More...</a><br /></td></tr>
<tr class="separator:ga35762cfac6776bb838b860a31a2bcfa9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae2a279b1d4c567512c0337a069f288da"><td class="memItemLeft" align="right" valign="top">static ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#gae2a279b1d4c567512c0337a069f288da">coap_get_uri_path</a> (<a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *pkt, uint8_t *target)</td></tr>
<tr class="memdesc:gae2a279b1d4c567512c0337a069f288da"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convenience function for getting the packet's URI_PATH.  <a href="#gae2a279b1d4c567512c0337a069f288da">More...</a><br /></td></tr>
<tr class="separator:gae2a279b1d4c567512c0337a069f288da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2cd2b4bad338d8ff1724c286ae3c9844"><td class="memItemLeft" align="right" valign="top">static ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#ga2cd2b4bad338d8ff1724c286ae3c9844">coap_get_uri_query_string</a> (<a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *pkt, char *target, size_t max_len)</td></tr>
<tr class="memdesc:ga2cd2b4bad338d8ff1724c286ae3c9844"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convenience function for getting the packet's URI_QUERY option.  <a href="#ga2cd2b4bad338d8ff1724c286ae3c9844">More...</a><br /></td></tr>
<tr class="separator:ga2cd2b4bad338d8ff1724c286ae3c9844"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9344e22658cb00a9b876614001f7b40a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#ga9344e22658cb00a9b876614001f7b40a">coap_find_uri_query</a> (<a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *pkt, const char *key, const char **value, size_t *len)</td></tr>
<tr class="memdesc:ga9344e22658cb00a9b876614001f7b40a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find a URI query option of the packet.  <a href="#ga9344e22658cb00a9b876614001f7b40a">More...</a><br /></td></tr>
<tr class="separator:ga9344e22658cb00a9b876614001f7b40a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5b206b209fb25b1c94b4375bd3a9bdff"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#ga5b206b209fb25b1c94b4375bd3a9bdff">coap_opt_get_next</a> (const <a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *pkt, <a class="el" href="structcoap__optpos__t.html">coap_optpos_t</a> *opt, uint8_t **value, bool init_opt)</td></tr>
<tr class="memdesc:ga5b206b209fb25b1c94b4375bd3a9bdff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Iterate over a packet's options.  <a href="#ga5b206b209fb25b1c94b4375bd3a9bdff">More...</a><br /></td></tr>
<tr class="separator:ga5b206b209fb25b1c94b4375bd3a9bdff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9b67d4d09299043cbb3194ffaad4da6b"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#ga9b67d4d09299043cbb3194ffaad4da6b">coap_opt_get_opaque</a> (<a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *pkt, unsigned opt_num, uint8_t **value)</td></tr>
<tr class="memdesc:ga9b67d4d09299043cbb3194ffaad4da6b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the value for an option as an opaque array of bytes.  <a href="#ga9b67d4d09299043cbb3194ffaad4da6b">More...</a><br /></td></tr>
<tr class="separator:ga9b67d4d09299043cbb3194ffaad4da6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Functions -- Options for Block</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrpde34987cdef263cf4cde7a785e4f8f95"></a>Read Block1 (POST/PUT request) or Block2 (GET response) options, and generally useful functions to write block options. </p>
</td></tr>
<tr class="memitem:gadabe7197cbe80bf17fea0ecf5ee9bf56"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#gadabe7197cbe80bf17fea0ecf5ee9bf56">coap_block_object_init</a> (<a class="el" href="structcoap__block1__t.html">coap_block1_t</a> *block, size_t blknum, size_t blksize, int more)</td></tr>
<tr class="memdesc:gadabe7197cbe80bf17fea0ecf5ee9bf56"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize a block struct from content information.  <a href="#gadabe7197cbe80bf17fea0ecf5ee9bf56">More...</a><br /></td></tr>
<tr class="separator:gadabe7197cbe80bf17fea0ecf5ee9bf56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga75706e41843941300fbd61bf181cb3fb"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#ga75706e41843941300fbd61bf181cb3fb">coap_block_finish</a> (<a class="el" href="structcoap__block__slicer__t.html">coap_block_slicer_t</a> *slicer, uint16_t option)</td></tr>
<tr class="memdesc:ga75706e41843941300fbd61bf181cb3fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finish a block request (block1 or block2)  <a href="#ga75706e41843941300fbd61bf181cb3fb">More...</a><br /></td></tr>
<tr class="separator:ga75706e41843941300fbd61bf181cb3fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab424b844874f0bc98190100fb748909e"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#gab424b844874f0bc98190100fb748909e">coap_block1_finish</a> (<a class="el" href="structcoap__block__slicer__t.html">coap_block_slicer_t</a> *slicer)</td></tr>
<tr class="memdesc:gab424b844874f0bc98190100fb748909e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finish a block1 request.  <a href="#gab424b844874f0bc98190100fb748909e">More...</a><br /></td></tr>
<tr class="separator:gab424b844874f0bc98190100fb748909e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5d839eb2b07582ff50afb988d2e6e8c1"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#ga5d839eb2b07582ff50afb988d2e6e8c1">coap_block2_finish</a> (<a class="el" href="structcoap__block__slicer__t.html">coap_block_slicer_t</a> *slicer)</td></tr>
<tr class="memdesc:ga5d839eb2b07582ff50afb988d2e6e8c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finish a block2 response.  <a href="#ga5d839eb2b07582ff50afb988d2e6e8c1">More...</a><br /></td></tr>
<tr class="separator:ga5d839eb2b07582ff50afb988d2e6e8c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga847153f464dc80f7f015d3ccbceb71c4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#ga847153f464dc80f7f015d3ccbceb71c4">coap_block2_init</a> (<a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *pkt, <a class="el" href="structcoap__block__slicer__t.html">coap_block_slicer_t</a> *slicer)</td></tr>
<tr class="memdesc:ga847153f464dc80f7f015d3ccbceb71c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize a block2 slicer struct for writing the payload.  <a href="#ga847153f464dc80f7f015d3ccbceb71c4">More...</a><br /></td></tr>
<tr class="separator:ga847153f464dc80f7f015d3ccbceb71c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga72043847cf561f5f6e926cf4323bbd66"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#ga72043847cf561f5f6e926cf4323bbd66">coap_block_slicer_init</a> (<a class="el" href="structcoap__block__slicer__t.html">coap_block_slicer_t</a> *slicer, size_t blknum, size_t blksize)</td></tr>
<tr class="memdesc:ga72043847cf561f5f6e926cf4323bbd66"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize a block slicer struct from content information.  <a href="#ga72043847cf561f5f6e926cf4323bbd66">More...</a><br /></td></tr>
<tr class="separator:ga72043847cf561f5f6e926cf4323bbd66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5e26bac506c6c981cfb10ac70beb2a40"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#ga5e26bac506c6c981cfb10ac70beb2a40">coap_blockwise_put_bytes</a> (<a class="el" href="structcoap__block__slicer__t.html">coap_block_slicer_t</a> *slicer, uint8_t *bufpos, const void *c, size_t len)</td></tr>
<tr class="memdesc:ga5e26bac506c6c981cfb10ac70beb2a40"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a byte array to a block2 reply.  <a href="#ga5e26bac506c6c981cfb10ac70beb2a40">More...</a><br /></td></tr>
<tr class="separator:ga5e26bac506c6c981cfb10ac70beb2a40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaad9ed5ad883e88916ec179a24bba9ee5"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#gaad9ed5ad883e88916ec179a24bba9ee5">coap_blockwise_put_char</a> (<a class="el" href="structcoap__block__slicer__t.html">coap_block_slicer_t</a> *slicer, uint8_t *bufpos, char c)</td></tr>
<tr class="memdesc:gaad9ed5ad883e88916ec179a24bba9ee5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a single character to a block2 reply.  <a href="#gaad9ed5ad883e88916ec179a24bba9ee5">More...</a><br /></td></tr>
<tr class="separator:gaad9ed5ad883e88916ec179a24bba9ee5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga56868ccb1ccf7721d5f1319ad707d1e8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#ga56868ccb1ccf7721d5f1319ad707d1e8">coap_get_block</a> (<a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *pkt, <a class="el" href="structcoap__block1__t.html">coap_block1_t</a> *block, uint16_t option)</td></tr>
<tr class="memdesc:ga56868ccb1ccf7721d5f1319ad707d1e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Block option getter.  <a href="#ga56868ccb1ccf7721d5f1319ad707d1e8">More...</a><br /></td></tr>
<tr class="separator:ga56868ccb1ccf7721d5f1319ad707d1e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga843ab80385da82c6c56a7221dd9ffa68"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#ga843ab80385da82c6c56a7221dd9ffa68">coap_get_block1</a> (<a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *pkt, <a class="el" href="structcoap__block1__t.html">coap_block1_t</a> *block)</td></tr>
<tr class="memdesc:ga843ab80385da82c6c56a7221dd9ffa68"><td class="mdescLeft">&#160;</td><td class="mdescRight">Block1 option getter.  <a href="#ga843ab80385da82c6c56a7221dd9ffa68">More...</a><br /></td></tr>
<tr class="separator:ga843ab80385da82c6c56a7221dd9ffa68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga68deff4fe341e495eb8c3449e5118c82"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#ga68deff4fe341e495eb8c3449e5118c82">coap_get_block2</a> (<a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *pkt, <a class="el" href="structcoap__block1__t.html">coap_block1_t</a> *block)</td></tr>
<tr class="memdesc:ga68deff4fe341e495eb8c3449e5118c82"><td class="mdescLeft">&#160;</td><td class="mdescRight">Block2 option getter.  <a href="#ga68deff4fe341e495eb8c3449e5118c82">More...</a><br /></td></tr>
<tr class="separator:ga68deff4fe341e495eb8c3449e5118c82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaab9c2003acb8aee43f11e1c85bbd9d77"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#gaab9c2003acb8aee43f11e1c85bbd9d77">coap_get_blockopt</a> (<a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *pkt, uint16_t option, uint32_t *blknum, uint8_t *szx)</td></tr>
<tr class="memdesc:gaab9c2003acb8aee43f11e1c85bbd9d77"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generic block option getter.  <a href="#gaab9c2003acb8aee43f11e1c85bbd9d77">More...</a><br /></td></tr>
<tr class="separator:gaab9c2003acb8aee43f11e1c85bbd9d77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga28d1eae9dbf1ed8caaa9f9104dd623cd"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#ga28d1eae9dbf1ed8caaa9f9104dd623cd">coap_has_unprocessed_critical_options</a> (const <a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *pkt)</td></tr>
<tr class="memdesc:ga28d1eae9dbf1ed8caaa9f9104dd623cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check whether any of the packet's options that are critical.  <a href="#ga28d1eae9dbf1ed8caaa9f9104dd623cd">More...</a><br /></td></tr>
<tr class="separator:ga28d1eae9dbf1ed8caaa9f9104dd623cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac26ac04555b98a1d7b7ededdd00a3a0e"><td class="memItemLeft" align="right" valign="top">static unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#gac26ac04555b98a1d7b7ededdd00a3a0e">coap_size2szx</a> (unsigned len)</td></tr>
<tr class="memdesc:gac26ac04555b98a1d7b7ededdd00a3a0e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper to encode byte size into next equal or smaller SZX value.  <a href="#gac26ac04555b98a1d7b7ededdd00a3a0e">More...</a><br /></td></tr>
<tr class="separator:gac26ac04555b98a1d7b7ededdd00a3a0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga990f13bc60e75847019003a6b4492e9f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#ga990f13bc60e75847019003a6b4492e9f">coap_szx2size</a>(szx)&#160;&#160;&#160;(1U &lt;&lt; ((szx) + 4))</td></tr>
<tr class="memdesc:ga990f13bc60e75847019003a6b4492e9f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper to decode SZX value to size in bytes.  <a href="#ga990f13bc60e75847019003a6b4492e9f">More...</a><br /></td></tr>
<tr class="separator:ga990f13bc60e75847019003a6b4492e9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Functions -- Options Write Packet API</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrp49f39e5d7e0bd344bb3d5129d6389e33"></a><a class="anchor" id="net_nanocoap_opt_add"></a> Use a <a class="el" href="structcoap__pkt__t.html" title="CoAP PDU parsing context structure. ">coap_pkt_t</a> struct to manage writing Options to the PDU.</p>
<p>The caller must monitor space remaining in the buffer; however, the API <em>will not</em> write past the end of the buffer, and returns -ENOSPC when it is full. </p>
</td></tr>
<tr class="memitem:gacdc06ed00c22f302a6b7915d49eb052f"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#gacdc06ed00c22f302a6b7915d49eb052f">coap_opt_add_block</a> (<a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *pkt, <a class="el" href="structcoap__block__slicer__t.html">coap_block_slicer_t</a> *slicer, bool more, uint16_t option)</td></tr>
<tr class="memdesc:gacdc06ed00c22f302a6b7915d49eb052f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add block option in descriptive use from a slicer object.  <a href="#gacdc06ed00c22f302a6b7915d49eb052f">More...</a><br /></td></tr>
<tr class="separator:gacdc06ed00c22f302a6b7915d49eb052f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf123a387066d0c2cef1548747c72f990"><td class="memItemLeft" align="right" valign="top">static ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#gaf123a387066d0c2cef1548747c72f990">coap_opt_add_block1</a> (<a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *pkt, <a class="el" href="structcoap__block__slicer__t.html">coap_block_slicer_t</a> *slicer, bool more)</td></tr>
<tr class="memdesc:gaf123a387066d0c2cef1548747c72f990"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add block1 option in descriptive use from a slicer object.  <a href="#gaf123a387066d0c2cef1548747c72f990">More...</a><br /></td></tr>
<tr class="separator:gaf123a387066d0c2cef1548747c72f990"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga15b410e6d2de7e20b3017b3961a6a15a"><td class="memItemLeft" align="right" valign="top">static ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#ga15b410e6d2de7e20b3017b3961a6a15a">coap_opt_add_block2</a> (<a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *pkt, <a class="el" href="structcoap__block__slicer__t.html">coap_block_slicer_t</a> *slicer, bool more)</td></tr>
<tr class="memdesc:ga15b410e6d2de7e20b3017b3961a6a15a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add block2 option in descriptive use from a slicer object.  <a href="#ga15b410e6d2de7e20b3017b3961a6a15a">More...</a><br /></td></tr>
<tr class="separator:ga15b410e6d2de7e20b3017b3961a6a15a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaea2005a7729753df4c2725e098f12a80"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#gaea2005a7729753df4c2725e098f12a80">coap_opt_add_uint</a> (<a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *pkt, uint16_t optnum, uint32_t value)</td></tr>
<tr class="memdesc:gaea2005a7729753df4c2725e098f12a80"><td class="mdescLeft">&#160;</td><td class="mdescRight">Encode the given uint option into pkt.  <a href="#gaea2005a7729753df4c2725e098f12a80">More...</a><br /></td></tr>
<tr class="separator:gaea2005a7729753df4c2725e098f12a80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf529432ec861b1ed971a6ebe392b5136"><td class="memItemLeft" align="right" valign="top">static ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#gaf529432ec861b1ed971a6ebe392b5136">coap_opt_add_block1_control</a> (<a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *pkt, <a class="el" href="structcoap__block1__t.html">coap_block1_t</a> *block)</td></tr>
<tr class="memdesc:gaf529432ec861b1ed971a6ebe392b5136"><td class="mdescLeft">&#160;</td><td class="mdescRight">Encode the given block1 option in control use.  <a href="#gaf529432ec861b1ed971a6ebe392b5136">More...</a><br /></td></tr>
<tr class="separator:gaf529432ec861b1ed971a6ebe392b5136"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga955e0dcf39e6b42201cfe110cd1ee605"><td class="memItemLeft" align="right" valign="top">static ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#ga955e0dcf39e6b42201cfe110cd1ee605">coap_opt_add_block2_control</a> (<a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *pkt, <a class="el" href="structcoap__block1__t.html">coap_block1_t</a> *block)</td></tr>
<tr class="memdesc:ga955e0dcf39e6b42201cfe110cd1ee605"><td class="mdescLeft">&#160;</td><td class="mdescRight">Encode the given block2 option in control use.  <a href="#ga955e0dcf39e6b42201cfe110cd1ee605">More...</a><br /></td></tr>
<tr class="separator:ga955e0dcf39e6b42201cfe110cd1ee605"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga390a9a5589cb49d7d1f2ef74caf8b062"><td class="memItemLeft" align="right" valign="top">static ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#ga390a9a5589cb49d7d1f2ef74caf8b062">coap_opt_add_accept</a> (<a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *pkt, uint16_t format)</td></tr>
<tr class="memdesc:ga390a9a5589cb49d7d1f2ef74caf8b062"><td class="mdescLeft">&#160;</td><td class="mdescRight">Append an Accept option to the pkt buffer.  <a href="#ga390a9a5589cb49d7d1f2ef74caf8b062">More...</a><br /></td></tr>
<tr class="separator:ga390a9a5589cb49d7d1f2ef74caf8b062"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga23be123d046524b6b1269e26fb3150e0"><td class="memItemLeft" align="right" valign="top">static ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#ga23be123d046524b6b1269e26fb3150e0">coap_opt_add_format</a> (<a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *pkt, uint16_t format)</td></tr>
<tr class="memdesc:ga23be123d046524b6b1269e26fb3150e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Append a Content-Format option to the pkt buffer.  <a href="#ga23be123d046524b6b1269e26fb3150e0">More...</a><br /></td></tr>
<tr class="separator:ga23be123d046524b6b1269e26fb3150e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa4718e0f66039d960756815a8eafdab6"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#gaa4718e0f66039d960756815a8eafdab6">coap_opt_add_opaque</a> (<a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *pkt, uint16_t optnum, const void *val, size_t val_len)</td></tr>
<tr class="memdesc:gaa4718e0f66039d960756815a8eafdab6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Encode the given buffer as an opaque data option into pkt.  <a href="#gaa4718e0f66039d960756815a8eafdab6">More...</a><br /></td></tr>
<tr class="separator:gaa4718e0f66039d960756815a8eafdab6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafb97506fa0fd76a3631bf8037157824f"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#gafb97506fa0fd76a3631bf8037157824f">coap_opt_add_uri_query2</a> (<a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *pkt, const char *key, size_t key_len, const char *val, size_t val_len)</td></tr>
<tr class="memdesc:gafb97506fa0fd76a3631bf8037157824f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a single Uri-Query option in the form 'key=value' into pkt.  <a href="#gafb97506fa0fd76a3631bf8037157824f">More...</a><br /></td></tr>
<tr class="separator:gafb97506fa0fd76a3631bf8037157824f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga05535cd5dff6273ca1dab93844d73b54"><td class="memItemLeft" align="right" valign="top">static ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#ga05535cd5dff6273ca1dab93844d73b54">coap_opt_add_uri_query</a> (<a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *pkt, const char *key, const char *val)</td></tr>
<tr class="memdesc:ga05535cd5dff6273ca1dab93844d73b54"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a single Uri-Query option in the form 'key=value' into pkt.  <a href="#ga05535cd5dff6273ca1dab93844d73b54">More...</a><br /></td></tr>
<tr class="separator:ga05535cd5dff6273ca1dab93844d73b54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabe53a821876c7cbca41eb7df4a109af1"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#gabe53a821876c7cbca41eb7df4a109af1">coap_opt_add_proxy_uri</a> (<a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *pkt, const char *uri)</td></tr>
<tr class="memdesc:gabe53a821876c7cbca41eb7df4a109af1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a single Proxy-URI option into <code>pkt</code>.  <a href="#gabe53a821876c7cbca41eb7df4a109af1">More...</a><br /></td></tr>
<tr class="separator:gabe53a821876c7cbca41eb7df4a109af1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadadbdc1805c58d4e00df9681a789c430"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#gadadbdc1805c58d4e00df9681a789c430">coap_opt_add_chars</a> (<a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *pkt, uint16_t optnum, const char *chars, size_t chars_len, char separator)</td></tr>
<tr class="memdesc:gadadbdc1805c58d4e00df9681a789c430"><td class="mdescLeft">&#160;</td><td class="mdescRight">Encode the given array of characters as option(s) into pkt.  <a href="#gadadbdc1805c58d4e00df9681a789c430">More...</a><br /></td></tr>
<tr class="separator:gadadbdc1805c58d4e00df9681a789c430"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga74e2c4542cc77468f43a14efa41ca27c"><td class="memItemLeft" align="right" valign="top">static ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#ga74e2c4542cc77468f43a14efa41ca27c">coap_opt_add_string</a> (<a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *pkt, uint16_t optnum, const char *string, char separator)</td></tr>
<tr class="memdesc:ga74e2c4542cc77468f43a14efa41ca27c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Encode the given string as option(s) into pkt.  <a href="#ga74e2c4542cc77468f43a14efa41ca27c">More...</a><br /></td></tr>
<tr class="separator:ga74e2c4542cc77468f43a14efa41ca27c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2cb5b1334087b1d542595600ba0197d5"><td class="memItemLeft" align="right" valign="top">static ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#ga2cb5b1334087b1d542595600ba0197d5">coap_opt_add_uri_path</a> (<a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *pkt, const char *path)</td></tr>
<tr class="memdesc:ga2cb5b1334087b1d542595600ba0197d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds one or multiple Uri-Path options in the form '/path' into pkt.  <a href="#ga2cb5b1334087b1d542595600ba0197d5">More...</a><br /></td></tr>
<tr class="separator:ga2cb5b1334087b1d542595600ba0197d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa59adce73127513c17ca99312d96f3c5"><td class="memItemLeft" align="right" valign="top">static ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#gaa59adce73127513c17ca99312d96f3c5">coap_opt_add_uri_path_buffer</a> (<a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *pkt, const char *path, size_t path_len)</td></tr>
<tr class="memdesc:gaa59adce73127513c17ca99312d96f3c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds one or multiple Uri-Path options in the form '/path' into pkt.  <a href="#gaa59adce73127513c17ca99312d96f3c5">More...</a><br /></td></tr>
<tr class="separator:gaa59adce73127513c17ca99312d96f3c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf94c66182f7412d256c32c66d1d7a012"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#gaf94c66182f7412d256c32c66d1d7a012">coap_opt_finish</a> (<a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *pkt, uint16_t flags)</td></tr>
<tr class="memdesc:gaf94c66182f7412d256c32c66d1d7a012"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finalizes options as required and prepares for payload.  <a href="#gaf94c66182f7412d256c32c66d1d7a012">More...</a><br /></td></tr>
<tr class="separator:gaf94c66182f7412d256c32c66d1d7a012"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadec4dd6f9ab2fdc45c73cc8774255b54"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#gadec4dd6f9ab2fdc45c73cc8774255b54">coap_opt_remove</a> (<a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *pkt, uint16_t optnum)</td></tr>
<tr class="memdesc:gadec4dd6f9ab2fdc45c73cc8774255b54"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes an option previously added with function in <a class="el" href="group__net__nanocoap.html#net_nanocoap_opt_add">the coap_opt_add_...() group</a>.  <a href="#gadec4dd6f9ab2fdc45c73cc8774255b54">More...</a><br /></td></tr>
<tr class="separator:gadec4dd6f9ab2fdc45c73cc8774255b54"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Functions -- Options Write Buffer API</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrp92600b5e715bd13dee0dbea615fa62ad"></a>Write PDU Options directly to the array of bytes for a message.</p>
<p>The caller must provide the last option number written as well as the buffer position. The caller is primarily responsible for tracking and managing the space remaining in the buffer. </p>
</td></tr>
<tr class="memitem:ga13ca1b67c40bbce7e8c4c9549a91486d"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#ga13ca1b67c40bbce7e8c4c9549a91486d">coap_opt_put_block</a> (uint8_t *buf, uint16_t lastonum, <a class="el" href="structcoap__block__slicer__t.html">coap_block_slicer_t</a> *slicer, bool more, uint16_t option)</td></tr>
<tr class="memdesc:ga13ca1b67c40bbce7e8c4c9549a91486d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Insert block option into buffer.  <a href="#ga13ca1b67c40bbce7e8c4c9549a91486d">More...</a><br /></td></tr>
<tr class="separator:ga13ca1b67c40bbce7e8c4c9549a91486d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga23b4e612b7778c07484fb37463c6c46c"><td class="memItemLeft" align="right" valign="top">static size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#ga23b4e612b7778c07484fb37463c6c46c">coap_opt_put_block1</a> (uint8_t *buf, uint16_t lastonum, <a class="el" href="structcoap__block__slicer__t.html">coap_block_slicer_t</a> *slicer, bool more)</td></tr>
<tr class="memdesc:ga23b4e612b7778c07484fb37463c6c46c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Insert block1 option into buffer.  <a href="#ga23b4e612b7778c07484fb37463c6c46c">More...</a><br /></td></tr>
<tr class="separator:ga23b4e612b7778c07484fb37463c6c46c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5bfad86a61eb99c3727ae624c6e2594f"><td class="memItemLeft" align="right" valign="top">static size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#ga5bfad86a61eb99c3727ae624c6e2594f">coap_opt_put_block2</a> (uint8_t *buf, uint16_t lastonum, <a class="el" href="structcoap__block__slicer__t.html">coap_block_slicer_t</a> *slicer, bool more)</td></tr>
<tr class="memdesc:ga5bfad86a61eb99c3727ae624c6e2594f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Insert block2 option into buffer.  <a href="#ga5bfad86a61eb99c3727ae624c6e2594f">More...</a><br /></td></tr>
<tr class="separator:ga5bfad86a61eb99c3727ae624c6e2594f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga41a222e47483a384f685a9ac7f840151"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#ga41a222e47483a384f685a9ac7f840151">coap_opt_put_uint</a> (uint8_t *buf, uint16_t lastonum, uint16_t onum, uint32_t value)</td></tr>
<tr class="memdesc:ga41a222e47483a384f685a9ac7f840151"><td class="mdescLeft">&#160;</td><td class="mdescRight">Encode the given uint option into buffer.  <a href="#ga41a222e47483a384f685a9ac7f840151">More...</a><br /></td></tr>
<tr class="separator:ga41a222e47483a384f685a9ac7f840151"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac3ba3c537ce0edb4115b0203d57afb3a"><td class="memItemLeft" align="right" valign="top">static size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#gac3ba3c537ce0edb4115b0203d57afb3a">coap_opt_put_block1_control</a> (uint8_t *buf, uint16_t lastonum, <a class="el" href="structcoap__block1__t.html">coap_block1_t</a> *block)</td></tr>
<tr class="memdesc:gac3ba3c537ce0edb4115b0203d57afb3a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Insert block1 option into buffer in control usage.  <a href="#gac3ba3c537ce0edb4115b0203d57afb3a">More...</a><br /></td></tr>
<tr class="separator:gac3ba3c537ce0edb4115b0203d57afb3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga14bb5cc27fb33ff8abca2d63484b1f10"><td class="memItemLeft" align="right" valign="top">static size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#ga14bb5cc27fb33ff8abca2d63484b1f10">coap_opt_put_block2_control</a> (uint8_t *buf, uint16_t lastonum, <a class="el" href="structcoap__block1__t.html">coap_block1_t</a> *block)</td></tr>
<tr class="memdesc:ga14bb5cc27fb33ff8abca2d63484b1f10"><td class="mdescLeft">&#160;</td><td class="mdescRight">Insert block2 option into buffer in control usage.  <a href="#ga14bb5cc27fb33ff8abca2d63484b1f10">More...</a><br /></td></tr>
<tr class="separator:ga14bb5cc27fb33ff8abca2d63484b1f10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5c77cfc860255817a49fdaf5f347b46a"><td class="memItemLeft" align="right" valign="top">static size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#ga5c77cfc860255817a49fdaf5f347b46a">coap_opt_put_observe</a> (uint8_t *buf, uint16_t lastonum, uint32_t obs)</td></tr>
<tr class="memdesc:ga5c77cfc860255817a49fdaf5f347b46a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Insert an CoAP Observe Option into the buffer.  <a href="#ga5c77cfc860255817a49fdaf5f347b46a">More...</a><br /></td></tr>
<tr class="separator:ga5c77cfc860255817a49fdaf5f347b46a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga741a95660a6966aceb8be4f9e916feda"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#ga741a95660a6966aceb8be4f9e916feda">coap_opt_put_string_with_len</a> (uint8_t *buf, uint16_t lastonum, uint16_t optnum, const char *string, size_t len, char separator)</td></tr>
<tr class="memdesc:ga741a95660a6966aceb8be4f9e916feda"><td class="mdescLeft">&#160;</td><td class="mdescRight">Encode the given string as multi-part option into buffer.  <a href="#ga741a95660a6966aceb8be4f9e916feda">More...</a><br /></td></tr>
<tr class="separator:ga741a95660a6966aceb8be4f9e916feda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5468845659236294d6c9d9e257d44f27"><td class="memItemLeft" align="right" valign="top">static size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#ga5468845659236294d6c9d9e257d44f27">coap_opt_put_string</a> (uint8_t *buf, uint16_t lastonum, uint16_t optnum, const char *string, char separator)</td></tr>
<tr class="memdesc:ga5468845659236294d6c9d9e257d44f27"><td class="mdescLeft">&#160;</td><td class="mdescRight">Encode the given string as multi-part option into buffer.  <a href="#ga5468845659236294d6c9d9e257d44f27">More...</a><br /></td></tr>
<tr class="separator:ga5468845659236294d6c9d9e257d44f27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaae6f2f667008af2ca2f5848fc60180d8"><td class="memItemLeft" align="right" valign="top">static size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#gaae6f2f667008af2ca2f5848fc60180d8">coap_opt_put_location_path</a> (uint8_t *buf, uint16_t lastonum, const char *location)</td></tr>
<tr class="memdesc:gaae6f2f667008af2ca2f5848fc60180d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convenience function for inserting LOCATION_PATH option into buffer.  <a href="#gaae6f2f667008af2ca2f5848fc60180d8">More...</a><br /></td></tr>
<tr class="separator:gaae6f2f667008af2ca2f5848fc60180d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa92fbf12cb1c506927dfef813d37e10f"><td class="memItemLeft" align="right" valign="top">static size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#gaa92fbf12cb1c506927dfef813d37e10f">coap_opt_put_location_query</a> (uint8_t *buf, uint16_t lastonum, const char *location)</td></tr>
<tr class="memdesc:gaa92fbf12cb1c506927dfef813d37e10f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convenience function for inserting LOCATION_QUERY option into buffer.  <a href="#gaa92fbf12cb1c506927dfef813d37e10f">More...</a><br /></td></tr>
<tr class="separator:gaa92fbf12cb1c506927dfef813d37e10f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga35df8ea7b9c63c2e4b3f718931d6bbab"><td class="memItemLeft" align="right" valign="top">static size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#ga35df8ea7b9c63c2e4b3f718931d6bbab">coap_opt_put_uri_path</a> (uint8_t *buf, uint16_t lastonum, const char *uri)</td></tr>
<tr class="memdesc:ga35df8ea7b9c63c2e4b3f718931d6bbab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convenience function for inserting URI_PATH option into buffer.  <a href="#ga35df8ea7b9c63c2e4b3f718931d6bbab">More...</a><br /></td></tr>
<tr class="separator:ga35df8ea7b9c63c2e4b3f718931d6bbab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1348542be4ac0616a522171f61c9d8c7"><td class="memItemLeft" align="right" valign="top">static size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#ga1348542be4ac0616a522171f61c9d8c7">coap_opt_put_uri_query</a> (uint8_t *buf, uint16_t lastonum, const char *uri)</td></tr>
<tr class="memdesc:ga1348542be4ac0616a522171f61c9d8c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convenience function for inserting URI_QUERY option into buffer.  <a href="#ga1348542be4ac0616a522171f61c9d8c7">More...</a><br /></td></tr>
<tr class="separator:ga1348542be4ac0616a522171f61c9d8c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf2e035c5bed8667e264b8471bf0753de"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#gaf2e035c5bed8667e264b8471bf0753de">coap_opt_put_uri_pathquery</a> (uint8_t *buf, uint16_t *lastonum, const char *uri)</td></tr>
<tr class="memdesc:gaf2e035c5bed8667e264b8471bf0753de"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convenience function for inserting URI_PATH and URI_QUERY into buffer This function will automatically split path and query parameters.  <a href="#gaf2e035c5bed8667e264b8471bf0753de">More...</a><br /></td></tr>
<tr class="separator:gaf2e035c5bed8667e264b8471bf0753de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga919fb509d614281d184a1faa67a3e489"><td class="memItemLeft" align="right" valign="top">static size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#ga919fb509d614281d184a1faa67a3e489">coap_opt_put_proxy_uri</a> (uint8_t *buf, uint16_t lastonum, const char *uri)</td></tr>
<tr class="memdesc:ga919fb509d614281d184a1faa67a3e489"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convenience function for inserting PROXY_URI option into buffer.  <a href="#ga919fb509d614281d184a1faa67a3e489">More...</a><br /></td></tr>
<tr class="separator:ga919fb509d614281d184a1faa67a3e489"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf067e5f033cfd6828b5c9fba2998e96c"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#gaf067e5f033cfd6828b5c9fba2998e96c">coap_put_block1_ok</a> (uint8_t *pkt_pos, <a class="el" href="structcoap__block1__t.html">coap_block1_t</a> *block1, uint16_t lastonum)</td></tr>
<tr class="memdesc:gaf067e5f033cfd6828b5c9fba2998e96c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Insert block1 option into buffer (from <a class="el" href="structcoap__block1__t.html" title="Block1 helper struct. ">coap_block1_t</a>)  <a href="#gaf067e5f033cfd6828b5c9fba2998e96c">More...</a><br /></td></tr>
<tr class="separator:gaf067e5f033cfd6828b5c9fba2998e96c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa34dbc07aa67c377e89df1f12e1832a7"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#gaa34dbc07aa67c377e89df1f12e1832a7">coap_put_option</a> (uint8_t *buf, uint16_t lastonum, uint16_t onum, const void *odata, size_t olen)</td></tr>
<tr class="memdesc:gaa34dbc07aa67c377e89df1f12e1832a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Insert a CoAP option into buffer.  <a href="#gaa34dbc07aa67c377e89df1f12e1832a7">More...</a><br /></td></tr>
<tr class="separator:gaa34dbc07aa67c377e89df1f12e1832a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9513e26ab6bd35776272b67e423cae9b"><td class="memItemLeft" align="right" valign="top">static size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#ga9513e26ab6bd35776272b67e423cae9b">coap_put_option_block1</a> (uint8_t *buf, uint16_t lastonum, unsigned blknum, unsigned szx, int more)</td></tr>
<tr class="memdesc:ga9513e26ab6bd35776272b67e423cae9b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Insert block1 option into buffer.  <a href="#ga9513e26ab6bd35776272b67e423cae9b">More...</a><br /></td></tr>
<tr class="separator:ga9513e26ab6bd35776272b67e423cae9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabcad56b116847388300027086d417ca3"><td class="memItemLeft" align="right" valign="top">static size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#gabcad56b116847388300027086d417ca3">coap_put_option_ct</a> (uint8_t *buf, uint16_t lastonum, uint16_t content_type)</td></tr>
<tr class="memdesc:gabcad56b116847388300027086d417ca3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Insert content type option into buffer.  <a href="#gabcad56b116847388300027086d417ca3">More...</a><br /></td></tr>
<tr class="separator:gabcad56b116847388300027086d417ca3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Functions -- Messaging</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrp4b13689773c5d84ab39db53668ed75cc"></a>Functions to support sending and receiving messages. </p>
</td></tr>
<tr class="memitem:ga6ae8281567032734a24ef7739f65c2b4"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#ga6ae8281567032734a24ef7739f65c2b4">coap_block2_build_reply</a> (<a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *pkt, unsigned code, uint8_t *rbuf, unsigned rlen, unsigned payload_len, <a class="el" href="structcoap__block__slicer__t.html">coap_block_slicer_t</a> *slicer)</td></tr>
<tr class="memdesc:ga6ae8281567032734a24ef7739f65c2b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Build reply to CoAP block2 request.  <a href="#ga6ae8281567032734a24ef7739f65c2b4">More...</a><br /></td></tr>
<tr class="separator:ga6ae8281567032734a24ef7739f65c2b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf0291091ff11f20539fd6835bef393fc"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#gaf0291091ff11f20539fd6835bef393fc">coap_build_hdr</a> (<a class="el" href="structcoap__hdr__t.html">coap_hdr_t</a> *hdr, unsigned type, const void *token, size_t token_len, unsigned code, uint16_t id)</td></tr>
<tr class="memdesc:gaf0291091ff11f20539fd6835bef393fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Builds a CoAP header.  <a href="#gaf0291091ff11f20539fd6835bef393fc">More...</a><br /></td></tr>
<tr class="separator:gaf0291091ff11f20539fd6835bef393fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga38b2f76446070e80183a13e6b33d7cff"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#ga38b2f76446070e80183a13e6b33d7cff">coap_build_reply</a> (<a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *pkt, unsigned code, uint8_t *rbuf, unsigned rlen, unsigned payload_len)</td></tr>
<tr class="memdesc:ga38b2f76446070e80183a13e6b33d7cff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Build reply to CoAP request.  <a href="#ga38b2f76446070e80183a13e6b33d7cff">More...</a><br /></td></tr>
<tr class="separator:ga38b2f76446070e80183a13e6b33d7cff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga69b46335b2b67c5245e6be1777134bf8"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#ga69b46335b2b67c5245e6be1777134bf8">coap_build_empty_ack</a> (<a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *pkt, <a class="el" href="structcoap__hdr__t.html">coap_hdr_t</a> *ack)</td></tr>
<tr class="memdesc:ga69b46335b2b67c5245e6be1777134bf8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Build empty reply to CoAP request.  <a href="#ga69b46335b2b67c5245e6be1777134bf8">More...</a><br /></td></tr>
<tr class="separator:ga69b46335b2b67c5245e6be1777134bf8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2f625c4f6c41384494eadc8ba8b85269"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#ga2f625c4f6c41384494eadc8ba8b85269">coap_handle_req</a> (<a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *pkt, uint8_t *resp_buf, unsigned resp_buf_len, <a class="el" href="group__net__nanocoap.html#gaedec79122f8968eb8b04e9e9360b392a">coap_request_ctx_t</a> *ctx)</td></tr>
<tr class="memdesc:ga2f625c4f6c41384494eadc8ba8b85269"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle incoming CoAP request.  <a href="#ga2f625c4f6c41384494eadc8ba8b85269">More...</a><br /></td></tr>
<tr class="separator:ga2f625c4f6c41384494eadc8ba8b85269"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf54135bbf56abb0db4e8fdf62fc3ed9d"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#gaf54135bbf56abb0db4e8fdf62fc3ed9d">coap_tree_handler</a> (<a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *pkt, uint8_t *resp_buf, unsigned resp_buf_len, <a class="el" href="group__net__nanocoap.html#gaedec79122f8968eb8b04e9e9360b392a">coap_request_ctx_t</a> *ctx, const <a class="el" href="structcoap__resource__t.html">coap_resource_t</a> *resources, size_t resources_numof)</td></tr>
<tr class="memdesc:gaf54135bbf56abb0db4e8fdf62fc3ed9d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pass a coap request to a matching handler.  <a href="#gaf54135bbf56abb0db4e8fdf62fc3ed9d">More...</a><br /></td></tr>
<tr class="separator:gaf54135bbf56abb0db4e8fdf62fc3ed9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga66c92948651d2f1a9bd42a779a83c8e4"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#ga66c92948651d2f1a9bd42a779a83c8e4">coap_subtree_handler</a> (<a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *pkt, uint8_t *resp_buf, size_t resp_buf_len, <a class="el" href="group__net__nanocoap.html#gaedec79122f8968eb8b04e9e9360b392a">coap_request_ctx_t</a> *context)</td></tr>
<tr class="memdesc:ga66c92948651d2f1a9bd42a779a83c8e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generic coap subtree handler.  <a href="#ga66c92948651d2f1a9bd42a779a83c8e4">More...</a><br /></td></tr>
<tr class="separator:ga66c92948651d2f1a9bd42a779a83c8e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf1ab053e8d8638174e19718bf4d32540"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__net__nanocoap.html#ga550b61f499bfec049a522ef0b26b6f8d">coap_method_flags_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#gaf1ab053e8d8638174e19718bf4d32540">coap_method2flag</a> (unsigned code)</td></tr>
<tr class="memdesc:gaf1ab053e8d8638174e19718bf4d32540"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert message code (request method) into a corresponding bit field.  <a href="#gaf1ab053e8d8638174e19718bf4d32540">More...</a><br /></td></tr>
<tr class="separator:gaf1ab053e8d8638174e19718bf4d32540"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad60d02b4df6c510da7931ac15e430378"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#gad60d02b4df6c510da7931ac15e430378">coap_parse</a> (<a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *pkt, uint8_t *buf, size_t len)</td></tr>
<tr class="memdesc:gad60d02b4df6c510da7931ac15e430378"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse a CoAP PDU.  <a href="#gad60d02b4df6c510da7931ac15e430378">More...</a><br /></td></tr>
<tr class="separator:gad60d02b4df6c510da7931ac15e430378"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2331aaab2eec33acbbfb07f042c5e770"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#ga2331aaab2eec33acbbfb07f042c5e770">coap_pkt_init</a> (<a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *pkt, uint8_t *buf, size_t len, size_t header_len)</td></tr>
<tr class="memdesc:ga2331aaab2eec33acbbfb07f042c5e770"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize a packet struct, to build a message buffer.  <a href="#ga2331aaab2eec33acbbfb07f042c5e770">More...</a><br /></td></tr>
<tr class="separator:ga2331aaab2eec33acbbfb07f042c5e770"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga92bef734570cfc51d14086848a4c2f6d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#ga92bef734570cfc51d14086848a4c2f6d">coap_payload_advance_bytes</a> (<a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *pkt, size_t len)</td></tr>
<tr class="memdesc:ga92bef734570cfc51d14086848a4c2f6d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Advance the payload pointer.  <a href="#ga92bef734570cfc51d14086848a4c2f6d">More...</a><br /></td></tr>
<tr class="separator:ga92bef734570cfc51d14086848a4c2f6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga45aa5ae34f7016836ad711f0d0ae2a17"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#ga45aa5ae34f7016836ad711f0d0ae2a17">coap_payload_put_bytes</a> (<a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *pkt, const void *data, size_t len)</td></tr>
<tr class="memdesc:ga45aa5ae34f7016836ad711f0d0ae2a17"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add payload data to the CoAP request.  <a href="#ga45aa5ae34f7016836ad711f0d0ae2a17">More...</a><br /></td></tr>
<tr class="separator:ga45aa5ae34f7016836ad711f0d0ae2a17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8cd5d5e42bc3d1571b4b09a3318d2cb5"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#ga8cd5d5e42bc3d1571b4b09a3318d2cb5">coap_payload_put_char</a> (<a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *pkt, char c)</td></tr>
<tr class="memdesc:ga8cd5d5e42bc3d1571b4b09a3318d2cb5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a single character to the payload data of the CoAP request.  <a href="#ga8cd5d5e42bc3d1571b4b09a3318d2cb5">More...</a><br /></td></tr>
<tr class="separator:ga8cd5d5e42bc3d1571b4b09a3318d2cb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabb1833d9fbca3e31f0fd08771f031cfc"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#gabb1833d9fbca3e31f0fd08771f031cfc">coap_build_reply_header</a> (<a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *pkt, unsigned code, void *buf, size_t len, uint16_t ct, void **payload, size_t *payload_len_max)</td></tr>
<tr class="memdesc:gabb1833d9fbca3e31f0fd08771f031cfc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create CoAP reply header (convenience function)  <a href="#gabb1833d9fbca3e31f0fd08771f031cfc">More...</a><br /></td></tr>
<tr class="separator:gabb1833d9fbca3e31f0fd08771f031cfc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac430f1177b2576b8555bd133a2fc0835"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#gac430f1177b2576b8555bd133a2fc0835">coap_reply_simple</a> (<a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *pkt, unsigned code, uint8_t *buf, size_t len, uint16_t ct, const void *payload, size_t payload_len)</td></tr>
<tr class="memdesc:gac430f1177b2576b8555bd133a2fc0835"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create CoAP reply (convenience function)  <a href="#gac430f1177b2576b8555bd133a2fc0835">More...</a><br /></td></tr>
<tr class="separator:gac430f1177b2576b8555bd133a2fc0835"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga91920deeb5704787848a7797d405fa97"><td class="memItemLeft" align="right" valign="top"><a id="ga91920deeb5704787848a7797d405fa97"></a>
ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#ga91920deeb5704787848a7797d405fa97">coap_well_known_core_default_handler</a> (<a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *pkt, uint8_t *buf, size_t len, <a class="el" href="group__net__nanocoap.html#gaedec79122f8968eb8b04e9e9360b392a">coap_request_ctx_t</a> *context)</td></tr>
<tr class="memdesc:ga91920deeb5704787848a7797d405fa97"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reference to the default .well-known/core handler defined by the application. <br /></td></tr>
<tr class="separator:ga91920deeb5704787848a7797d405fa97"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Functions -- gcoap specific</h2></td></tr>
<tr class="memitem:gaef2702953e01f46c75bea9ad810a4d1b"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#gaef2702953e01f46c75bea9ad810a4d1b">coap_has_observe</a> (<a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *pkt)</td></tr>
<tr class="memdesc:gaef2702953e01f46c75bea9ad810a4d1b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Identifies a packet containing an observe option.  <a href="#gaef2702953e01f46c75bea9ad810a4d1b">More...</a><br /></td></tr>
<tr class="separator:gaef2702953e01f46c75bea9ad810a4d1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf91b1288f2ef716192b5a6698da8b56b"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#gaf91b1288f2ef716192b5a6698da8b56b">coap_clear_observe</a> (<a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *pkt)</td></tr>
<tr class="memdesc:gaf91b1288f2ef716192b5a6698da8b56b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clears the observe option value from a packet.  <a href="#gaf91b1288f2ef716192b5a6698da8b56b">More...</a><br /></td></tr>
<tr class="separator:gaf91b1288f2ef716192b5a6698da8b56b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga944d91c1cb601c49463228cb2c88c3b7"><td class="memItemLeft" align="right" valign="top">static uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanocoap.html#ga944d91c1cb601c49463228cb2c88c3b7">coap_get_observe</a> (<a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *pkt)</td></tr>
<tr class="memdesc:ga944d91c1cb601c49463228cb2c88c3b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the value of the observe option from the given packet.  <a href="#ga944d91c1cb601c49463228cb2c88c3b7">More...</a><br /></td></tr>
<tr class="separator:ga944d91c1cb601c49463228cb2c88c3b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ga990f13bc60e75847019003a6b4492e9f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga990f13bc60e75847019003a6b4492e9f">&#9670;&nbsp;</a></span>coap_szx2size</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define coap_szx2size</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">szx</td><td>)</td>
          <td>&#160;&#160;&#160;(1U &lt;&lt; ((szx) + 4))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Helper to decode SZX value to size in bytes. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">szx</td><td>SZX value to decode</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SZX value decoded to bytes </dd></dl>

<p class="definition">Definition at line <a class="el" href="nanocoap_8h_source.html#l01287">1287</a> of file <a class="el" href="nanocoap_8h_source.html">nanocoap.h</a>.</p>

</div>
</div>
<a id="ga65ee47333edb3b0291e2f9059593efdc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga65ee47333edb3b0291e2f9059593efdc">&#9670;&nbsp;</a></span>COAP_WELL_KNOWN_CORE_DEFAULT_HANDLER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define COAP_WELL_KNOWN_CORE_DEFAULT_HANDLER</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">{ \</div><div class="line">        .path = <span class="stringliteral">&quot;/.well-known/core&quot;</span>, \</div><div class="line">        .methods = COAP_GET, \</div><div class="line">        .handler = <a class="code" href="group__net__nanocoap.html#ga91920deeb5704787848a7797d405fa97">coap_well_known_core_default_handler</a> \</div><div class="line">    }</div><div class="ttc" id="group__net__nanocoap_html_ga91920deeb5704787848a7797d405fa97"><div class="ttname"><a href="group__net__nanocoap.html#ga91920deeb5704787848a7797d405fa97">coap_well_known_core_default_handler</a></div><div class="ttdeci">ssize_t coap_well_known_core_default_handler(coap_pkt_t *pkt, uint8_t *buf, size_t len, coap_request_ctx_t *context)</div><div class="ttdoc">Reference to the default .well-known/core handler defined by the application. </div></div>
</div><!-- fragment -->
<p>Resource definition for the default .well-known/core handler. </p>

<p class="definition">Definition at line <a class="el" href="nanocoap_8h_source.html#l02404">2404</a> of file <a class="el" href="nanocoap_8h_source.html">nanocoap.h</a>.</p>

</div>
</div>
<a id="ga51ef623fc5b3b479a384f74804b14bcc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga51ef623fc5b3b479a384f74804b14bcc">&#9670;&nbsp;</a></span>CONFIG_NANOCOAP_BLOCK_HEADER_MAX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CONFIG_NANOCOAP_BLOCK_HEADER_MAX&#160;&#160;&#160;(80)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Maximum length of a CoAP header for a blockwise message. </p>
<p>Value obtained experimentally when using SUIT </p>

<p class="definition">Definition at line <a class="el" href="nanocoap_8h_source.html#l00175">175</a> of file <a class="el" href="nanocoap_8h_source.html">nanocoap.h</a>.</p>

</div>
</div>
<a id="gaf3b7751818e477148bf210c79683ae0c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf3b7751818e477148bf210c79683ae0c">&#9670;&nbsp;</a></span>NANOCOAP_RESOURCE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NANOCOAP_RESOURCE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">name</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="xfa_8h.html#a9b3e8f506ebeefc418799a13904fec38">XFA_CONST</a>(<a class="el" href="structcoap__resource__t.html">coap_resource_t</a>, coap_resources_xfa, 0) <a class="el" href="core_2lib_2include_2macros_2utils_8h.html#a88fa737059e67b4b17ec980e5877361e">CONCAT</a>(coap_resource_, name) =</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>CoAP XFA resource entry. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>internal name of the resource entry, must be unique </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="nanocoap_8h_source.html#l00427">427</a> of file <a class="el" href="nanocoap_8h_source.html">nanocoap.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="gac1c99e4c6b4acff707d856ba0b18d590"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac1c99e4c6b4acff707d856ba0b18d590">&#9670;&nbsp;</a></span>coap_blockwise_cb_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* coap_blockwise_cb_t) (void *arg, size_t offset, uint8_t *buf, size_t len, int more)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Coap blockwise request callback descriptor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">arg</td><td>Pointer to be passed as arguments to the callback </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">offset</td><td>Offset of received data </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buf</td><td>Pointer to the received data </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">len</td><td>Length of the received data </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">more</td><td>-1 for no option, 0 for last block, 1 for more blocks</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>&gt;=0 on success </dd>
<dd>
&lt;0 on error </dd></dl>

<p class="definition">Definition at line <a class="el" href="nanocoap_8h_source.html#l00279">279</a> of file <a class="el" href="nanocoap_8h_source.html">nanocoap.h</a>.</p>

</div>
</div>
<a id="ga8b44fbd36baf301f3bf531d1fcfadf9f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8b44fbd36baf301f3bf531d1fcfadf9f">&#9670;&nbsp;</a></span>coap_handler_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef ssize_t(* coap_handler_t) (<a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *pkt, uint8_t *buf, size_t len, <a class="el" href="group__net__nanocoap.html#gaedec79122f8968eb8b04e9e9360b392a">coap_request_ctx_t</a> *context)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resource handler type. </p>
<p>Functions that implement this must be prepared to be called multiple times for the same request, as the server implementations do not perform message deduplication. That optimization is <a href="https://tools.ietf.org/html/rfc7252#section-4.5">described in the CoAP specification</a>.</p>
<p>This should be trivial for requests of the GET, PUT, DELETE, FETCH and iPATCH methods, as they are defined as idempotent methods in CoAP.</p>
<p>For POST, PATCH and other non-idempotent methods, this is an additional requirement introduced by the contract of this type.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pkt</td><td>The request packet </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">buf</td><td>Buffer for the response </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">len</td><td>Size of the response buffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">context</td><td>Request context</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of response bytes written on success Negative error on failure </dd></dl>

<p class="definition">Definition at line <a class="el" href="nanocoap_8h_source.html#l00264">264</a> of file <a class="el" href="nanocoap_8h_source.html">nanocoap.h</a>.</p>

</div>
</div>
<a id="ga550b61f499bfec049a522ef0b26b6f8d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga550b61f499bfec049a522ef0b26b6f8d">&#9670;&nbsp;</a></span>coap_method_flags_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef uint16_t <a class="el" href="group__net__nanocoap.html#ga550b61f499bfec049a522ef0b26b6f8d">coap_method_flags_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Method flag type. </p>
<p>Must be large enough to contain all <a class="el" href="group__net__nanocoap.html#nanocoap_method_flags">CoAP method flags</a> </p>

<p class="definition">Definition at line <a class="el" href="nanocoap_8h_source.html#l00298">298</a> of file <a class="el" href="nanocoap_8h_source.html">nanocoap.h</a>.</p>

</div>
</div>
<a id="gac302c0f9ec8053b64b9b46a4dbee9092"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac302c0f9ec8053b64b9b46a4dbee9092">&#9670;&nbsp;</a></span>coap_request_cb_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* coap_request_cb_t) (void *arg, <a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *pkt)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Coap request callback descriptor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">arg</td><td>Pointer to be passed as arguments to the callback </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pkt</td><td>The received CoAP response. Buffers point to network stack internal memory.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>&gt;=0 on success </dd>
<dd>
&lt;0 on error </dd></dl>

<p class="definition">Definition at line <a class="el" href="nanocoap_8h_source.html#l00291">291</a> of file <a class="el" href="nanocoap_8h_source.html">nanocoap.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="gab424b844874f0bc98190100fb748909e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab424b844874f0bc98190100fb748909e">&#9670;&nbsp;</a></span>coap_block1_finish()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool coap_block1_finish </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcoap__block__slicer__t.html">coap_block_slicer_t</a> *&#160;</td>
          <td class="paramname"><em>slicer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Finish a block1 request. </p>
<p>This function finalizes the block1 response header</p>
<p>Checks whether the <code>more</code> bit should be set in the block1 option and sets/clears it if required. Doesn't return the number of bytes, as this function overwrites bytes in the packet rather than adding new.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">slicer</td><td>Preallocated slicer struct to use</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the <code>more</code> bit is set in the block option </dd>
<dd>
false if the <code>more</code> bit is not set the block option </dd></dl>

<p class="definition">Definition at line <a class="el" href="nanocoap_8h_source.html#l01112">1112</a> of file <a class="el" href="nanocoap_8h_source.html">nanocoap.h</a>.</p>

</div>
</div>
<a id="ga6ae8281567032734a24ef7739f65c2b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6ae8281567032734a24ef7739f65c2b4">&#9670;&nbsp;</a></span>coap_block2_build_reply()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t coap_block2_build_reply </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *&#160;</td>
          <td class="paramname"><em>pkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>code</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>rbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>rlen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>payload_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcoap__block__slicer__t.html">coap_block_slicer_t</a> *&#160;</td>
          <td class="paramname"><em>slicer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Build reply to CoAP block2 request. </p>
<p>This function can be used to create a reply to a CoAP block2 request packet. In addition to <a class="el" href="group__net__nanocoap.html#ga38b2f76446070e80183a13e6b33d7cff">coap_build_reply</a>, this function checks the block2 option and returns an error message to the client if necessary.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pkt</td><td>packet to reply to </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">code</td><td>reply code (e.g., COAP_CODE_204) </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">rbuf</td><td>buffer to write reply to </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">rlen</td><td>size of <code>rbuf</code> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">payload_len</td><td>length of payload </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">slicer</td><td>slicer to use</td></tr>
  </table>
  </dd>
</dl>
<dl class="section warning"><dt>Warning</dt><dd>Use <a class="el" href="group__net__nanocoap.html#ga9a73753ea88ce8355311ff9a2f5e4dc3">coap_get_response_hdr_len</a> to determine the size of the header this will write.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>size of reply packet on success </dd>
<dd>
&lt;0 on error </dd></dl>

</div>
</div>
<a id="ga5d839eb2b07582ff50afb988d2e6e8c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5d839eb2b07582ff50afb988d2e6e8c1">&#9670;&nbsp;</a></span>coap_block2_finish()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool coap_block2_finish </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcoap__block__slicer__t.html">coap_block_slicer_t</a> *&#160;</td>
          <td class="paramname"><em>slicer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Finish a block2 response. </p>
<p>This function finalizes the block2 response header</p>
<p>Checks whether the <code>more</code> bit should be set in the block2 option and sets/clears it if required. Doesn't return the number of bytes, as this function overwrites bytes in the packet rather than adding new.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">slicer</td><td>Preallocated slicer struct to use</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the <code>more</code> bit is set in the block option </dd>
<dd>
false if the <code>more</code> bit is not set the block option </dd></dl>

<p class="definition">Definition at line <a class="el" href="nanocoap_8h_source.html#l01131">1131</a> of file <a class="el" href="nanocoap_8h_source.html">nanocoap.h</a>.</p>

</div>
</div>
<a id="ga847153f464dc80f7f015d3ccbceb71c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga847153f464dc80f7f015d3ccbceb71c4">&#9670;&nbsp;</a></span>coap_block2_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void coap_block2_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *&#160;</td>
          <td class="paramname"><em>pkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcoap__block__slicer__t.html">coap_block_slicer_t</a> *&#160;</td>
          <td class="paramname"><em>slicer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize a block2 slicer struct for writing the payload. </p>
<p>This function determines the size of the response payload based on the size requested by the client in <code>pkt</code>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pkt</td><td>packet to work on </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">slicer</td><td>Preallocated slicer struct to fill </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga75706e41843941300fbd61bf181cb3fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga75706e41843941300fbd61bf181cb3fb">&#9670;&nbsp;</a></span>coap_block_finish()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool coap_block_finish </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcoap__block__slicer__t.html">coap_block_slicer_t</a> *&#160;</td>
          <td class="paramname"><em>slicer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>option</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Finish a block request (block1 or block2) </p>
<p>This function finalizes the block response header</p>
<p>Checks whether the <code>more</code> bit should be set in the block option and sets/clears it if required. Doesn't return the number of bytes, as this function overwrites bytes in the packet rather than adding new.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">slicer</td><td>Preallocated slicer struct to use </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">option</td><td>option number (block1 or block2)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the <code>more</code> bit is set in the block option </dd>
<dd>
false if the <code>more</code> bit is not set the block option </dd></dl>

</div>
</div>
<a id="gadabe7197cbe80bf17fea0ecf5ee9bf56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadabe7197cbe80bf17fea0ecf5ee9bf56">&#9670;&nbsp;</a></span>coap_block_object_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void coap_block_object_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcoap__block1__t.html">coap_block1_t</a> *&#160;</td>
          <td class="paramname"><em>block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>blknum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>blksize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>more</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize a block struct from content information. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">block</td><td>block struct to initialize </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">blknum</td><td>offset from the beginning of content, in terms of <code>blksize</code> byte blocks </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">blksize</td><td>size of each block; must be a power of 2 between 16 and 2 raised to <a class="el" href="group__net__nanocoap__conf.html#ga61aa736d09f205c06e00bbe1b025a2cb" title="Maximum size for a blockwise transfer as a power of 2. ">CONFIG_NANOCOAP_BLOCK_SIZE_EXP_MAX</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">more</td><td>more blocks? use 1 if yes; 0 if no or unknown </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga72043847cf561f5f6e926cf4323bbd66"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga72043847cf561f5f6e926cf4323bbd66">&#9670;&nbsp;</a></span>coap_block_slicer_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void coap_block_slicer_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcoap__block__slicer__t.html">coap_block_slicer_t</a> *&#160;</td>
          <td class="paramname"><em>slicer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>blknum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>blksize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize a block slicer struct from content information. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">slicer</td><td>slicer struct to initialize </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">blknum</td><td>offset from the beginning of content, in terms of <code>blksize</code> byte blocks </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">blksize</td><td>size of each block; must be a power of 2 between 16 and 2 raised to <a class="el" href="group__net__nanocoap__conf.html#ga61aa736d09f205c06e00bbe1b025a2cb" title="Maximum size for a blockwise transfer as a power of 2. ">CONFIG_NANOCOAP_BLOCK_SIZE_EXP_MAX</a> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga5e26bac506c6c981cfb10ac70beb2a40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5e26bac506c6c981cfb10ac70beb2a40">&#9670;&nbsp;</a></span>coap_blockwise_put_bytes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t coap_blockwise_put_bytes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcoap__block__slicer__t.html">coap_block_slicer_t</a> *&#160;</td>
          <td class="paramname"><em>slicer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>bufpos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a byte array to a block2 reply. </p>
<p>This function is used to add an array of bytes to a CoAP block2 reply. it checks which parts of the string should be added to the reply and ignores parts that are outside the current block2 request.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">slicer</td><td>slicer to use </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">bufpos</td><td>pointer to the current payload buffer position </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">c</td><td>byte array to copy </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">len</td><td>length of the byte array</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of bytes written to <code>bufpos</code> </dd></dl>

</div>
</div>
<a id="gaad9ed5ad883e88916ec179a24bba9ee5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaad9ed5ad883e88916ec179a24bba9ee5">&#9670;&nbsp;</a></span>coap_blockwise_put_char()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t coap_blockwise_put_char </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcoap__block__slicer__t.html">coap_block_slicer_t</a> *&#160;</td>
          <td class="paramname"><em>slicer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>bufpos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>c</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a single character to a block2 reply. </p>
<p>This function is used to add single characters to a CoAP block2 reply. It checks whether the character should be added to the buffer and ignores it when the character is outside the current block2 request.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">slicer</td><td>slicer to use </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">bufpos</td><td>pointer to the current payload buffer position </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">c</td><td>character to write</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of bytes written to <code>bufpos</code> </dd></dl>

</div>
</div>
<a id="ga69b46335b2b67c5245e6be1777134bf8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga69b46335b2b67c5245e6be1777134bf8">&#9670;&nbsp;</a></span>coap_build_empty_ack()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t coap_build_empty_ack </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *&#160;</td>
          <td class="paramname"><em>pkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcoap__hdr__t.html">coap_hdr_t</a> *&#160;</td>
          <td class="paramname"><em>ack</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Build empty reply to CoAP request. </p>
<p>This function can be used to create an empty ACK so that a later, separate response can be sent independently.</p>
<p>If the request was non-confirmable, this will generate nothing.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pkt</td><td>packet to reply to </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ack</td><td>buffer to write reply to</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>size of reply packet on success </dd>
<dd>
-ENOSPC if <code>rbuf</code> too small </dd></dl>

</div>
</div>
<a id="gaf0291091ff11f20539fd6835bef393fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf0291091ff11f20539fd6835bef393fc">&#9670;&nbsp;</a></span>coap_build_hdr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t coap_build_hdr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcoap__hdr__t.html">coap_hdr_t</a> *&#160;</td>
          <td class="paramname"><em>hdr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>token</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>token_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>code</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Builds a CoAP header. </p>
<p>Caller <em>must</em> ensure <code>hdr</code> can hold the header and the full token!</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">hdr</td><td>hdr to fill </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">type</td><td>CoAP packet type (e.g., COAP_TYPE_CON, ...) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">token</td><td>token </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">token_len</td><td>length of <code>token</code> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">code</td><td>CoAP code (e.g., COAP_CODE_204, ...) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">id</td><td>CoAP request id</td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd><code>token</code> is either not overlapping with the memory buffer <code>hdr</code> points to, or is already at the right offset (e.g. when building the response inside the buffer the contained the request).</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>length of resulting header </dd></dl>

</div>
</div>
<a id="ga38b2f76446070e80183a13e6b33d7cff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga38b2f76446070e80183a13e6b33d7cff">&#9670;&nbsp;</a></span>coap_build_reply()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t coap_build_reply </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *&#160;</td>
          <td class="paramname"><em>pkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>code</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>rbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>rlen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>payload_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Build reply to CoAP request. </p>
<p>This function can be used to create a reply to any CoAP request packet. It will create the reply packet header based on parameters from the request (e.g., id, token).</p>
<p>Passing a non-zero <code>payload_len</code> will ensure the payload fits into the buffer along with the header. For this validation, payload_len must include any options, the payload marker, as well as the payload proper.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pkt</td><td>packet to reply to </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">code</td><td>reply code (e.g., COAP_CODE_204) </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">rbuf</td><td>buffer to write reply to </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">rlen</td><td>size of <code>rbuf</code> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">payload_len</td><td>length of payload</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>size of reply packet on success <pre class="fragment">         Note that this size can be severely shortened if due to a No-Response option there
         is only an empty ACK to be sent back. The caller may just continue populating the
         payload (the space was checked to suffice), but may also skip that needless step
         if the returned length is less than the requested payload length.
</pre></dd>
<dd>
0 if no response should be sent due to a No-Response option in the request </dd>
<dd>
&lt;0 on error </dd>
<dd>
-ENOSPC if <code>rbuf</code> too small </dd></dl>

</div>
</div>
<a id="gabb1833d9fbca3e31f0fd08771f031cfc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabb1833d9fbca3e31f0fd08771f031cfc">&#9670;&nbsp;</a></span>coap_build_reply_header()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t coap_build_reply_header </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *&#160;</td>
          <td class="paramname"><em>pkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>code</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>ct</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>payload</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>payload_len_max</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create CoAP reply header (convenience function) </p>
<p>This function generates the reply CoAP header and sets the payload pointer inside the response buffer to point to the start of the payload, so that it can be written directly after the header.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pkt</td><td>packet to reply to </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">code</td><td>reply code (e.g., COAP_CODE_204) </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">buf</td><td>buffer to write reply to </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">len</td><td>size of <code>buf</code> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ct</td><td>content type of payload or <a class="el" href="group__net__nanocoap.html#ga0c9cfbe5210cba4e35c9fbad51a88e19">COAP_FORMAT_NONE</a> </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">payload</td><td>Will be set to the start of the payload inside <code>buf</code>. May be set to NULL if no payload response is wanted (no-reply option) </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">payload_len_max</td><td>max length of payload left in <code>buf</code> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>size of reply header on success </dd>
<dd>
0 if no reply should be sent </dd>
<dd>
&lt;0 on error </dd>
<dd>
-ENOSPC if <code>buf</code> too small </dd></dl>

</div>
</div>
<a id="gaf91b1288f2ef716192b5a6698da8b56b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf91b1288f2ef716192b5a6698da8b56b">&#9670;&nbsp;</a></span>coap_clear_observe()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void coap_clear_observe </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *&#160;</td>
          <td class="paramname"><em>pkt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Clears the observe option value from a packet. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pkt</td><td>CoAP packet </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="nanocoap_8h_source.html#l02382">2382</a> of file <a class="el" href="nanocoap_8h_source.html">nanocoap.h</a>.</p>

</div>
</div>
<a id="ga2784e44fe4f406235a708b23a014659c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2784e44fe4f406235a708b23a014659c">&#9670;&nbsp;</a></span>coap_code()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint8_t coap_code </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>cls</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>detail</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Encode given code class and code detail to raw code. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cls</td><td>message code class </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">detail</td><td>message code detail</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>raw message code </dd></dl>

<p class="definition">Definition at line <a class="el" href="nanocoap_8h_source.html#l00459">459</a> of file <a class="el" href="nanocoap_8h_source.html">nanocoap.h</a>.</p>

</div>
</div>
<a id="ga474d6926269d933cab20eaf7670cd30a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga474d6926269d933cab20eaf7670cd30a">&#9670;&nbsp;</a></span>coap_find_option()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t* coap_find_option </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *&#160;</td>
          <td class="paramname"><em>pkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>opt_num</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get pointer to an option field by type. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pkt</td><td>packet to work on </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">opt_num</td><td>the option number to search for</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>pointer to the option data NULL if option number was not found </dd></dl>

</div>
</div>
<a id="ga9344e22658cb00a9b876614001f7b40a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9344e22658cb00a9b876614001f7b40a">&#9670;&nbsp;</a></span>coap_find_uri_query()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool coap_find_uri_query </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *&#160;</td>
          <td class="paramname"><em>pkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char **&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find a URI query option of the packet. </p>
<p>This function searches for a query option of the form "?key=value" and would, when present, return the pointer to "value" when searching for "key".</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pkt</td><td>pkt to work on </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">key</td><td>key string to look for </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">value</td><td>found value if present, may be NULL </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">len</td><td>length of value if present, may be NULL if value is NULL</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the key was found, false if not </dd></dl>

</div>
</div>
<a id="ga535c45deb987c277f30aa8bc934d83ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga535c45deb987c277f30aa8bc934d83ad">&#9670;&nbsp;</a></span>coap_get_accept()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned coap_get_accept </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *&#160;</td>
          <td class="paramname"><em>pkt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the Accept option value from a packet if present. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pkt</td><td>packet to work on</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the packet's Accept option value if included, COAP_FORMAT_NONE otherwise </dd></dl>

</div>
</div>
<a id="ga56868ccb1ccf7721d5f1319ad707d1e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga56868ccb1ccf7721d5f1319ad707d1e8">&#9670;&nbsp;</a></span>coap_get_block()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int coap_get_block </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *&#160;</td>
          <td class="paramname"><em>pkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcoap__block1__t.html">coap_block1_t</a> *&#160;</td>
          <td class="paramname"><em>block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>option</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Block option getter. </p>
<p>This function gets a CoAP packet's block option and parses it into a helper structure.</p>
<p>If no block option is present in <code>pkt</code>, the values in <code>block</code> will be initialized with zero. That implies both block-&gt;offset and block-&gt;more are also valid in that case, as packet with offset==0 and more==0 means it contains all the payload for the corresponding request.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pkt</td><td>pkt to work on </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">block</td><td>ptr to preallocated <a class="el" href="structcoap__block1__t.html" title="Block1 helper struct. ">coap_block1_t</a> structure </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">option</td><td>block1 or block2</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if block option not present </dd>
<dd>
1 if structure has been filled </dd></dl>

</div>
</div>
<a id="ga843ab80385da82c6c56a7221dd9ffa68"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga843ab80385da82c6c56a7221dd9ffa68">&#9670;&nbsp;</a></span>coap_get_block1()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int coap_get_block1 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *&#160;</td>
          <td class="paramname"><em>pkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcoap__block1__t.html">coap_block1_t</a> *&#160;</td>
          <td class="paramname"><em>block</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Block1 option getter. </p>
<p>This function gets a CoAP packet's block1 option and parses it into a helper structure.</p>
<p>If no block1 option is present in <code>pkt</code>, the values in <code>block1</code> will be initialized with zero. That implies both block1-&gt;offset and block1-&gt;more are also valid in that case, as packet with offset==0 and more==0 means it contains all the payload for the corresponding request.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pkt</td><td>pkt to work on </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">block</td><td>ptr to preallocated <a class="el" href="structcoap__block1__t.html" title="Block1 helper struct. ">coap_block1_t</a> structure</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if block1 option not present </dd>
<dd>
1 if structure has been filled </dd></dl>

<p class="definition">Definition at line <a class="el" href="nanocoap_8h_source.html#l01228">1228</a> of file <a class="el" href="nanocoap_8h_source.html">nanocoap.h</a>.</p>

</div>
</div>
<a id="ga68deff4fe341e495eb8c3449e5118c82"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga68deff4fe341e495eb8c3449e5118c82">&#9670;&nbsp;</a></span>coap_get_block2()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int coap_get_block2 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *&#160;</td>
          <td class="paramname"><em>pkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcoap__block1__t.html">coap_block1_t</a> *&#160;</td>
          <td class="paramname"><em>block</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Block2 option getter. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pkt</td><td>pkt to work on </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">block</td><td>ptr to preallocated <a class="el" href="structcoap__block1__t.html" title="Block1 helper struct. ">coap_block1_t</a> structure</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if block2 option not present </dd>
<dd>
1 if structure has been filled </dd></dl>

<p class="definition">Definition at line <a class="el" href="nanocoap_8h_source.html#l01242">1242</a> of file <a class="el" href="nanocoap_8h_source.html">nanocoap.h</a>.</p>

</div>
</div>
<a id="gaab9c2003acb8aee43f11e1c85bbd9d77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaab9c2003acb8aee43f11e1c85bbd9d77">&#9670;&nbsp;</a></span>coap_get_blockopt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int coap_get_blockopt </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *&#160;</td>
          <td class="paramname"><em>pkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>option</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>blknum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>szx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generic block option getter. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pkt</td><td>pkt to work on </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">option</td><td>actual block option number to get </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">blknum</td><td>block number </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">szx</td><td>SZX value</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>-1 if option not found </dd>
<dd>
0 if more flag is not set </dd>
<dd>
1 if more flag is set </dd></dl>

</div>
</div>
<a id="ga68b2d1696412f0c2cfd8ff14c191ef56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga68b2d1696412f0c2cfd8ff14c191ef56">&#9670;&nbsp;</a></span>coap_get_code_class()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned coap_get_code_class </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *&#160;</td>
          <td class="paramname"><em>pkt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get a message's code class (3 most significant bits of code) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pkt</td><td>CoAP packet</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>message code class </dd></dl>

<p class="definition">Definition at line <a class="el" href="nanocoap_8h_source.html#l00471">471</a> of file <a class="el" href="nanocoap_8h_source.html">nanocoap.h</a>.</p>

</div>
</div>
<a id="ga984f1765e5addac1b4c6c8ba52e130a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga984f1765e5addac1b4c6c8ba52e130a8">&#9670;&nbsp;</a></span>coap_get_code_decimal()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned coap_get_code_decimal </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *&#160;</td>
          <td class="paramname"><em>pkt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get a message's code in decimal format ((class * 100) + detail) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pkt</td><td>CoAP packet</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>message code in decimal format </dd></dl>

<p class="definition">Definition at line <a class="el" href="nanocoap_8h_source.html#l00495">495</a> of file <a class="el" href="nanocoap_8h_source.html">nanocoap.h</a>.</p>

</div>
</div>
<a id="ga7c4d39185482dc994f974f3c7ba3237b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7c4d39185482dc994f974f3c7ba3237b">&#9670;&nbsp;</a></span>coap_get_code_detail()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned coap_get_code_detail </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *&#160;</td>
          <td class="paramname"><em>pkt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get a message's code detail (5 least significant bits of code) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pkt</td><td>CoAP packet</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>message code detail </dd></dl>

<p class="definition">Definition at line <a class="el" href="nanocoap_8h_source.html#l00483">483</a> of file <a class="el" href="nanocoap_8h_source.html">nanocoap.h</a>.</p>

</div>
</div>
<a id="ga161c545e623a38ccf479bdfa674e1f9c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga161c545e623a38ccf479bdfa674e1f9c">&#9670;&nbsp;</a></span>coap_get_code_raw()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned coap_get_code_raw </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *&#160;</td>
          <td class="paramname"><em>pkt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get a message's raw code (class + detail) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pkt</td><td>CoAP packet</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>raw message code </dd></dl>

<p class="definition">Definition at line <a class="el" href="nanocoap_8h_source.html#l00507">507</a> of file <a class="el" href="nanocoap_8h_source.html">nanocoap.h</a>.</p>

</div>
</div>
<a id="gadfbb9dbf3fb3942898f14d8e2a6f724b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadfbb9dbf3fb3942898f14d8e2a6f724b">&#9670;&nbsp;</a></span>coap_get_content_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned coap_get_content_type </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *&#160;</td>
          <td class="paramname"><em>pkt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get content type from packet. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pkt</td><td>packet to work on</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the packet's content type value if included, COAP_FORMAT_NONE otherwise </dd></dl>

</div>
</div>
<a id="ga3218ad99f9f4b85bac8f766212ae3d23"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3218ad99f9f4b85bac8f766212ae3d23">&#9670;&nbsp;</a></span>coap_get_id()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned coap_get_id </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *&#160;</td>
          <td class="paramname"><em>pkt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the message ID of the given CoAP packet. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pkt</td><td>CoAP packet</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>message ID </dd></dl>

<p class="definition">Definition at line <a class="el" href="nanocoap_8h_source.html#l00531">531</a> of file <a class="el" href="nanocoap_8h_source.html">nanocoap.h</a>.</p>

</div>
</div>
<a id="ga73750beae3d726b6cffc4529f7596b49"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga73750beae3d726b6cffc4529f7596b49">&#9670;&nbsp;</a></span>coap_get_location_path()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static ssize_t coap_get_location_path </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *&#160;</td>
          <td class="paramname"><em>pkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>max_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Convenience function for getting the packet's LOCATION_PATH option. </p>
<p>This function decodes the pkt's LOCATION_PATH option into a '/'-separated and '\0'-terminated string.</p>
<p>Caller must ensure <code>target</code> can hold at least 2 bytes!</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pkt</td><td>pkt to work on </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">target</td><td>buffer for location path </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">max_len</td><td>size of <code>target</code> in bytes</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>-ENOSPC if URI option is larger than <code>max_len</code> </dd>
<dd>
nr of bytes written to <code>target</code> (including '\0') </dd></dl>

<p class="definition">Definition at line <a class="el" href="nanocoap_8h_source.html#l00907">907</a> of file <a class="el" href="nanocoap_8h_source.html">nanocoap.h</a>.</p>

</div>
</div>
<a id="ga35762cfac6776bb838b860a31a2bcfa9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga35762cfac6776bb838b860a31a2bcfa9">&#9670;&nbsp;</a></span>coap_get_location_query()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static ssize_t coap_get_location_query </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *&#160;</td>
          <td class="paramname"><em>pkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>max_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Convenience function for getting the packet's LOCATION_QUERY option. </p>
<p>This function decodes the pkt's LOCATION_PATH option into a '&amp;'-separated and '\0'-terminated string.</p>
<p>Caller must ensure <code>target</code> can hold at least 2 bytes!</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pkt</td><td>pkt to work on </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">target</td><td>buffer for location path </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">max_len</td><td>size of <code>target</code> in bytes</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>-ENOSPC if URI option is larger than <code>max_len</code> </dd>
<dd>
nr of bytes written to <code>target</code> (including '\0') </dd></dl>

<p class="definition">Definition at line <a class="el" href="nanocoap_8h_source.html#l00929">929</a> of file <a class="el" href="nanocoap_8h_source.html">nanocoap.h</a>.</p>

</div>
</div>
<a id="ga6361047298119f8d830599878661237b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6361047298119f8d830599878661237b">&#9670;&nbsp;</a></span>coap_get_method()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__net__coap.html#gaf99712dec26d13b1649cc55043580645">coap_method_t</a> coap_get_method </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *&#160;</td>
          <td class="paramname"><em>pkt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get a request's method type. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pkt</td><td>CoAP request packet</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>request method type </dd></dl>

<p class="definition">Definition at line <a class="el" href="nanocoap_8h_source.html#l00519">519</a> of file <a class="el" href="nanocoap_8h_source.html">nanocoap.h</a>.</p>

</div>
</div>
<a id="ga944d91c1cb601c49463228cb2c88c3b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga944d91c1cb601c49463228cb2c88c3b7">&#9670;&nbsp;</a></span>coap_get_observe()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint32_t coap_get_observe </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *&#160;</td>
          <td class="paramname"><em>pkt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the value of the observe option from the given packet. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pkt</td><td>CoAP packet</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>value of the observe option </dd></dl>

<p class="definition">Definition at line <a class="el" href="nanocoap_8h_source.html#l02394">2394</a> of file <a class="el" href="nanocoap_8h_source.html">nanocoap.h</a>.</p>

</div>
</div>
<a id="gae28bbd93eeb29c208d27f233db8607e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae28bbd93eeb29c208d27f233db8607e9">&#9670;&nbsp;</a></span>coap_get_proxy_uri()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static ssize_t coap_get_proxy_uri </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *&#160;</td>
          <td class="paramname"><em>pkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>target</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Convenience function for getting the packet's Proxy-Uri option. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pkt</td><td>pkt to work on </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">target</td><td>pointer to the PROXY_URI in <code>pkt</code> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>((pkt != NULL) &amp;&amp; (target != NULL))</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>length of the Proxy-Uri option </dd>
<dd>
-ENOENT if Proxy-Uri option not found </dd>
<dd>
-EINVAL if Proxy-Uri option cannot be parsed </dd></dl>

<p class="definition">Definition at line <a class="el" href="nanocoap_8h_source.html#l01056">1056</a> of file <a class="el" href="nanocoap_8h_source.html">nanocoap.h</a>.</p>

</div>
</div>
<a id="ga9a73753ea88ce8355311ff9a2f5e4dc3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9a73753ea88ce8355311ff9a2f5e4dc3">&#9670;&nbsp;</a></span>coap_get_response_hdr_len()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned coap_get_response_hdr_len </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *&#160;</td>
          <td class="paramname"><em>pkt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the header length a response to the given packet will have. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pkt</td><td>CoAP packet to reply to </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Length of the response header including token excluding CoAP options and any payload marker</dd></dl>
<dl class="section note"><dt>Note</dt><dd>The main use case is the use of <a class="el" href="group__net__nanocoap.html#ga6ae8281567032734a24ef7739f65c2b4">coap_block2_build_reply</a>, which is building the CoAP header of the response after options and payload have been added. </dd></dl>

<p class="definition">Definition at line <a class="el" href="nanocoap_8h_source.html#l00669">669</a> of file <a class="el" href="nanocoap_8h_source.html">nanocoap.h</a>.</p>

</div>
</div>
<a id="gaf79f5135693b145a3cd835027fa22539"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf79f5135693b145a3cd835027fa22539">&#9670;&nbsp;</a></span>coap_get_token()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void* coap_get_token </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *&#160;</td>
          <td class="paramname"><em>pkt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get pointer to a message's token. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pkt</td><td>CoAP packet</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>pointer to the token position </dd></dl>

<p class="definition">Definition at line <a class="el" href="nanocoap_8h_source.html#l00558">558</a> of file <a class="el" href="nanocoap_8h_source.html">nanocoap.h</a>.</p>

</div>
</div>
<a id="gaf7036d4454008277befb32b4c099f50c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf7036d4454008277befb32b4c099f50c">&#9670;&nbsp;</a></span>coap_get_token_len()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned coap_get_token_len </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *&#160;</td>
          <td class="paramname"><em>pkt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get a message's token length [in byte]. </p>
<p>If the <code>nanocoap_token_ext</code> module is enabled, this will include the extended token length.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pkt</td><td>CoAP packet</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>length of token in the given message (0-8 byte) </dd></dl>

<p class="definition">Definition at line <a class="el" href="nanocoap_8h_source.html#l00546">546</a> of file <a class="el" href="nanocoap_8h_source.html">nanocoap.h</a>.</p>

</div>
</div>
<a id="ga6691ffe5aefd5f0abe194ba2a7e482b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6691ffe5aefd5f0abe194ba2a7e482b7">&#9670;&nbsp;</a></span>coap_get_total_hdr_len()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned coap_get_total_hdr_len </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *&#160;</td>
          <td class="paramname"><em>pkt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the total header length (4-byte header + token length) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pkt</td><td>CoAP packet</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>total header length </dd></dl>

<p class="definition">Definition at line <a class="el" href="nanocoap_8h_source.html#l00652">652</a> of file <a class="el" href="nanocoap_8h_source.html">nanocoap.h</a>.</p>

</div>
</div>
<a id="gaea2f5d5459e56c12011ad5e8a650217f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaea2f5d5459e56c12011ad5e8a650217f">&#9670;&nbsp;</a></span>coap_get_total_len()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned coap_get_total_len </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *&#160;</td>
          <td class="paramname"><em>pkt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the total length of a CoAP packet in the packet buffer. </p>
<dl class="section note"><dt>Note</dt><dd>This does not include possible payload snips.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pkt</td><td>CoAP packet</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>total CoAP length </dd></dl>

<p class="definition">Definition at line <a class="el" href="nanocoap_8h_source.html#l00572">572</a> of file <a class="el" href="nanocoap_8h_source.html">nanocoap.h</a>.</p>

</div>
</div>
<a id="ga9608e29edaa4c14f678b9eaf651fe1f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9608e29edaa4c14f678b9eaf651fe1f7">&#9670;&nbsp;</a></span>coap_get_type()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned coap_get_type </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *&#160;</td>
          <td class="paramname"><em>pkt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the message type. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pkt</td><td>CoAP packet</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>COAP_TYPE_CON </dd>
<dd>
COAP_TYPE_NON </dd>
<dd>
COAP_TYPE_ACK </dd>
<dd>
COAP_TYPE_RST </dd></dl>

<p class="definition">Definition at line <a class="el" href="nanocoap_8h_source.html#l00587">587</a> of file <a class="el" href="nanocoap_8h_source.html">nanocoap.h</a>.</p>

</div>
</div>
<a id="gae2a279b1d4c567512c0337a069f288da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae2a279b1d4c567512c0337a069f288da">&#9670;&nbsp;</a></span>coap_get_uri_path()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static ssize_t coap_get_uri_path </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *&#160;</td>
          <td class="paramname"><em>pkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>target</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Convenience function for getting the packet's URI_PATH. </p>
<p>This function decodes the pkt's URI option into a "/"-separated and '\0'-terminated string.</p>
<p>Caller must ensure <code>target</code> can hold at least CONFIG_NANOCOAP_URI_MAX bytes!</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pkt</td><td>pkt to work on </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">target</td><td>buffer for target URI</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>-ENOSPC if URI option is larger than CONFIG_NANOCOAP_URI_MAX </dd>
<dd>
nr of bytes written to <code>target</code> (including '\0') </dd></dl>

<p class="definition">Definition at line <a class="el" href="nanocoap_8h_source.html#l00950">950</a> of file <a class="el" href="nanocoap_8h_source.html">nanocoap.h</a>.</p>

</div>
</div>
<a id="ga2cd2b4bad338d8ff1724c286ae3c9844"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2cd2b4bad338d8ff1724c286ae3c9844">&#9670;&nbsp;</a></span>coap_get_uri_query_string()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static ssize_t coap_get_uri_query_string </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *&#160;</td>
          <td class="paramname"><em>pkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>max_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Convenience function for getting the packet's URI_QUERY option. </p>
<p>This function decodes the pkt's URI_QUERY option into a "&amp;"-separated and '\0'-terminated string.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pkt</td><td>pkt to work on </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">target</td><td>buffer for target URI </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">max_len</td><td>size of <code>target</code> in bytes</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>-ENOSPC if URI option is larger than <code>max_len</code> </dd>
<dd>
nr of bytes written to <code>target</code> (including '\0') </dd></dl>

<p class="definition">Definition at line <a class="el" href="nanocoap_8h_source.html#l00969">969</a> of file <a class="el" href="nanocoap_8h_source.html">nanocoap.h</a>.</p>

</div>
</div>
<a id="ga59e7ad3df3f1d237f7cfcb9690ab1a85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga59e7ad3df3f1d237f7cfcb9690ab1a85">&#9670;&nbsp;</a></span>coap_get_ver()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned coap_get_ver </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *&#160;</td>
          <td class="paramname"><em>pkt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the CoAP version number. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pkt</td><td>CoAP packet</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>CoAP version number </dd></dl>

<p class="definition">Definition at line <a class="el" href="nanocoap_8h_source.html#l00599">599</a> of file <a class="el" href="nanocoap_8h_source.html">nanocoap.h</a>.</p>

</div>
</div>
<a id="ga2f625c4f6c41384494eadc8ba8b85269"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2f625c4f6c41384494eadc8ba8b85269">&#9670;&nbsp;</a></span>coap_handle_req()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t coap_handle_req </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *&#160;</td>
          <td class="paramname"><em>pkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>resp_buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>resp_buf_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__net__nanocoap.html#gaedec79122f8968eb8b04e9e9360b392a">coap_request_ctx_t</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handle incoming CoAP request. </p>
<p>This function will find the correct handler, call it and write the reply into <code>resp_buf</code>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pkt</td><td>pointer to (parsed) CoAP packet </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">resp_buf</td><td>buffer for response </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">resp_buf_len</td><td>size of response buffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>CoAP request context information</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>size of reply packet on success </dd>
<dd>
&lt;0 on error </dd></dl>

</div>
</div>
<a id="gaef2702953e01f46c75bea9ad810a4d1b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaef2702953e01f46c75bea9ad810a4d1b">&#9670;&nbsp;</a></span>coap_has_observe()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool coap_has_observe </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *&#160;</td>
          <td class="paramname"><em>pkt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Identifies a packet containing an observe option. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pkt</td><td>CoAP packet</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if observe value is set </dd>
<dd>
false if not </dd></dl>

<p class="definition">Definition at line <a class="el" href="nanocoap_8h_source.html#l02372">2372</a> of file <a class="el" href="nanocoap_8h_source.html">nanocoap.h</a>.</p>

</div>
</div>
<a id="ga28d1eae9dbf1ed8caaa9f9104dd623cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga28d1eae9dbf1ed8caaa9f9104dd623cd">&#9670;&nbsp;</a></span>coap_has_unprocessed_critical_options()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool coap_has_unprocessed_critical_options </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *&#160;</td>
          <td class="paramname"><em>pkt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check whether any of the packet's options that are critical. </p>
<p>(i.e must be understood by the receiver, indicated by a 1 in the option number's least significant bit) were not accessed since the packet was parsed.</p>
<p>Call this in a server on requests after all their option processing has happened, and stop processing the request if it returns true, returning a 4.02 Bad Option response.</p>
<p>Call this in a client when receiving a response before acting on it; consider the response unprocessable if it returns true.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pkt</td><td>pkt to work on</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if any of the options marked as critical at parse time have not been accessed. </dd>
<dd>
false if there are no critical options, or all have been accessed. </dd></dl>

</div>
</div>
<a id="ga883eb9fdd897d72115382b7844457028"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga883eb9fdd897d72115382b7844457028">&#9670;&nbsp;</a></span>coap_hdr_data_ptr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint8_t * coap_hdr_data_ptr </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structcoap__hdr__t.html">coap_hdr_t</a> *&#160;</td>
          <td class="paramname"><em>hdr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the start of data after the header. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">hdr</td><td>Header of CoAP packet in contiguous memory</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>pointer to first byte after the header </dd></dl>

<p class="definition">Definition at line <a class="el" href="nanocoap_8h_source.html#l00640">640</a> of file <a class="el" href="nanocoap_8h_source.html">nanocoap.h</a>.</p>

</div>
</div>
<a id="ga94e07f743241112c1952e3da8cb42a70"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga94e07f743241112c1952e3da8cb42a70">&#9670;&nbsp;</a></span>coap_hdr_get_token()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static const void * coap_hdr_get_token </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structcoap__hdr__t.html">coap_hdr_t</a> *&#160;</td>
          <td class="paramname"><em>hdr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the Token of a CoAP over UDP (DTLS) packet. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">hdr</td><td>CoAP over UDP header </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The CoAP Token inside the packet that <code>hdr</code> belongs to</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>This API is super goofy. It assumes that the packet is valid and will read more than <code>sizeof(*hdr)</code> into the data <code>hdr</code> points to while crossing fingers hard.</dd></dl>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000029">Deprecated:</a></b></dt><dd>This function was introduced to keep legacy code alive. Introducing new callers should be avoided. In the RX path an <a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> will be available, so that you can call <a class="el" href="group__net__nanocoap.html#gaf79f5135693b145a3cd835027fa22539">coap_get_token</a> instead. In the TX path the token was added by us, so we really should know. </dd></dl>

<p class="definition">Definition at line <a class="el" href="nanocoap_8h_source.html#l00768">768</a> of file <a class="el" href="nanocoap_8h_source.html">nanocoap.h</a>.</p>

</div>
</div>
<a id="ga00e6b2d6d8151731e38f6cc49073b967"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga00e6b2d6d8151731e38f6cc49073b967">&#9670;&nbsp;</a></span>coap_hdr_get_token_len()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static size_t coap_hdr_get_token_len </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structcoap__hdr__t.html">coap_hdr_t</a> *&#160;</td>
          <td class="paramname"><em>hdr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the token length of a CoAP over UDP (DTLS) packet. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">hdr</td><td>CoAP over UDP header </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The size of the token in bytes</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>This API is super goofy. It assumes that the packet is valid and will read more than <code>sizeof(*hdr)</code> into the data <code>hdr</code> points to while crossing fingers hard.</dd></dl>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000028">Deprecated:</a></b></dt><dd>This function was introduced to keep legacy code alive. Introducing new callers should be avoided. In the RX path an <a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> will be available, so that you can call <a class="el" href="group__net__nanocoap.html#gaf79f5135693b145a3cd835027fa22539">coap_get_token</a> instead. In the TX path the token was added by us, so we really should know. </dd></dl>

<p class="definition">Definition at line <a class="el" href="nanocoap_8h_source.html#l00728">728</a> of file <a class="el" href="nanocoap_8h_source.html">nanocoap.h</a>.</p>

</div>
</div>
<a id="ga1a5e7f1b647a8456cb7197270a49f0a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1a5e7f1b647a8456cb7197270a49f0a2">&#9670;&nbsp;</a></span>coap_hdr_len()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static size_t coap_hdr_len </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structcoap__hdr__t.html">coap_hdr_t</a> *&#160;</td>
          <td class="paramname"><em>hdr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the header length of a CoAP packet. </p>
<dl class="section warning"><dt>Warning</dt><dd>This API is super goofy. It assumes that the packet is valid and will read more than <code>sizeof(*hdr)</code> into the data <code>hdr</code> points to while crossing fingers hard.</dd></dl>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000030">Deprecated:</a></b></dt><dd>This function was introduced to keep legacy code alive. Introducing new callers should be avoided. In the RX path an <a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> will be available, so that you can call <a class="el" href="group__net__nanocoap.html#ga6691ffe5aefd5f0abe194ba2a7e482b7">coap_get_total_hdr_len</a> instead. In the TX path the header was created by us (e.g. using <a class="el" href="group__net__nanocoap.html#gaf0291091ff11f20539fd6835bef393fc">coap_build_hdr</a> which returns the header size), so we really should know already. </dd></dl>

<p class="definition">Definition at line <a class="el" href="nanocoap_8h_source.html#l00789">789</a> of file <a class="el" href="nanocoap_8h_source.html">nanocoap.h</a>.</p>

</div>
</div>
<a id="ga4599c179d69f1df78219c8adbb2ed2ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4599c179d69f1df78219c8adbb2ed2ad">&#9670;&nbsp;</a></span>coap_hdr_set_code()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void coap_hdr_set_code </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcoap__hdr__t.html">coap_hdr_t</a> *&#160;</td>
          <td class="paramname"><em>hdr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>code</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Write the given raw message code to given CoAP header. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">hdr</td><td>CoAP header to write to </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">code</td><td>raw message code </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="nanocoap_8h_source.html#l00680">680</a> of file <a class="el" href="nanocoap_8h_source.html">nanocoap.h</a>.</p>

</div>
</div>
<a id="ga92058243dac042a617701aaedc58e45d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga92058243dac042a617701aaedc58e45d">&#9670;&nbsp;</a></span>coap_hdr_set_type()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void coap_hdr_set_type </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcoap__hdr__t.html">coap_hdr_t</a> *&#160;</td>
          <td class="paramname"><em>hdr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set the message type for the given CoAP header. </p>
<dl class="section pre"><dt>Precondition</dt><dd>(type := [0-3])</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">hdr</td><td>CoAP header to write </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">type</td><td>message type as integer value [0-3] </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="nanocoap_8h_source.html#l00704">704</a> of file <a class="el" href="nanocoap_8h_source.html">nanocoap.h</a>.</p>

</div>
</div>
<a id="ga61e9932defc7241a5c890f20eceee53f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga61e9932defc7241a5c890f20eceee53f">&#9670;&nbsp;</a></span>coap_hdr_tkl_ext_len()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint8_t coap_hdr_tkl_ext_len </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structcoap__hdr__t.html">coap_hdr_t</a> *&#160;</td>
          <td class="paramname"><em>hdr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the size of the extended Token length field (RFC 8974) </p>
<dl class="section note"><dt>Note</dt><dd>This requires the <code>nanocoap_token_ext</code> module to be enabled</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">hdr</td><td>CoAP header</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>number of bytes used for extended token length </dd></dl>

<p class="definition">Definition at line <a class="el" href="nanocoap_8h_source.html#l00614">614</a> of file <a class="el" href="nanocoap_8h_source.html">nanocoap.h</a>.</p>

</div>
</div>
<a id="ga01ebc5bcf92819aefc86eb01ccf5f152"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga01ebc5bcf92819aefc86eb01ccf5f152">&#9670;&nbsp;</a></span>coap_iterate_option()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t* coap_iterate_option </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *&#160;</td>
          <td class="paramname"><em>pkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>opt_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t **&#160;</td>
          <td class="paramname"><em>opt_pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>opt_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get pointer to an option field, can be called in a loop if there are multiple options with the same number. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pkt</td><td>packet to work on </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">opt_num</td><td>the option number to search for </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">opt_pos</td><td>opaque, must be set to <code>NULL</code> on first call </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">opt_len</td><td>size of the current option data</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>pointer to the option data NULL if option number was not found </dd></dl>

</div>
</div>
<a id="ga237fe059ae577aa1f8ca00f8a452ece7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga237fe059ae577aa1f8ca00f8a452ece7">&#9670;&nbsp;</a></span>coap_match_path()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int coap_match_path </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structcoap__resource__t.html">coap_resource_t</a> *&#160;</td>
          <td class="paramname"><em>resource</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>uri</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks if a CoAP resource path matches a given URI. </p>
<p>Builds on strcmp() with rules specific to URI path matching</p>
<dl class="section note"><dt>Note</dt><dd>This function is not intended for application use. </dd></dl>

</div>
</div>
<a id="gaf1ab053e8d8638174e19718bf4d32540"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf1ab053e8d8638174e19718bf4d32540">&#9670;&nbsp;</a></span>coap_method2flag()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__net__nanocoap.html#ga550b61f499bfec049a522ef0b26b6f8d">coap_method_flags_t</a> coap_method2flag </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>code</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Convert message code (request method) into a corresponding bit field. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">code</td><td>request code denoting the request method</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bit field corresponding to the given request method </dd></dl>

<p class="definition">Definition at line <a class="el" href="nanocoap_8h_source.html#l02177">2177</a> of file <a class="el" href="nanocoap_8h_source.html">nanocoap.h</a>.</p>

</div>
</div>
<a id="ga390a9a5589cb49d7d1f2ef74caf8b062"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga390a9a5589cb49d7d1f2ef74caf8b062">&#9670;&nbsp;</a></span>coap_opt_add_accept()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static ssize_t coap_opt_add_accept </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *&#160;</td>
          <td class="paramname"><em>pkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>format</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Append an Accept option to the pkt buffer. </p>
<dl class="section post"><dt>Postcondition</dt><dd>pkt.payload advanced to first byte after option </dd>
<dd>
pkt.payload_len reduced by option length</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">pkt</td><td>pkt referencing target buffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">format</td><td>COAP_FORMAT_xxx to accept</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>number of bytes written to buffer </dd>
<dd>
&lt;0 on error </dd>
<dd>
-ENOSPC if no available options or insufficient buffer space </dd></dl>

<p class="definition">Definition at line <a class="el" href="nanocoap_8h_source.html#l01449">1449</a> of file <a class="el" href="nanocoap_8h_source.html">nanocoap.h</a>.</p>

</div>
</div>
<a id="gacdc06ed00c22f302a6b7915d49eb052f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacdc06ed00c22f302a6b7915d49eb052f">&#9670;&nbsp;</a></span>coap_opt_add_block()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t coap_opt_add_block </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *&#160;</td>
          <td class="paramname"><em>pkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcoap__block__slicer__t.html">coap_block_slicer_t</a> *&#160;</td>
          <td class="paramname"><em>slicer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>more</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>option</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add block option in descriptive use from a slicer object. </p>
<p>When calling this function to initialize a packet with a block option, the more flag must be set to prevent the creation of an option with a length too small to contain the size bit.</p>
<dl class="section post"><dt>Postcondition</dt><dd>pkt.payload advanced to first byte after option </dd>
<dd>
pkt.payload_len reduced by option length</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">pkt</td><td>pkt referencing target buffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">slicer</td><td>coap blockwise slicer helper struct </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">more</td><td>more flag (1 or 0) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">option</td><td>option number (block1 or block2)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>number of bytes written to buffer </dd>
<dd>
&lt;0 on error </dd>
<dd>
-ENOSPC if no available options or insufficient buffer space </dd></dl>

</div>
</div>
<a id="gaf123a387066d0c2cef1548747c72f990"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf123a387066d0c2cef1548747c72f990">&#9670;&nbsp;</a></span>coap_opt_add_block1()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static ssize_t coap_opt_add_block1 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *&#160;</td>
          <td class="paramname"><em>pkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcoap__block__slicer__t.html">coap_block_slicer_t</a> *&#160;</td>
          <td class="paramname"><em>slicer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>more</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add block1 option in descriptive use from a slicer object. </p>
<p>When calling this function to initialize a packet with a block option, the more flag must be set to prevent the creation of an option with a length too small to contain the size bit.</p>
<dl class="section post"><dt>Postcondition</dt><dd>pkt.payload advanced to first byte after option </dd>
<dd>
pkt.payload_len reduced by option length</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">pkt</td><td>pkt referencing target buffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">slicer</td><td>coap blockwise slicer helper struct </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">more</td><td>more flag (1 or 0)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>number of bytes written to buffer </dd>
<dd>
&lt;0 on error </dd>
<dd>
-ENOSPC if no available options or insufficient buffer space </dd></dl>

<p class="definition">Definition at line <a class="el" href="nanocoap_8h_source.html#l01354">1354</a> of file <a class="el" href="nanocoap_8h_source.html">nanocoap.h</a>.</p>

</div>
</div>
<a id="gaf529432ec861b1ed971a6ebe392b5136"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf529432ec861b1ed971a6ebe392b5136">&#9670;&nbsp;</a></span>coap_opt_add_block1_control()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static ssize_t coap_opt_add_block1_control </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *&#160;</td>
          <td class="paramname"><em>pkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcoap__block1__t.html">coap_block1_t</a> *&#160;</td>
          <td class="paramname"><em>block</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Encode the given block1 option in control use. </p>
<dl class="section post"><dt>Postcondition</dt><dd>pkt.payload advanced to first byte after option </dd>
<dd>
pkt.payload_len reduced by option length</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">pkt</td><td>pkt referencing target buffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">block</td><td>block to encode</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>number of bytes written to buffer </dd>
<dd>
&lt;0 on error </dd>
<dd>
-ENOSPC if no available options or insufficient buffer space </dd></dl>

<p class="definition">Definition at line <a class="el" href="nanocoap_8h_source.html#l01412">1412</a> of file <a class="el" href="nanocoap_8h_source.html">nanocoap.h</a>.</p>

</div>
</div>
<a id="ga15b410e6d2de7e20b3017b3961a6a15a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga15b410e6d2de7e20b3017b3961a6a15a">&#9670;&nbsp;</a></span>coap_opt_add_block2()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static ssize_t coap_opt_add_block2 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *&#160;</td>
          <td class="paramname"><em>pkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcoap__block__slicer__t.html">coap_block_slicer_t</a> *&#160;</td>
          <td class="paramname"><em>slicer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>more</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add block2 option in descriptive use from a slicer object. </p>
<p>When calling this function to initialize a packet with a block option, the more flag must be set to prevent the creation of an option with a length too small to contain the size bit.</p>
<dl class="section post"><dt>Postcondition</dt><dd>pkt.payload advanced to first byte after option </dd>
<dd>
pkt.payload_len reduced by option length</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">pkt</td><td>pkt referencing target buffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">slicer</td><td>coap blockwise slicer helper struct </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">more</td><td>more flag (1 or 0)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>number of bytes written to buffer </dd>
<dd>
&lt;0 on error </dd>
<dd>
-ENOSPC if no available options or insufficient buffer space </dd></dl>

<p class="definition">Definition at line <a class="el" href="nanocoap_8h_source.html#l01378">1378</a> of file <a class="el" href="nanocoap_8h_source.html">nanocoap.h</a>.</p>

</div>
</div>
<a id="ga955e0dcf39e6b42201cfe110cd1ee605"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga955e0dcf39e6b42201cfe110cd1ee605">&#9670;&nbsp;</a></span>coap_opt_add_block2_control()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static ssize_t coap_opt_add_block2_control </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *&#160;</td>
          <td class="paramname"><em>pkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcoap__block1__t.html">coap_block1_t</a> *&#160;</td>
          <td class="paramname"><em>block</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Encode the given block2 option in control use. </p>
<dl class="section post"><dt>Postcondition</dt><dd>pkt.payload advanced to first byte after option </dd>
<dd>
pkt.payload_len reduced by option length</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">pkt</td><td>pkt referencing target buffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">block</td><td>block to encode</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>number of bytes written to buffer </dd>
<dd>
&lt;0 on error </dd>
<dd>
-ENOSPC if no available options or insufficient buffer space </dd></dl>

<p class="definition">Definition at line <a class="el" href="nanocoap_8h_source.html#l01430">1430</a> of file <a class="el" href="nanocoap_8h_source.html">nanocoap.h</a>.</p>

</div>
</div>
<a id="gadadbdc1805c58d4e00df9681a789c430"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadadbdc1805c58d4e00df9681a789c430">&#9670;&nbsp;</a></span>coap_opt_add_chars()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t coap_opt_add_chars </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *&#160;</td>
          <td class="paramname"><em>pkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>optnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>chars</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>chars_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>separator</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Encode the given array of characters as option(s) into pkt. </p>
<p>Use separator to split array of characters into multiple options.</p>
<dl class="section post"><dt>Postcondition</dt><dd>pkt.payload advanced to first byte after option(s) </dd>
<dd>
pkt.payload_len reduced by option(s) length</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">pkt</td><td>pkt referencing target buffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">optnum</td><td>option number to use </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">chars</td><td>array of characters to encode as option </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">chars_len</td><td>length of <code>chars</code> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">separator</td><td>character used in <code>string</code> to separate parts</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>number of bytes written to buffer </dd>
<dd>
&lt;0 on error </dd>
<dd>
-ENOSPC if no available options or insufficient buffer space </dd></dl>

</div>
</div>
<a id="ga23be123d046524b6b1269e26fb3150e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga23be123d046524b6b1269e26fb3150e0">&#9670;&nbsp;</a></span>coap_opt_add_format()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static ssize_t coap_opt_add_format </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *&#160;</td>
          <td class="paramname"><em>pkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>format</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Append a Content-Format option to the pkt buffer. </p>
<dl class="section post"><dt>Postcondition</dt><dd>pkt.payload advanced to first byte after option </dd>
<dd>
pkt.payload_len reduced by option length</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">pkt</td><td>pkt referencing target buffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">format</td><td>COAP_FORMAT_xxx to use</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>number of bytes written to buffer </dd>
<dd>
&lt;0 on error </dd>
<dd>
-ENOSPC if no available options or insufficient buffer space </dd></dl>

<p class="definition">Definition at line <a class="el" href="nanocoap_8h_source.html#l01467">1467</a> of file <a class="el" href="nanocoap_8h_source.html">nanocoap.h</a>.</p>

</div>
</div>
<a id="gaa4718e0f66039d960756815a8eafdab6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa4718e0f66039d960756815a8eafdab6">&#9670;&nbsp;</a></span>coap_opt_add_opaque()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t coap_opt_add_opaque </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *&#160;</td>
          <td class="paramname"><em>pkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>optnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>val_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Encode the given buffer as an opaque data option into pkt. </p>
<dl class="section post"><dt>Postcondition</dt><dd>pkt.payload advanced to first byte after option(s) </dd>
<dd>
pkt.payload_len reduced by option(s) length</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">pkt</td><td>pkt referencing target buffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">optnum</td><td>option number to use </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">val</td><td>pointer to the value to be set </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">val_len</td><td>length of val</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>number of bytes written to buffer </dd>
<dd>
&lt;0 on error </dd>
<dd>
-ENOSPC if no available options </dd></dl>

</div>
</div>
<a id="gabe53a821876c7cbca41eb7df4a109af1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabe53a821876c7cbca41eb7df4a109af1">&#9670;&nbsp;</a></span>coap_opt_add_proxy_uri()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t coap_opt_add_proxy_uri </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *&#160;</td>
          <td class="paramname"><em>pkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>uri</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds a single Proxy-URI option into <code>pkt</code>. </p>
<dl class="section note"><dt>Note</dt><dd><code>uri</code> must be a NULL-terminated absolute URI</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">pkt</td><td>Packet being built </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">uri</td><td>absolute proxy URI</td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>((pkt != NULL) &amp;&amp; (uri != NULL))</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>number of bytes written to pkt buffer </dd>
<dd>
&lt;0 on error </dd>
<dd>
-ENOSPC if no available options or pkt full </dd></dl>

</div>
</div>
<a id="ga74e2c4542cc77468f43a14efa41ca27c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga74e2c4542cc77468f43a14efa41ca27c">&#9670;&nbsp;</a></span>coap_opt_add_string()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static ssize_t coap_opt_add_string </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *&#160;</td>
          <td class="paramname"><em>pkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>optnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>string</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>separator</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Encode the given string as option(s) into pkt. </p>
<p>Use separator to split string into multiple options.</p>
<dl class="section post"><dt>Postcondition</dt><dd>pkt.payload advanced to first byte after option(s) </dd>
<dd>
pkt.payload_len reduced by option(s) length</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">pkt</td><td>pkt referencing target buffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">optnum</td><td>option number to use </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">string</td><td>string to encode as option </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">separator</td><td>character used in <code>string</code> to separate parts</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>number of bytes written to buffer </dd>
<dd>
&lt;0 on error </dd>
<dd>
-ENOSPC if no available options or insufficient buffer space </dd></dl>

<p class="definition">Definition at line <a class="el" href="nanocoap_8h_source.html#l01585">1585</a> of file <a class="el" href="nanocoap_8h_source.html">nanocoap.h</a>.</p>

</div>
</div>
<a id="gaea2005a7729753df4c2725e098f12a80"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaea2005a7729753df4c2725e098f12a80">&#9670;&nbsp;</a></span>coap_opt_add_uint()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t coap_opt_add_uint </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *&#160;</td>
          <td class="paramname"><em>pkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>optnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Encode the given uint option into pkt. </p>
<dl class="section post"><dt>Postcondition</dt><dd>pkt.payload advanced to first byte after option </dd>
<dd>
pkt.payload_len reduced by option length</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">pkt</td><td>pkt referencing target buffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">optnum</td><td>option number to use </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">value</td><td>uint to encode</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>number of bytes written to buffer </dd>
<dd>
&lt;0 on error </dd>
<dd>
-ENOSPC if no available options or insufficient buffer space </dd></dl>

</div>
</div>
<a id="ga2cb5b1334087b1d542595600ba0197d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2cb5b1334087b1d542595600ba0197d5">&#9670;&nbsp;</a></span>coap_opt_add_uri_path()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static ssize_t coap_opt_add_uri_path </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *&#160;</td>
          <td class="paramname"><em>pkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Adds one or multiple Uri-Path options in the form '/path' into pkt. </p>
<dl class="section note"><dt>Note</dt><dd>Use this only for null-terminated strings.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">pkt</td><td>Packet being built </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">path</td><td><code>\0</code>-terminated resource (sub)path</td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>((pkt != NULL) &amp;&amp; (path != NULL))</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>number of bytes written to pkt buffer </dd>
<dd>
&lt;0 on error </dd>
<dd>
-ENOSPC if no available options or pkt full </dd></dl>

<p class="definition">Definition at line <a class="el" href="nanocoap_8h_source.html#l01605">1605</a> of file <a class="el" href="nanocoap_8h_source.html">nanocoap.h</a>.</p>

</div>
</div>
<a id="gaa59adce73127513c17ca99312d96f3c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa59adce73127513c17ca99312d96f3c5">&#9670;&nbsp;</a></span>coap_opt_add_uri_path_buffer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static ssize_t coap_opt_add_uri_path_buffer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *&#160;</td>
          <td class="paramname"><em>pkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>path_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Adds one or multiple Uri-Path options in the form '/path' into pkt. </p>
<dl class="section note"><dt>Note</dt><dd>Use this only for null-terminated strings.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">pkt</td><td>Packet being built </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">path</td><td>Resource (sub)path </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">path_len</td><td>Length of <code>path</code> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>((pkt != NULL) &amp;&amp; (path != NULL))</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>number of bytes written to pkt buffer </dd>
<dd>
&lt;0 on error </dd>
<dd>
-ENOSPC if no available options or pkt full </dd></dl>

<p class="definition">Definition at line <a class="el" href="nanocoap_8h_source.html#l01625">1625</a> of file <a class="el" href="nanocoap_8h_source.html">nanocoap.h</a>.</p>

</div>
</div>
<a id="ga05535cd5dff6273ca1dab93844d73b54"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga05535cd5dff6273ca1dab93844d73b54">&#9670;&nbsp;</a></span>coap_opt_add_uri_query()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static ssize_t coap_opt_add_uri_query </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *&#160;</td>
          <td class="paramname"><em>pkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Adds a single Uri-Query option in the form 'key=value' into pkt. </p>
<dl class="section note"><dt>Note</dt><dd>Use this only for null-terminated string. See <a class="el" href="group__net__nanocoap.html#gafb97506fa0fd76a3631bf8037157824f">coap_opt_add_uri_query2()</a> for non null-terminated string.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">pkt</td><td>Packet being built </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">key</td><td>Key to add to the query string </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">val</td><td>Value to assign to <code>key</code> (may be NULL)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>((pkt != NULL) &amp;&amp; (key != NULL))</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>number of bytes written to pkt buffer </dd>
<dd>
&lt;0 on error </dd>
<dd>
-ENOSPC if no available options or pkt full </dd></dl>

<p class="definition">Definition at line <a class="el" href="nanocoap_8h_source.html#l01525">1525</a> of file <a class="el" href="nanocoap_8h_source.html">nanocoap.h</a>.</p>

</div>
</div>
<a id="gafb97506fa0fd76a3631bf8037157824f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafb97506fa0fd76a3631bf8037157824f">&#9670;&nbsp;</a></span>coap_opt_add_uri_query2()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t coap_opt_add_uri_query2 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *&#160;</td>
          <td class="paramname"><em>pkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>key_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>val_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds a single Uri-Query option in the form 'key=value' into pkt. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">pkt</td><td>Packet being built </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">key</td><td>Key to add to the query string </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">key_len</td><td>Length of <code>key</code> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">val</td><td>Value to assign to <code>key</code> (may be NULL) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">val_len</td><td>Length of <code>val</code>. 0 if <code>val</code> is NULL</td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>((pkt != NULL) &amp;&amp; (key != NULL) &amp;&amp; (key_len &gt; 0) &amp;&amp; ((val_len == 0) || ((val != NULL) &amp;&amp; (val_len &gt; 0))))</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>number of bytes written to pkt buffer </dd>
<dd>
&lt;0 on error </dd>
<dd>
-ENOSPC if no available options or pkt full </dd></dl>

</div>
</div>
<a id="gaf94c66182f7412d256c32c66d1d7a012"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf94c66182f7412d256c32c66d1d7a012">&#9670;&nbsp;</a></span>coap_opt_finish()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t coap_opt_finish </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *&#160;</td>
          <td class="paramname"><em>pkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Finalizes options as required and prepares for payload. </p>
<dl class="section post"><dt>Postcondition</dt><dd>pkt.payload advanced to first available byte after options </dd>
<dd>
pkt.payload_len is maximum bytes available for payload</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">pkt</td><td>pkt to update </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">flags</td><td>see COAP_OPT_FINISH... macros</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>total number of bytes written to buffer </dd>
<dd>
-ENOSPC if no buffer space for payload marker </dd></dl>

</div>
</div>
<a id="ga5b206b209fb25b1c94b4375bd3a9bdff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5b206b209fb25b1c94b4375bd3a9bdff">&#9670;&nbsp;</a></span>coap_opt_get_next()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t coap_opt_get_next </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *&#160;</td>
          <td class="paramname"><em>pkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcoap__optpos__t.html">coap_optpos_t</a> *&#160;</td>
          <td class="paramname"><em>opt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t **&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>init_opt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Iterate over a packet's options. </p>
<p>To start iteration from the first option, set <code>init_opt</code> to true. To start iteration from a specific option, set <code>init_opt</code> to false, set <code>opt-&gt;offset</code> to the offset of the desired option from pkt-&gt;hdr, and <code>opt-&gt;opt_num</code> as required. See below for how <code>opt-&gt;opt_num</code> is modified.</p>
<p>With each invocation, this function returns the length of the option value and sets <code>value</code> to point to the start of the value. The value for <code>opt-&gt;opt_num</code> is increased by the delta in the option number value over the preceding option in the packet. So, <code>opt-&gt;opt_num</code> is accurate if iteration started with the first option. Otherwise, it is useful for identification of repeated options. Finally, <code>opt-&gt;offset</code> is set to the offset for any following option, to prepare for the next iteration.</p>
<p>The end of the options is indicated by a -ENOENT return value. In this case <code>value</code> and <code>opt</code> are unchanged from their input values.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pkt</td><td>packet to read from </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">opt</td><td>option attributes; read on input if <code>init_opt</code> is false </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">value</td><td>start of the option value </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">init_opt</td><td>true to retrieve first option; false to retrieve option at opt-&gt;offset</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>length of option value </dd>
<dd>
-ENOENT if option not found </dd></dl>

</div>
</div>
<a id="ga9b67d4d09299043cbb3194ffaad4da6b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9b67d4d09299043cbb3194ffaad4da6b">&#9670;&nbsp;</a></span>coap_opt_get_opaque()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t coap_opt_get_opaque </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *&#160;</td>
          <td class="paramname"><em>pkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>opt_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t **&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve the value for an option as an opaque array of bytes. </p>
<p>Retrieves the location and length of the option value of any type. Useful for an opaque option, which essentially is an array of bytes. If more than one option for a given option number, retrieves the first option. To retrieve subsequent options, see <a class="el" href="group__net__nanocoap.html#ga5b206b209fb25b1c94b4375bd3a9bdff" title="Iterate over a packet&#39;s options. ">coap_opt_get_next()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pkt</td><td>packet to read from </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">opt_num</td><td>option number to retrieve </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">value</td><td>start of the option value</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>length of option; 0 if the option exists but is empty </dd>
<dd>
-ENOENT if option not found </dd>
<dd>
-EINVAL if option cannot be parsed </dd></dl>

</div>
</div>
<a id="ga392f39ba90e17bd5d22f13cbcb0e1eb6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga392f39ba90e17bd5d22f13cbcb0e1eb6">&#9670;&nbsp;</a></span>coap_opt_get_string()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t coap_opt_get_string </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *&#160;</td>
          <td class="paramname"><em>pkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>optnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>max_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>separator</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read a full option as null terminated string into the target buffer. </p>
<p>This function is for reading and concatenating string based, multi-part CoAP options like COAP_OPT_URI_PATH or COAP_OPT_LOCATION_PATH. It will write all parts of the given option into the target buffer, separating the parts using the given <code>separator</code>. The resulting string is <code>\0</code> terminated.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pkt</td><td>packet to read from </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">optnum</td><td>absolute option number </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">target</td><td>target buffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">max_len</td><td>size of <code>target</code> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">separator</td><td>character used for separating the option parts</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>-ENOSPC if the complete option does not fit into <code>target</code> </dd>
<dd>
nr of bytes written to <code>target</code> (including '\0') </dd></dl>

</div>
</div>
<a id="ga4cbc9a753f42af030699668332ace4f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4cbc9a753f42af030699668332ace4f9">&#9670;&nbsp;</a></span>coap_opt_get_uint()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int coap_opt_get_uint </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *&#160;</td>
          <td class="paramname"><em>pkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>optnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a uint32 option value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pkt</td><td>packet to read from </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">optnum</td><td>absolute option number </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">value</td><td>the parsed option value</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if the option was found and the value was parsed correctly </dd>
<dd>
-ENOENT if the option was not found in <code>pkt</code> </dd>
<dd>
-ENOSPC if option length is greater than 4 octets </dd>
<dd>
-EBADMSG if option value is invalid </dd></dl>

</div>
</div>
<a id="ga13ca1b67c40bbce7e8c4c9549a91486d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga13ca1b67c40bbce7e8c4c9549a91486d">&#9670;&nbsp;</a></span>coap_opt_put_block()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t coap_opt_put_block </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>lastonum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcoap__block__slicer__t.html">coap_block_slicer_t</a> *&#160;</td>
          <td class="paramname"><em>slicer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>more</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>option</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Insert block option into buffer. </p>
<p>When calling this function to initialize a packet with a block option, the more flag must be set to prevent the creation of an option with a length too small to contain the size bit.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">buf</td><td>buffer to write to </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lastonum</td><td>number of previous option, must be &lt; <code>option</code> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">slicer</td><td>coap blockwise slicer helper struct </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">more</td><td>more flag (1 or 0) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">option</td><td>option number (block1 or block2)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>amount of bytes written to <code>buf</code> </dd></dl>

</div>
</div>
<a id="ga23b4e612b7778c07484fb37463c6c46c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga23b4e612b7778c07484fb37463c6c46c">&#9670;&nbsp;</a></span>coap_opt_put_block1()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static size_t coap_opt_put_block1 </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>lastonum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcoap__block__slicer__t.html">coap_block_slicer_t</a> *&#160;</td>
          <td class="paramname"><em>slicer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>more</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Insert block1 option into buffer. </p>
<p>When calling this function to initialize a packet with a block1 option, the more flag must be set to prevent the creation of an option with a length too small to contain the size bit.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">buf</td><td>buffer to write to </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lastonum</td><td>number of previous option (for delta calculation), must be &lt; 27 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">slicer</td><td>coap blockwise slicer helper struct </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">more</td><td>more flag (1 or 0)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>amount of bytes written to <code>buf</code> </dd></dl>

<p class="definition">Definition at line <a class="el" href="nanocoap_8h_source.html#l01709">1709</a> of file <a class="el" href="nanocoap_8h_source.html">nanocoap.h</a>.</p>

</div>
</div>
<a id="gac3ba3c537ce0edb4115b0203d57afb3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac3ba3c537ce0edb4115b0203d57afb3a">&#9670;&nbsp;</a></span>coap_opt_put_block1_control()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static size_t coap_opt_put_block1_control </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>lastonum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcoap__block1__t.html">coap_block1_t</a> *&#160;</td>
          <td class="paramname"><em>block</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Insert block1 option into buffer in control usage. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">buf</td><td>buffer to write to </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lastonum</td><td>last option number (must be &lt; 27) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">block</td><td>block option attribute struct</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>amount of bytes written to <code>buf</code> </dd></dl>

<p class="definition">Definition at line <a class="el" href="nanocoap_8h_source.html#l01759">1759</a> of file <a class="el" href="nanocoap_8h_source.html">nanocoap.h</a>.</p>

</div>
</div>
<a id="ga5bfad86a61eb99c3727ae624c6e2594f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5bfad86a61eb99c3727ae624c6e2594f">&#9670;&nbsp;</a></span>coap_opt_put_block2()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static size_t coap_opt_put_block2 </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>lastonum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcoap__block__slicer__t.html">coap_block_slicer_t</a> *&#160;</td>
          <td class="paramname"><em>slicer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>more</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Insert block2 option into buffer. </p>
<p>When calling this function to initialize a packet with a block2 option, the more flag must be set to prevent the creation of an option with a length too small to contain the size bit.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">buf</td><td>buffer to write to </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lastonum</td><td>number of previous option (for delta calculation), must be &lt; 23 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">slicer</td><td>coap blockwise slicer helper struct </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">more</td><td>more flag (1 or 0)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>amount of bytes written to <code>buf</code> </dd></dl>

<p class="definition">Definition at line <a class="el" href="nanocoap_8h_source.html#l01730">1730</a> of file <a class="el" href="nanocoap_8h_source.html">nanocoap.h</a>.</p>

</div>
</div>
<a id="ga14bb5cc27fb33ff8abca2d63484b1f10"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga14bb5cc27fb33ff8abca2d63484b1f10">&#9670;&nbsp;</a></span>coap_opt_put_block2_control()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static size_t coap_opt_put_block2_control </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>lastonum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcoap__block1__t.html">coap_block1_t</a> *&#160;</td>
          <td class="paramname"><em>block</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Insert block2 option into buffer in control usage. </p>
<p>Forces value of block 'more' attribute to zero, per spec.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">buf</td><td>buffer to write to </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lastonum</td><td>last option number (must be &lt; 27) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">block</td><td>block option attribute struct</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>amount of bytes written to <code>buf</code> </dd></dl>

<p class="definition">Definition at line <a class="el" href="nanocoap_8h_source.html#l01777">1777</a> of file <a class="el" href="nanocoap_8h_source.html">nanocoap.h</a>.</p>

</div>
</div>
<a id="gaae6f2f667008af2ca2f5848fc60180d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaae6f2f667008af2ca2f5848fc60180d8">&#9670;&nbsp;</a></span>coap_opt_put_location_path()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static size_t coap_opt_put_location_path </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>lastonum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>location</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Convenience function for inserting LOCATION_PATH option into buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">buf</td><td>buffer to write to </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lastonum</td><td>number of previous option (for delta calculation), or 0 if first option </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">location</td><td>ptr to string holding the location</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>amount of bytes written to <code>buf</code> </dd></dl>

<p class="definition">Definition at line <a class="el" href="nanocoap_8h_source.html#l01846">1846</a> of file <a class="el" href="nanocoap_8h_source.html">nanocoap.h</a>.</p>

</div>
</div>
<a id="gaa92fbf12cb1c506927dfef813d37e10f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa92fbf12cb1c506927dfef813d37e10f">&#9670;&nbsp;</a></span>coap_opt_put_location_query()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static size_t coap_opt_put_location_query </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>lastonum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>location</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Convenience function for inserting LOCATION_QUERY option into buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">buf</td><td>buffer to write to </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lastonum</td><td>number of previous option (for delta calculation), or 0 if first option </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">location</td><td>ptr to string holding the location</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>amount of bytes written to <code>buf</code> </dd></dl>

<p class="definition">Definition at line <a class="el" href="nanocoap_8h_source.html#l01864">1864</a> of file <a class="el" href="nanocoap_8h_source.html">nanocoap.h</a>.</p>

</div>
</div>
<a id="ga5c77cfc860255817a49fdaf5f347b46a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5c77cfc860255817a49fdaf5f347b46a">&#9670;&nbsp;</a></span>coap_opt_put_observe()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static size_t coap_opt_put_observe </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>lastonum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>obs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Insert an CoAP Observe Option into the buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">buf</td><td>Buffer to write to </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lastonum</td><td>last option number (must be &lt; 6) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">obs</td><td>observe number to write</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>amount of bytes written to <code>buf</code> </dd></dl>

<p class="definition">Definition at line <a class="el" href="nanocoap_8h_source.html#l01794">1794</a> of file <a class="el" href="nanocoap_8h_source.html">nanocoap.h</a>.</p>

</div>
</div>
<a id="ga919fb509d614281d184a1faa67a3e489"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga919fb509d614281d184a1faa67a3e489">&#9670;&nbsp;</a></span>coap_opt_put_proxy_uri()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static size_t coap_opt_put_proxy_uri </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>lastonum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>uri</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Convenience function for inserting PROXY_URI option into buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">buf</td><td>buffer to write to </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lastonum</td><td>number of previous option (for delta calculation), or 0 if first option </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">uri</td><td>ptr to source URI</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>amount of bytes written to <code>buf</code> </dd></dl>

<p class="definition">Definition at line <a class="el" href="nanocoap_8h_source.html#l01934">1934</a> of file <a class="el" href="nanocoap_8h_source.html">nanocoap.h</a>.</p>

</div>
</div>
<a id="ga5468845659236294d6c9d9e257d44f27"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5468845659236294d6c9d9e257d44f27">&#9670;&nbsp;</a></span>coap_opt_put_string()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static size_t coap_opt_put_string </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>lastonum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>optnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>string</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>separator</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Encode the given string as multi-part option into buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">buf</td><td>buffer to write to </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lastonum</td><td>number of previous option (for delta calculation), or 0 if first option </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">optnum</td><td>option number to use </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">string</td><td>string to encode as option </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">separator</td><td>character used in <code>string</code> to separate parts</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>number of bytes written to <code>buf</code> </dd></dl>

<p class="definition">Definition at line <a class="el" href="nanocoap_8h_source.html#l01828">1828</a> of file <a class="el" href="nanocoap_8h_source.html">nanocoap.h</a>.</p>

</div>
</div>
<a id="ga741a95660a6966aceb8be4f9e916feda"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga741a95660a6966aceb8be4f9e916feda">&#9670;&nbsp;</a></span>coap_opt_put_string_with_len()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t coap_opt_put_string_with_len </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>lastonum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>optnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>string</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>separator</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Encode the given string as multi-part option into buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">buf</td><td>buffer to write to </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lastonum</td><td>number of previous option (for delta calculation), or 0 if first option </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">optnum</td><td>option number to use </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">string</td><td>string to encode as option </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">len</td><td>length of the string </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">separator</td><td>character used in <code>string</code> to separate parts</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>number of bytes written to <code>buf</code> </dd></dl>

</div>
</div>
<a id="ga41a222e47483a384f685a9ac7f840151"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga41a222e47483a384f685a9ac7f840151">&#9670;&nbsp;</a></span>coap_opt_put_uint()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t coap_opt_put_uint </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>lastonum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>onum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Encode the given uint option into buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">buf</td><td>buffer to write to </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lastonum</td><td>number of previous option (for delta calculation), or 0 for first option </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">onum</td><td>number of option </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">value</td><td>value to encode</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>amount of bytes written to <code>buf</code> </dd></dl>

</div>
</div>
<a id="ga35df8ea7b9c63c2e4b3f718931d6bbab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga35df8ea7b9c63c2e4b3f718931d6bbab">&#9670;&nbsp;</a></span>coap_opt_put_uri_path()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static size_t coap_opt_put_uri_path </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>lastonum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>uri</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Convenience function for inserting URI_PATH option into buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">buf</td><td>buffer to write to </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lastonum</td><td>number of previous option (for delta calculation), or 0 if first option </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">uri</td><td>ptr to source URI</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>amount of bytes written to <code>buf</code> </dd></dl>

<p class="definition">Definition at line <a class="el" href="nanocoap_8h_source.html#l01882">1882</a> of file <a class="el" href="nanocoap_8h_source.html">nanocoap.h</a>.</p>

</div>
</div>
<a id="gaf2e035c5bed8667e264b8471bf0753de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf2e035c5bed8667e264b8471bf0753de">&#9670;&nbsp;</a></span>coap_opt_put_uri_pathquery()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t coap_opt_put_uri_pathquery </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *&#160;</td>
          <td class="paramname"><em>lastonum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>uri</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convenience function for inserting URI_PATH and URI_QUERY into buffer This function will automatically split path and query parameters. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">buf</td><td>buffer to write to </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">lastonum</td><td>number of previous option (for delta calculation), or 0 if first option May be NULL, then previous option is assumed to be 0. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">uri</td><td>ptr into a source URI, to the first character after the authority component</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>amount of bytes written to <code>buf</code> </dd></dl>
<p>This function may produce two different options (Uri-Path and Uri-Query). Users that need to insert Content-Format, Max-Age or the currently unassigned option 13 need to split their URI themselves and call the respective helper functions. </p>

</div>
</div>
<a id="ga1348542be4ac0616a522171f61c9d8c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1348542be4ac0616a522171f61c9d8c7">&#9670;&nbsp;</a></span>coap_opt_put_uri_query()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static size_t coap_opt_put_uri_query </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>lastonum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>uri</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Convenience function for inserting URI_QUERY option into buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">buf</td><td>buffer to write to </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lastonum</td><td>number of previous option (for delta calculation), or 0 if first option </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">uri</td><td>ptr to source URI</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>amount of bytes written to <code>buf</code> </dd></dl>

<p class="definition">Definition at line <a class="el" href="nanocoap_8h_source.html#l01898">1898</a> of file <a class="el" href="nanocoap_8h_source.html">nanocoap.h</a>.</p>

</div>
</div>
<a id="gadec4dd6f9ab2fdc45c73cc8774255b54"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadec4dd6f9ab2fdc45c73cc8774255b54">&#9670;&nbsp;</a></span>coap_opt_remove()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t coap_opt_remove </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *&#160;</td>
          <td class="paramname"><em>pkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>optnum</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Removes an option previously added with function in <a class="el" href="group__net__nanocoap.html#net_nanocoap_opt_add">the coap_opt_add_...() group</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pkt</td><td>Packet to remove option from. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">optnum</td><td>Option number of the option to remove. If the option appears more than once, the first occurrence will be removed</td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>pkt != NULL </dd>
<dd>
The packet was finished using <a class="el" href="group__net__nanocoap.html#gaf94c66182f7412d256c32c66d1d7a012">coap_opt_finish()</a> and any payload is in its final configuration.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>The new size of the packet with option of number <code>optnum</code> removed. In turn this means if there is no such option in the packet, the original size of the packet will be removed. </dd>
<dd>
-EINVAL if there was a parsing error for the existing options </dd></dl>

</div>
</div>
<a id="gad60d02b4df6c510da7931ac15e430378"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad60d02b4df6c510da7931ac15e430378">&#9670;&nbsp;</a></span>coap_parse()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int coap_parse </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *&#160;</td>
          <td class="paramname"><em>pkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse a CoAP PDU. </p>
<p>This function parses a raw CoAP PDU from <code>buf</code> with size <code>len</code> and fills the structure pointed to by <code>pkt</code>. <code>pkt</code> must point to a preallocated <a class="el" href="structcoap__pkt__t.html" title="CoAP PDU parsing context structure. ">coap_pkt_t</a> structure.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">pkt</td><td>structure to parse into </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buf</td><td>pointer to raw packet data </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">len</td><td>length of packet at <code>buf</code> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success </dd>
<dd>
&lt;0 on error </dd></dl>

</div>
</div>
<a id="ga92bef734570cfc51d14086848a4c2f6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga92bef734570cfc51d14086848a4c2f6d">&#9670;&nbsp;</a></span>coap_payload_advance_bytes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void coap_payload_advance_bytes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *&#160;</td>
          <td class="paramname"><em>pkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Advance the payload pointer. </p>
<dl class="section pre"><dt>Precondition</dt><dd>You added <code>len</code> bytes of data to <code>pkt-&gt;payload</code>.</dd></dl>
<p>You can add payload to a CoAP request by writing data directly to <code>pkt-&gt;payload</code>. This convenience function takes care of advancing the payload pointer afterwards.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">pkt</td><td>pkt to which payload was added </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">len</td><td>length of payload </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="nanocoap_8h_source.html#l02227">2227</a> of file <a class="el" href="nanocoap_8h_source.html">nanocoap.h</a>.</p>

</div>
</div>
<a id="ga45aa5ae34f7016836ad711f0d0ae2a17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga45aa5ae34f7016836ad711f0d0ae2a17">&#9670;&nbsp;</a></span>coap_payload_put_bytes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t coap_payload_put_bytes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *&#160;</td>
          <td class="paramname"><em>pkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add payload data to the CoAP request. </p>
<dl class="section pre"><dt>Precondition</dt><dd><a class="el" href="group__net__nanocoap.html#gaf94c66182f7412d256c32c66d1d7a012">coap_opt_finish</a> must have been called before with the <a class="el" href="group__net__nanocoap.html#gadd9f00151231a6abfaf1f2bb2e046c1e">COAP_OPT_FINISH_PAYLOAD</a> option.</dd></dl>
<p>The function copies <code>data</code> into the payload buffer of <code>pkt</code> and advances the payload pointer.</p>
<p>This is just a convenience function, you can also directly write to <code>pkt-&gt;payload</code> if you have a function that outputs payload to a buffer. In this case you should instead call <a class="el" href="group__net__nanocoap.html#ga92bef734570cfc51d14086848a4c2f6d">coap_payload_advance_bytes</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">pkt</td><td>pkt to add payload to </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>payload data </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">len</td><td>length of payload</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>number of payload bytes added on success </dd>
<dd>
&lt; 0 on error </dd></dl>

</div>
</div>
<a id="ga8cd5d5e42bc3d1571b4b09a3318d2cb5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8cd5d5e42bc3d1571b4b09a3318d2cb5">&#9670;&nbsp;</a></span>coap_payload_put_char()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t coap_payload_put_char </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *&#160;</td>
          <td class="paramname"><em>pkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>c</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a single character to the payload data of the CoAP request. </p>
<p>This function is used to add single characters to a CoAP payload data. It checks whether the character can be added to the buffer and ignores if the payload area is already exhausted.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">pkt</td><td>pkt to add payload to </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">c</td><td>character to write</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>number of payload bytes added on success (always one) </dd>
<dd>
&lt; 0 on error </dd></dl>

</div>
</div>
<a id="ga2331aaab2eec33acbbfb07f042c5e770"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2331aaab2eec33acbbfb07f042c5e770">&#9670;&nbsp;</a></span>coap_pkt_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void coap_pkt_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *&#160;</td>
          <td class="paramname"><em>pkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>header_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize a packet struct, to build a message buffer. </p>
<dl class="section pre"><dt>Precondition</dt><dd>buf CoAP header already initialized </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>pkt.flags all zeroed </dd>
<dd>
pkt.payload points to first byte after header </dd>
<dd>
pkt.payload_len set to maximum space available for options + payload</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">pkt</td><td>pkt to initialize </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buf</td><td>buffer to write for pkt, with CoAP header already initialized </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">len</td><td>length of buf </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">header_len</td><td>length of header in buf, including token </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga11152f456ea417b684ec0d66dad4fa77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga11152f456ea417b684ec0d66dad4fa77">&#9670;&nbsp;</a></span>coap_pkt_set_code()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void coap_pkt_set_code </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *&#160;</td>
          <td class="paramname"><em>pkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>code</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Write the given raw message code to given CoAP pkt. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">pkt</td><td>CoAP packet to write to </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">code</td><td>raw message code </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="nanocoap_8h_source.html#l00691">691</a> of file <a class="el" href="nanocoap_8h_source.html">nanocoap.h</a>.</p>

</div>
</div>
<a id="gaf067e5f033cfd6828b5c9fba2998e96c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf067e5f033cfd6828b5c9fba2998e96c">&#9670;&nbsp;</a></span>coap_put_block1_ok()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t coap_put_block1_ok </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>pkt_pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcoap__block1__t.html">coap_block1_t</a> *&#160;</td>
          <td class="paramname"><em>block1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>lastonum</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Insert block1 option into buffer (from <a class="el" href="structcoap__block1__t.html" title="Block1 helper struct. ">coap_block1_t</a>) </p>
<p>This function is wrapper around <a class="el" href="group__net__nanocoap.html#ga9513e26ab6bd35776272b67e423cae9b">coap_put_option_block1()</a>, taking its arguments from a <a class="el" href="structcoap__block1__t.html" title="Block1 helper struct. ">coap_block1_t</a> struct.</p>
<p>It will write option Nr. 27 (COAP_OPT_BLOCK1).</p>
<p>It is safe to be called when <code>block1</code> was generated for a non-blockwise request.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pkt_pos</td><td>buffer to write to </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">block1</td><td>ptr to block1 struct (created by <a class="el" href="group__net__nanocoap.html#ga843ab80385da82c6c56a7221dd9ffa68" title="Block1 option getter. ">coap_get_block1()</a>) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lastonum</td><td>last option number (must be &lt; 27)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>amount of bytes written to <code>pkt_pos</code> </dd></dl>

</div>
</div>
<a id="gaa34dbc07aa67c377e89df1f12e1832a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa34dbc07aa67c377e89df1f12e1832a7">&#9670;&nbsp;</a></span>coap_put_option()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t coap_put_option </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>lastonum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>onum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>odata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>olen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Insert a CoAP option into buffer. </p>
<p>This function writes a CoAP option with nr. <code>onum</code> to <code>buf</code>. It handles calculating the option delta (from <code>lastonum</code>), encoding the length from <code>olen</code> and copying the option data from <code>odata</code>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">buf</td><td>buffer to write to </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lastonum</td><td>number of previous option (for delta calculation), or 0 for first option </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">onum</td><td>number of option </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">odata</td><td>ptr to raw option data (or NULL) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">olen</td><td>length of <code>odata</code> (if any)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>amount of bytes written to <code>buf</code> </dd></dl>

</div>
</div>
<a id="ga9513e26ab6bd35776272b67e423cae9b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9513e26ab6bd35776272b67e423cae9b">&#9670;&nbsp;</a></span>coap_put_option_block1()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static size_t coap_put_option_block1 </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>lastonum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>blknum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>szx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>more</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Insert block1 option into buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">buf</td><td>buffer to write to </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lastonum</td><td>number of previous option (for delta calculation), must be &lt; 27 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">blknum</td><td>block number </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">szx</td><td>SXZ value </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">more</td><td>more flag (1 or 0)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>amount of bytes written to <code>buf</code> </dd></dl>

<p class="definition">Definition at line <a class="el" href="nanocoap_8h_source.html#l01989">1989</a> of file <a class="el" href="nanocoap_8h_source.html">nanocoap.h</a>.</p>

</div>
</div>
<a id="gabcad56b116847388300027086d417ca3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabcad56b116847388300027086d417ca3">&#9670;&nbsp;</a></span>coap_put_option_ct()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static size_t coap_put_option_ct </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>lastonum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>content_type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Insert content type option into buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">buf</td><td>buffer to write to </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lastonum</td><td>number of previous option (for delta calculation), or 0 if first option </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">content_type</td><td>content type to set</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>amount of bytes written to <code>buf</code> </dd></dl>

<p class="definition">Definition at line <a class="el" href="nanocoap_8h_source.html#l02006">2006</a> of file <a class="el" href="nanocoap_8h_source.html">nanocoap.h</a>.</p>

</div>
</div>
<a id="gac430f1177b2576b8555bd133a2fc0835"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac430f1177b2576b8555bd133a2fc0835">&#9670;&nbsp;</a></span>coap_reply_simple()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t coap_reply_simple </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *&#160;</td>
          <td class="paramname"><em>pkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>code</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>ct</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>payload</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>payload_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create CoAP reply (convenience function) </p>
<p>This is a simple wrapper that allows for building CoAP replies for simple use-cases.</p>
<p>The reply will be written to <code>buf</code>. If <code>payload</code> and <code>payload_len</code> are non-zero, the payload will be copied into the resulting reply packet.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pkt</td><td>packet to reply to </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">code</td><td>reply code (e.g., COAP_CODE_204) </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">buf</td><td>buffer to write reply to </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">len</td><td>size of <code>buf</code> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ct</td><td>content type of payload or <a class="el" href="group__net__nanocoap.html#ga0c9cfbe5210cba4e35c9fbad51a88e19">COAP_FORMAT_NONE</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">payload</td><td>ptr to payload </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">payload_len</td><td>length of payload</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>size of reply packet on success </dd>
<dd>
&lt;0 on error </dd>
<dd>
-ENOSPC if <code>buf</code> too small </dd></dl>

</div>
</div>
<a id="gacabe413a520f73982af806c5acea9d4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacabe413a520f73982af806c5acea9d4b">&#9670;&nbsp;</a></span>coap_request_ctx_get_context()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* coap_request_ctx_get_context </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__net__nanocoap.html#gaedec79122f8968eb8b04e9e9360b392a">coap_request_ctx_t</a> *&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get resource context associated with a CoAP request. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>The request context</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Resource context of the request </dd></dl>

</div>
</div>
<a id="gab70406d17d606a327111006e15a3fabb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab70406d17d606a327111006e15a3fabb">&#9670;&nbsp;</a></span>coap_request_ctx_get_local_udp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="group__net__sock__udp.html#gaedc829c7973d7870c1ec078f9ffd45a1">sock_udp_ep_t</a>* coap_request_ctx_get_local_udp </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__net__nanocoap.html#gaedec79122f8968eb8b04e9e9360b392a">coap_request_ctx_t</a> *&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the local endpoint on which the request has been received. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>The request context</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Local endpoint to which the request has been received </dd>
<dd>
NULL The request was not received via UDP </dd></dl>

</div>
</div>
<a id="gaa6a22181749bab3c0bd0c396e7e52bf4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa6a22181749bab3c0bd0c396e7e52bf4">&#9670;&nbsp;</a></span>coap_request_ctx_get_path()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* coap_request_ctx_get_path </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__net__nanocoap.html#gaedec79122f8968eb8b04e9e9360b392a">coap_request_ctx_t</a> *&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get resource path associated with a CoAP request. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>The request context</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Resource path of the request </dd></dl>

</div>
</div>
<a id="gad01929c7da11c371d7beb519bc741e6b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad01929c7da11c371d7beb519bc741e6b">&#9670;&nbsp;</a></span>coap_request_ctx_get_remote_udp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="group__net__sock__udp.html#gaedc829c7973d7870c1ec078f9ffd45a1">sock_udp_ep_t</a>* coap_request_ctx_get_remote_udp </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__net__nanocoap.html#gaedec79122f8968eb8b04e9e9360b392a">coap_request_ctx_t</a> *&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the remote endpoint from which the request was received. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>The request context</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Remote endpoint from which the request originated </dd>
<dd>
NULL The request was not received via UDP </dd></dl>

</div>
</div>
<a id="ga0124319fe53d28b08400ed6e2431d78c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0124319fe53d28b08400ed6e2431d78c">&#9670;&nbsp;</a></span>coap_request_ctx_get_tl_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t coap_request_ctx_get_tl_type </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__net__nanocoap.html#gaedec79122f8968eb8b04e9e9360b392a">coap_request_ctx_t</a> *&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get transport the packet was received over. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__net__gcoap.html#ga34f7408f6a5a8313a1937bf2697fdaf1">gcoap_socket_type_t</a> for values.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>The request context</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Transport Layer type of the request </dd></dl>

</div>
</div>
<a id="ga4580738e758c95952896d59de4a06a58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4580738e758c95952896d59de4a06a58">&#9670;&nbsp;</a></span>coap_request_ctx_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void coap_request_ctx_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__net__nanocoap.html#gaedec79122f8968eb8b04e9e9360b392a">coap_request_ctx_t</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__net__sock__udp.html#gaedc829c7973d7870c1ec078f9ffd45a1">sock_udp_ep_t</a> *&#160;</td>
          <td class="paramname"><em>remote</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize CoAP request context. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>Pointer to the request context to initialize </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">remote</td><td>Remote endpoint that made the request </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gac26ac04555b98a1d7b7ededdd00a3a0e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac26ac04555b98a1d7b7ededdd00a3a0e">&#9670;&nbsp;</a></span>coap_size2szx()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned coap_size2szx </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>len</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Helper to encode byte size into next equal or smaller SZX value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">len</td><td>Size in bytes</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>closest SZX value that fits into a buffer of <code>len</code> </dd></dl>

<p class="definition">Definition at line <a class="el" href="nanocoap_8h_source.html#l01296">1296</a> of file <a class="el" href="nanocoap_8h_source.html">nanocoap.h</a>.</p>

</div>
</div>
<a id="ga66c92948651d2f1a9bd42a779a83c8e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga66c92948651d2f1a9bd42a779a83c8e4">&#9670;&nbsp;</a></span>coap_subtree_handler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t coap_subtree_handler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *&#160;</td>
          <td class="paramname"><em>pkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>resp_buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>resp_buf_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__net__nanocoap.html#gaedec79122f8968eb8b04e9e9360b392a">coap_request_ctx_t</a> *&#160;</td>
          <td class="paramname"><em>context</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generic coap subtree handler. </p>
<p>This function can be used as a generic handler for resources with the <a class="el" href="group__net__nanocoap.html#ga8c87dddfffd38c7c88c32b49fad9cb26">COAP_MATCH_SUBTREE</a> where a new <a class="el" href="structcoap__resource__t.html">coap_resource_t</a> is to be parsed.</p>
<dl class="section note"><dt>Note</dt><dd>The <code>context</code> must be of type <a class="el" href="structcoap__resource__subtree__t.html">coap_resource_subtree_t</a>.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pkt</td><td>pointer to (parsed) CoAP packet </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">resp_buf</td><td>buffer for response </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">resp_buf_len</td><td>size of response buffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">context</td><td>pointer to request context, must contain context to <a class="el" href="structcoap__resource__subtree__t.html">coap_resource_subtree_t</a> instance</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>size of the reply packet on success </dd>
<dd>
&lt;0 on error </dd></dl>

</div>
</div>
<a id="gaf54135bbf56abb0db4e8fdf62fc3ed9d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf54135bbf56abb0db4e8fdf62fc3ed9d">&#9670;&nbsp;</a></span>coap_tree_handler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t coap_tree_handler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *&#160;</td>
          <td class="paramname"><em>pkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>resp_buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>resp_buf_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__net__nanocoap.html#gaedec79122f8968eb8b04e9e9360b392a">coap_request_ctx_t</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structcoap__resource__t.html">coap_resource_t</a> *&#160;</td>
          <td class="paramname"><em>resources</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>resources_numof</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pass a coap request to a matching handler. </p>
<p>This function will try to find a matching handler in <code>resources</code> and call the handler.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pkt</td><td>pointer to (parsed) CoAP packet </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">resp_buf</td><td>buffer for response </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">resp_buf_len</td><td>size of response buffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ctx</td><td>CoAP request context information </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">resources</td><td>Array of coap endpoint resources </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">resources_numof</td><td>length of the coap endpoint resources</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>size of the reply packet on success </dd>
<dd>
&lt;0 on error </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
    <div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
        <ul>
            <li class="footer">Generated on Wed Mar 12 2025 10:21:33 by <a href="http://www.doxygen.org/index.html">
                       <img class="footer" src="doxygen.png" alt="doxygen"></a> 1.8.14</li>
        </ul>
    </div>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="bootstrap.min.js"></script>
    <script src="jquery.smartmenus.min.js"></script>
    <script src="jquery.smartmenus.bootstrap.min.js"></script>
    <script src="riot-doxy.js"></script>
  </body>
</html>
