<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="icon" type="image/png" href="favicon.png">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Matrix Keypad</title>
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="jquery.min.js"></script>
    <script src="jquery.powertip.min.js"></script>
    <script src="jquery-ui.min.js"></script>
    <script src="jquery.scrollTo.min.js"></script>
    <script src="doxy-jquery.js"></script>
    <script src="dynsections.js"></script>
    <link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
    <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
    <!-- Bootstrap -->
    <link href="doxygen.css" rel="stylesheet">
    <link href="fonts.css" rel="stylesheet">
    <link href="bootstrap.min.css" rel="stylesheet">
    <link href="jquery.smartmenus.bootstrap.css" rel="stylesheet">
    <link href="riot.css" rel="stylesheet">
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
        <script>
            function displaySR(){
            searchBox.Search();
            var rhtml=(document.getElementById('MSearchResults').contentWindow.document.body.innerHTML).replace(/href=\"\.\.\//g,'href="');
            document.getElementById('MSearchResultsWindow').style.display='none';
            document.getElementById('top').append(document.getElementById('MSearchSelectWindow'));
            document.getElementById('top').append(document.getElementById('MSearchResultsWindow'));
            document.getElementById('doc-content').innerHTML=rhtml;
            }
            function modSearch(){
            if(!searchBox.doxySearch){
                searchBox.doxySearch=searchBox.Search
                searchBox.Search= function(){this.doxySearch();
                var r=document.getElementById('MSearchResultsWindow');console.log(r.style);
                if(parseInt(r.style.left)<0)r.style.left=0;
                var x=document.getElementById('MSearchResults');
                if(x.scrollWidth>window.screen.width)x.style.width=window.screen.width-2+'px';
                var f=document.getElementById('riot-searchform');
                if(parseInt( r.style.top) < f.offsetTop+f.scrollHeight) r.style.top = f.offsetTop+f.scrollHeight+'px';}
            }
            }
        </script>
  </head>
  <body>
      <div id="top">
        <nav class="navbar navbar-inverse">
          <div class="container-fluid">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
              <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse" aria-expanded="false">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              <a class="navbar-brand" id="brand-logo" href="http://riot-os.org"><img height="40px" src="riot-logo.svg" /></a>
              <p class="navbar-text text-center visible-xs">Documentation</p>
            </div>
            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="navbar-collapse">
              <p class="navbar-text navbar-left"><span id="projectbrief">The friendly Operating System for the Internet of Things</span></p>
              <ul id="riot-navlist" class="nav navbar-nav"></ul>
              <form id="riot-searchform" class="navbar-form navbar-left navbar-right" action="https://duckduckgo.com/" method="get">
                 <input type="hidden" name="sites" value="doc.riot-os.org"/>
                 <input type="hidden" name="kt" value="h"/>
                 <div class="form-group">
                   <div id="MSearchBox" class="MSearchBoxActive">
                     <div class="input-group">
                       <div class="input-group-addon">
                         <span id="MSearchSelect" class="glyphicon glyphicon-search" aria-hidden="true" onmouseover="return searchBox.OnSearchSelectShow()" onmouseout="return searchBox.OnSearchSelectHide()"></span>
                       </div>
                       <input class="form-control" type="text" name="q" id="MSearchField" placeholder="Search" accesskey="S" onfocus="searchBox.OnSearchFieldFocus(true)" onblur="searchBox.OnSearchFieldFocus(false)" onkeyup="searchBox.OnSearchFieldChange(event); modSearch();">
                       <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()">
                         <span id="search-reset" class="glyphicon glyphicon-remove-circle" aria-hidden="true"></span>
                       </a>
                     </div>
                   </div>
                 </div>
              </form>
            </div><!-- /.navbar-collapse -->
          </div><!-- /.container-fluid -->
        </nav>
      </div>
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group__drivers__matrix__keypad.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#files">Files</a> &#124;
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Matrix Keypad<div class="ingroups"><a class="el" href="group__drivers.html">Drivers</a> &raquo; <a class="el" href="group__drivers__sensors.html">Sensor Device Drivers</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Matrix keypad driver for row/column keypads.  
<a href="#details">More...</a></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Matrix keypad driver for row/column keypads. </p>
<p>This module implements a simple matrix keypad driver where keys are connected between GPIO columns and rows. It works best with diodes in series with the switches to prevent key ghosting, but it can be used without these diodes. <a class="el" href="group__drivers__matrix__keypad.html#ga82a04ca5044662858728b189d175fa32">CONFIG_MATRIX_KEYPAD_ROWS_USE_OPEN_DRAIN</a> can be enabled when the keypad doesn't use diodes in the switches.</p>
<p>The keypad works by configuring the column GPIOs as input with pull-ups. Each row is configured as open drain with pull-up. One by one the rows are set to pull their output low. For each row the column GPIOs are read and the state is checked. When a key is pressed the column GPIO of that switch will read low as soon as the row it is on is pulled low.</p>
<p>The debouncing algorithm is a pattern style debounce where the switch must be in one position for a number of samples, then a set of "don't care" samples and then in the other position for a number of samples. The samples in the middle allow for a period where the switch can be either low or high without affecting the transition. The exact pattern is determined by <a class="el" href="group__drivers__matrix__keypad.html#gaa80d44d3763dd8a85cb967ba068cf9f3">CONFIG_MATRIX_KEYPAD_DEBOUNCE_PATTERN_BEGIN</a> and <a class="el" href="group__drivers__matrix__keypad.html#gad309c53ba7a9448a298d87ba420f73dc">CONFIG_MATRIX_KEYPAD_DEBOUNCE_PATTERN_END</a>. These are used as mask where the switch must be in a determined state. The bits where neither pattern is set is used as the "don't care" set of samples.</p>
<p>A full scan of the matrix keypad is done via the <a class="el" href="group__drivers__matrix__keypad.html#gac6ca1b06c03bc385b2d0430a1dfdf49e">matrix_keypad_scan</a> function. This function iterates over all rows and columns to update the stored history of every pin.</p>
<p>When a state change is detected on a switch, the <a class="el" href="group__drivers__matrix__keypad.html#ga5feba9dc3d19cfcddc5b7191f8ad9008">matrix_keypad_cb_t</a> callback is called with the row and column number together with the new state of the switch (pressed or not pressed). </p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="files"></a>
Files</h2></td></tr>
<tr class="memitem:matrix__keypad_8h"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="matrix__keypad_8h.html">matrix_keypad.h</a></td></tr>
<tr class="memdesc:matrix__keypad_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">Interface definition for the matrix keypad. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:matrix__keypad__params_8h"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="matrix__keypad__params_8h.html">matrix_keypad_params.h</a></td></tr>
<tr class="memdesc:matrix__keypad__params_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default configuration. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmatrix__keypad__params__t.html">matrix_keypad_params_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Device initialization parameters.  <a href="structmatrix__keypad__params__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmatrix__keypad__t.html">matrix_keypad_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Device descriptor for the driver.  <a href="structmatrix__keypad__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gababd1b99c2dcbcf7a33116bf7dcd7e8b"><td class="memItemLeft" align="right" valign="top"><a id="gababd1b99c2dcbcf7a33116bf7dcd7e8b"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drivers__matrix__keypad.html#gababd1b99c2dcbcf7a33116bf7dcd7e8b">CONFIG_MATRIX_KEYPAD_NUM_ROWS</a>&#160;&#160;&#160;2</td></tr>
<tr class="memdesc:gababd1b99c2dcbcf7a33116bf7dcd7e8b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum number of rows. <br /></td></tr>
<tr class="separator:gababd1b99c2dcbcf7a33116bf7dcd7e8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf5967420f77fd25b02f139b8c5979f2b"><td class="memItemLeft" align="right" valign="top"><a id="gaf5967420f77fd25b02f139b8c5979f2b"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drivers__matrix__keypad.html#gaf5967420f77fd25b02f139b8c5979f2b">CONFIG_MATRIX_KEYPAD_NUM_COLUMNS</a>&#160;&#160;&#160;2</td></tr>
<tr class="memdesc:gaf5967420f77fd25b02f139b8c5979f2b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum number of columns. <br /></td></tr>
<tr class="separator:gaf5967420f77fd25b02f139b8c5979f2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa80d44d3763dd8a85cb967ba068cf9f3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drivers__matrix__keypad.html#gaa80d44d3763dd8a85cb967ba068cf9f3">CONFIG_MATRIX_KEYPAD_DEBOUNCE_PATTERN_BEGIN</a>&#160;&#160;&#160;0xC0</td></tr>
<tr class="memdesc:gaa80d44d3763dd8a85cb967ba068cf9f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Debounce pattern high to low bits.  <a href="#gaa80d44d3763dd8a85cb967ba068cf9f3">More...</a><br /></td></tr>
<tr class="separator:gaa80d44d3763dd8a85cb967ba068cf9f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad309c53ba7a9448a298d87ba420f73dc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drivers__matrix__keypad.html#gad309c53ba7a9448a298d87ba420f73dc">CONFIG_MATRIX_KEYPAD_DEBOUNCE_PATTERN_END</a>&#160;&#160;&#160;0x7</td></tr>
<tr class="memdesc:gad309c53ba7a9448a298d87ba420f73dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Debounce pattern low to high bits.  <a href="#gad309c53ba7a9448a298d87ba420f73dc">More...</a><br /></td></tr>
<tr class="separator:gad309c53ba7a9448a298d87ba420f73dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga82a04ca5044662858728b189d175fa32"><td class="memItemLeft" align="right" valign="top"><a id="ga82a04ca5044662858728b189d175fa32"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drivers__matrix__keypad.html#ga82a04ca5044662858728b189d175fa32">CONFIG_MATRIX_KEYPAD_ROWS_USE_OPEN_DRAIN</a>&#160;&#160;&#160;0</td></tr>
<tr class="memdesc:ga82a04ca5044662858728b189d175fa32"><td class="mdescLeft">&#160;</td><td class="mdescRight">Use open drain GPIO mode. <br /></td></tr>
<tr class="separator:ga82a04ca5044662858728b189d175fa32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa200a961debfdcfe7d6889127129530b"><td class="memItemLeft" align="right" valign="top"><a id="gaa200a961debfdcfe7d6889127129530b"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drivers__matrix__keypad.html#gaa200a961debfdcfe7d6889127129530b">MATRIX_KEYPAD_ROWS_GPIO_MODE</a>&#160;&#160;&#160;<a class="el" href="group__drivers__periph__gpio.html#gga491a2cbfb4e94f2afcc0d5bdef2dc454a1b59f059dea546f0248fb26232ee3531">GPIO_OUT</a></td></tr>
<tr class="memdesc:gaa200a961debfdcfe7d6889127129530b"><td class="mdescLeft">&#160;</td><td class="mdescRight">GPIO mode used for the row GPIOs. <br /></td></tr>
<tr class="separator:gaa200a961debfdcfe7d6889127129530b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga783555adfb1fb2680610ca6cc63234dc"><td class="memItemLeft" align="right" valign="top"><a id="ga783555adfb1fb2680610ca6cc63234dc"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drivers__matrix__keypad.html#ga783555adfb1fb2680610ca6cc63234dc">MATRIX_KEYPAD_DEBOUNCE_MASK</a>&#160;&#160;&#160;(<a class="el" href="group__drivers__matrix__keypad.html#gaa80d44d3763dd8a85cb967ba068cf9f3">CONFIG_MATRIX_KEYPAD_DEBOUNCE_PATTERN_BEGIN</a> | <a class="el" href="group__drivers__matrix__keypad.html#gad309c53ba7a9448a298d87ba420f73dc">CONFIG_MATRIX_KEYPAD_DEBOUNCE_PATTERN_END</a>)</td></tr>
<tr class="memdesc:ga783555adfb1fb2680610ca6cc63234dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Debounce pattern mask. <br /></td></tr>
<tr class="separator:ga783555adfb1fb2680610ca6cc63234dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:gab4a96502cc17f4a2d355273188f15492"><td class="memItemLeft" align="right" valign="top"><a id="gab4a96502cc17f4a2d355273188f15492"></a>
typedef uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drivers__matrix__keypad.html#gab4a96502cc17f4a2d355273188f15492">matrix_keypad_state_row_t</a></td></tr>
<tr class="memdesc:gab4a96502cc17f4a2d355273188f15492"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type definition for a full row (all columns) state, variable width depending on the number of columns. <br /></td></tr>
<tr class="separator:gab4a96502cc17f4a2d355273188f15492"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5feba9dc3d19cfcddc5b7191f8ad9008"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drivers__matrix__keypad.html#ga5feba9dc3d19cfcddc5b7191f8ad9008">matrix_keypad_cb_t</a>) (void *arg, size_t row, size_t column, bool state)</td></tr>
<tr class="memdesc:ga5feba9dc3d19cfcddc5b7191f8ad9008"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback for key state changes.  <a href="#ga5feba9dc3d19cfcddc5b7191f8ad9008">More...</a><br /></td></tr>
<tr class="separator:ga5feba9dc3d19cfcddc5b7191f8ad9008"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gad5541860cf1318cb91dee462d64f4590"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drivers__matrix__keypad.html#gad5541860cf1318cb91dee462d64f4590">matrix_keypad_init</a> (<a class="el" href="structmatrix__keypad__t.html">matrix_keypad_t</a> *dev, const <a class="el" href="structmatrix__keypad__params__t.html">matrix_keypad_params_t</a> *params, <a class="el" href="group__drivers__matrix__keypad.html#ga5feba9dc3d19cfcddc5b7191f8ad9008">matrix_keypad_cb_t</a> callback, void *arg)</td></tr>
<tr class="memdesc:gad5541860cf1318cb91dee462d64f4590"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the given device.  <a href="#gad5541860cf1318cb91dee462d64f4590">More...</a><br /></td></tr>
<tr class="separator:gad5541860cf1318cb91dee462d64f4590"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac6ca1b06c03bc385b2d0430a1dfdf49e"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drivers__matrix__keypad.html#gac6ca1b06c03bc385b2d0430a1dfdf49e">matrix_keypad_scan</a> (<a class="el" href="structmatrix__keypad__t.html">matrix_keypad_t</a> *dev)</td></tr>
<tr class="memdesc:gac6ca1b06c03bc385b2d0430a1dfdf49e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Scan through the keypad matrix.  <a href="#gac6ca1b06c03bc385b2d0430a1dfdf49e">More...</a><br /></td></tr>
<tr class="separator:gac6ca1b06c03bc385b2d0430a1dfdf49e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="gaa80d44d3763dd8a85cb967ba068cf9f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa80d44d3763dd8a85cb967ba068cf9f3">&#9670;&nbsp;</a></span>CONFIG_MATRIX_KEYPAD_DEBOUNCE_PATTERN_BEGIN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CONFIG_MATRIX_KEYPAD_DEBOUNCE_PATTERN_BEGIN&#160;&#160;&#160;0xC0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Debounce pattern high to low bits. </p>
<p>This pattern should consist of bits set on the most significant bits of the value. The number of bits set determines the number of scans the key must be in the current state before a change is processed. </p>

<p class="definition">Definition at line <a class="el" href="matrix__keypad_8h_source.html#l00085">85</a> of file <a class="el" href="matrix__keypad_8h_source.html">matrix_keypad.h</a>.</p>

</div>
</div>
<a id="gad309c53ba7a9448a298d87ba420f73dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad309c53ba7a9448a298d87ba420f73dc">&#9670;&nbsp;</a></span>CONFIG_MATRIX_KEYPAD_DEBOUNCE_PATTERN_END</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CONFIG_MATRIX_KEYPAD_DEBOUNCE_PATTERN_END&#160;&#160;&#160;0x7</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Debounce pattern low to high bits. </p>
<p>This pattern should consist of bits set on the least significant bits of the value. The number of bits set determines the number of scans the key must be in the next state before a change is processed. </p>

<p class="definition">Definition at line <a class="el" href="matrix__keypad_8h_source.html#l00096">96</a> of file <a class="el" href="matrix__keypad_8h_source.html">matrix_keypad.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="ga5feba9dc3d19cfcddc5b7191f8ad9008"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5feba9dc3d19cfcddc5b7191f8ad9008">&#9670;&nbsp;</a></span>matrix_keypad_cb_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* matrix_keypad_cb_t) (void *arg, size_t row, size_t column, bool state)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callback for key state changes. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">arg</td><td>callback context </td></tr>
    <tr><td class="paramname">row</td><td>Row that changed </td></tr>
    <tr><td class="paramname">column</td><td>Column that changed </td></tr>
    <tr><td class="paramname">state</td><td>New state of the key, 1 = pressed, 0 = released </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="matrix__keypad_8h_source.html#l00166">166</a> of file <a class="el" href="matrix__keypad_8h_source.html">matrix_keypad.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="gad5541860cf1318cb91dee462d64f4590"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad5541860cf1318cb91dee462d64f4590">&#9670;&nbsp;</a></span>matrix_keypad_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int matrix_keypad_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmatrix__keypad__t.html">matrix_keypad_t</a> *&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structmatrix__keypad__params__t.html">matrix_keypad_params_t</a> *&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__drivers__matrix__keypad.html#ga5feba9dc3d19cfcddc5b7191f8ad9008">matrix_keypad_cb_t</a>&#160;</td>
          <td class="paramname"><em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the given device. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">dev</td><td>Device descriptor of the driver </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">params</td><td>Initialization parameters </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">callback</td><td>Callback to call on state changes </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">arg</td><td>Context argument for the callback</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success </dd></dl>

</div>
</div>
<a id="gac6ca1b06c03bc385b2d0430a1dfdf49e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac6ca1b06c03bc385b2d0430a1dfdf49e">&#9670;&nbsp;</a></span>matrix_keypad_scan()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t matrix_keypad_scan </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmatrix__keypad__t.html">matrix_keypad_t</a> *&#160;</td>
          <td class="paramname"><em>dev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Scan through the keypad matrix. </p>
<p>This updates the state of the device descriptor, calling <a class="el" href="group__drivers__matrix__keypad.html#ga5feba9dc3d19cfcddc5b7191f8ad9008">matrix_keypad_cb_t</a> when a key press or release has been detected</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">dev</td><td>Device descriptor of the driver</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of keys that changed state </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
    <div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
        <ul>
            <li class="footer">Generated on Thu Mar 13 2025 10:38:32 by <a href="http://www.doxygen.org/index.html">
                       <img class="footer" src="doxygen.png" alt="doxygen"></a> 1.8.14</li>
        </ul>
    </div>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="bootstrap.min.js"></script>
    <script src="jquery.smartmenus.min.js"></script>
    <script src="jquery.smartmenus.bootstrap.min.js"></script>
    <script src="riot-doxy.js"></script>
  </body>
</html>
