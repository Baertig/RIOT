<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="icon" type="image/png" href="favicon.png">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>PCF857X I2C I/O expanders</title>
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="jquery.min.js"></script>
    <script src="jquery.powertip.min.js"></script>
    <script src="jquery-ui.min.js"></script>
    <script src="jquery.scrollTo.min.js"></script>
    <script src="doxy-jquery.js"></script>
    <script src="dynsections.js"></script>
    <link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
    <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
    <!-- Bootstrap -->
    <link href="doxygen.css" rel="stylesheet">
    <link href="fonts.css" rel="stylesheet">
    <link href="bootstrap.min.css" rel="stylesheet">
    <link href="jquery.smartmenus.bootstrap.css" rel="stylesheet">
    <link href="riot.css" rel="stylesheet">
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
        <script>
            function displaySR(){
            searchBox.Search();
            var rhtml=(document.getElementById('MSearchResults').contentWindow.document.body.innerHTML).replace(/href=\"\.\.\//g,'href="');
            document.getElementById('MSearchResultsWindow').style.display='none';
            document.getElementById('top').append(document.getElementById('MSearchSelectWindow'));
            document.getElementById('top').append(document.getElementById('MSearchResultsWindow'));
            document.getElementById('doc-content').innerHTML=rhtml;
            }
            function modSearch(){
            if(!searchBox.doxySearch){
                searchBox.doxySearch=searchBox.Search
                searchBox.Search= function(){this.doxySearch();
                var r=document.getElementById('MSearchResultsWindow');console.log(r.style);
                if(parseInt(r.style.left)<0)r.style.left=0;
                var x=document.getElementById('MSearchResults');
                if(x.scrollWidth>window.screen.width)x.style.width=window.screen.width-2+'px';
                var f=document.getElementById('riot-searchform');
                if(parseInt( r.style.top) < f.offsetTop+f.scrollHeight) r.style.top = f.offsetTop+f.scrollHeight+'px';}
            }
            }
        </script>
  </head>
  <body>
      <div id="top">
        <nav class="navbar navbar-inverse">
          <div class="container-fluid">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
              <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse" aria-expanded="false">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              <a class="navbar-brand" id="brand-logo" href="http://riot-os.org"><img height="40px" src="riot-logo.svg" /></a>
              <p class="navbar-text text-center visible-xs">Documentation</p>
            </div>
            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="navbar-collapse">
              <p class="navbar-text navbar-left"><span id="projectbrief">The friendly Operating System for the Internet of Things</span></p>
              <ul id="riot-navlist" class="nav navbar-nav"></ul>
              <form id="riot-searchform" class="navbar-form navbar-left navbar-right" action="https://duckduckgo.com/" method="get">
                 <input type="hidden" name="sites" value="doc.riot-os.org"/>
                 <input type="hidden" name="kt" value="h"/>
                 <div class="form-group">
                   <div id="MSearchBox" class="MSearchBoxActive">
                     <div class="input-group">
                       <div class="input-group-addon">
                         <span id="MSearchSelect" class="glyphicon glyphicon-search" aria-hidden="true" onmouseover="return searchBox.OnSearchSelectShow()" onmouseout="return searchBox.OnSearchSelectHide()"></span>
                       </div>
                       <input class="form-control" type="text" name="q" id="MSearchField" placeholder="Search" accesskey="S" onfocus="searchBox.OnSearchFieldFocus(true)" onblur="searchBox.OnSearchFieldFocus(false)" onkeyup="searchBox.OnSearchFieldChange(event); modSearch();">
                       <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()">
                         <span id="search-reset" class="glyphicon glyphicon-remove-circle" aria-hidden="true"></span>
                       </a>
                     </div>
                   </div>
                 </div>
              </form>
            </div><!-- /.navbar-collapse -->
          </div><!-- /.container-fluid -->
        </nav>
      </div>
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group__drivers__pcf857x.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#files">Files</a> &#124;
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">PCF857X I2C I/O expanders<div class="ingroups"><a class="el" href="group__drivers.html">Drivers</a> &raquo; <a class="el" href="group__drivers__misc.html">Miscellaneous Drivers</a><a class="el" href="group__drivers.html">Drivers</a> &raquo;  &#124; <a class="el" href="group__drivers__saul.html">[S]ensor [A]ctuator [U]ber [L]ayer</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Device driver for Texas Instruments PCF857X I2C I/O expanders.  
<a href="#details">More...</a></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Device driver for Texas Instruments PCF857X I2C I/O expanders. </p>
<h1><a class="anchor" id="Device"></a>
driver for Texas Instruments PCF857X I2C I/O expanders</h1>
<h2><a class="anchor" id="autotoc_md1716"></a>
Overview</h2>
<p>Texas Instruments PCF857X I2C I/O expanders provide general purpose I/O extension via I2C bus. The driver supports the following PCF857X I2C I/O expander variants:</p>
<center> <table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">Expander  </th><th class="markdownTableHeadLeft">Type  </th><th class="markdownTableHeadLeft">Pseudomodule to be used   </th></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">PCF8574  </td><td class="markdownTableBodyLeft">8-bit I2C I/O expander  </td><td class="markdownTableBodyLeft"><code>pcf8574</code>   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyLeft">PCF8574A  </td><td class="markdownTableBodyLeft">8-bit I2C I/O expander  </td><td class="markdownTableBodyLeft"><code>pcf8574a</code>   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">PCF8575  </td><td class="markdownTableBodyLeft">16-bit I2C I/O expander  </td><td class="markdownTableBodyLeft"><code>pcf8575</code>   </td></tr>
</table>
</center><p><br />
</p>
<p>For each of these PCF857X I2C I/O expanders variants, the driver defines a separate pseudomodule. Multiple PCF857X I2C I/O expanders and different variants can be used at the same time. Either the board definition or the application must specify used PCF857X I/O expander variants by a list of used pseudomodules. For example, to use a PCF8574A and a PCF8575 I/O expander in one application, the make command would be: </p><pre class="fragment"> USEMODULE="pcf8574a pcf8575" make -C tests/drivers/pcf857x BOARD=...
</pre><p>At least one PCF857X I2C I/O expander variant has to be specified. The driver module <code>pcf857x</code> is then enabled implicitly.</p>
<dl class="section note"><dt>Note</dt><dd>While PCF8575 is working in I2C fast mode with up to 400 kHz clock frequency, PCF8574 and PCF8574A are only specified for I2C normal mode with up to 100 kHz clock frequency. However, they seem also to work at 400 kHz clock frequency.</dd></dl>
<p>The driver interface is kept as compatible as possible with the peripheral GPIO interface. The only differences are that</p>
<ul>
<li>functions have the prefix <code>pcf857x_</code> and</li>
<li>functions require an additional parameter, the pointer to the expander device of type <a class="el" href="structpcf857x__t.html" title="PCF857X device data structure type. ">pcf857x_t</a>.</li>
</ul>
<h2><a class="anchor" id="autotoc_md1717"></a>
Defined pseudomodules</h2>
<p>The functionality of the driver is controlled by the use of pseudomodules. The following pseudomodules are defined: </p><center> <table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">Pseudomoule  </th><th class="markdownTableHeadLeft">Functionality :---&mdash;   </th></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyLeft"><code>pcf8574</code>  </td><td class="markdownTableBodyLeft">support of PCF8574 enabled   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyLeft"><code>pcf8574a</code>  </td><td class="markdownTableBodyLeft">support of PCF8574A enabled   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyLeft"><code>pcf8575</code>  </td><td class="markdownTableBodyLeft">support of PCF8575 enabled   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyLeft"><code>pcf857x_irq</code>  </td><td class="markdownTableBodyLeft">support of interrupts enabled with medium event priority   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyLeft"><code>pcf857x_irq_low</code>  </td><td class="markdownTableBodyLeft">support of interrupts enabled with low event priority   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyLeft"><code>pcf857x_irq_medium</code>  </td><td class="markdownTableBodyLeft">support of interrupts enabled with medium event priority   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyLeft"><code>pcf857x_irq_low</code>  </td><td class="markdownTableBodyLeft">support of interrupts enabled with high event priority   </td></tr>
</table>
</center><p><br />
</p>
<dl class="section note"><dt>Note</dt><dd>At least one of the modules <code>pcf8574</code>, <code>pcf8574a</code> and <code>pcf8575</code> has to be used.</dd></dl>
<h2><a class="anchor" id="autotoc_md1718"></a>
Expander GPIOs</h2>
<p>The PCF857X expander devices provide a GPIO expansion over the I2C interface with either</p>
<ul>
<li>1 port with 8 quasi-parallel input/output (I/O) pins (PCF8574, PCF8574A) or</li>
<li>2 ports with 8 quasi-parallel input/output (I/O) pins each (PCF8575).</li>
</ul>
<p>Each quasi-bidirectional expander I/O pin can be used as an input or output without the use of a data-direction control signal. Output pins are latched and have high-current drive capability for directly driving LEDs. The quasi-bidirectional expander I/O pins without direction control work as follows:</p>
<ul>
<li>INPUT: Writing 1 to an expander pin configures the pin as an input, which is pulled up to HIGH by a very weak 100 Î¼A pull-up. When reading the pin, its value then depends on the actual voltage. This corresponds to the behavior of the <a class="el" href="group__drivers__periph__gpio.html#gga491a2cbfb4e94f2afcc0d5bdef2dc454a676755cb9c90de719e9fee3936a3a79c" title="configure as input with pull-up resistor ">GPIO_IN_PU</a> mode.</li>
<li>OUTPUT: Writing 0 to an expander pin configures the pin as an output and actively drives the pin to LOW. This corresponds to the behavior of the <a class="el" href="group__drivers__periph__gpio.html#gga491a2cbfb4e94f2afcc0d5bdef2dc454a6989d6b30554f7596c282eac49adc05d" title="configure as output in open-drain mode with pull resistor enabled ">GPIO_OD_PU</a> mode.</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>Since the expander I/O pins are quasi-bidirectional without direction control, the only actively driven level is the output LOW. Therefore the driver physically supports only the modes <a class="el" href="group__drivers__periph__gpio.html#gga491a2cbfb4e94f2afcc0d5bdef2dc454a676755cb9c90de719e9fee3936a3a79c" title="configure as input with pull-up resistor ">GPIO_IN_PU</a> and <a class="el" href="group__drivers__periph__gpio.html#gga491a2cbfb4e94f2afcc0d5bdef2dc454a6989d6b30554f7596c282eac49adc05d" title="configure as output in open-drain mode with pull resistor enabled ">GPIO_OD_PU</a>. The other logically identical modes <a class="el" href="group__drivers__periph__gpio.html#gga491a2cbfb4e94f2afcc0d5bdef2dc454a3343e227f62c4c536efff81438a8e155" title="configure as input without pull resistor ">GPIO_IN</a>, <a class="el" href="group__drivers__periph__gpio.html#gga491a2cbfb4e94f2afcc0d5bdef2dc454a1b59f059dea546f0248fb26232ee3531" title="configure as output in push-pull mode ">GPIO_OUT</a> and <a class="el" href="group__drivers__periph__gpio.html#gga491a2cbfb4e94f2afcc0d5bdef2dc454a4e49b8f9feef3b91e8d2842009151e2b" title="configure as output in open-drain mode without pull resistor ">GPIO_OD</a> are emulated. Please keep this in mind when connecting these pins to other open-drain output pins that do not generate active signals. The <a class="el" href="group__drivers__periph__gpio.html#gga491a2cbfb4e94f2afcc0d5bdef2dc454a8b6588cc82579f6044ec1867b964e11c" title="configure as input with pull-down resistor ">GPIO_IN_PD</a> mode is not supported.</dd></dl>
<p>After the initialization with the <a class="el" href="group__drivers__pcf857x.html#ga2898d3ea96ff3310c6e6e41bf9a76dbe" title="Initialize the PCF857X I/O expander. ">pcf857x_init</a> function, all expander I/O pins are in input mode and pulled-up to HIGH.</p>
<p>The expander I/O pins can be addressed as GPIO pins using the following scheme:</p>
<center> <table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">PCF857X pin label  </th><th class="markdownTableHeadCenter">Port  </th><th class="markdownTableHeadCenter">Pin  </th><th class="markdownTableHeadLeft">RIOT symbol  </th><th class="markdownTableHeadLeft">Remark -------&mdash;   </th></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone">P00  </td><td class="markdownTableBodyCenter">0  </td><td class="markdownTableBodyCenter">0  </td><td class="markdownTableBodyLeft"><code><a class="el" href="group__drivers__pcf857x.html#ga2c6a2ae4d4985f50ce977088d655c877" title="conversion of (port x : pin y) to a pin number ">PCF857X_GPIO_PIN(0, 0)</a></code>  </td><td class="markdownTableBodyLeft">PCF8574, PCF8574A and PCF8575   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyNone">P01  </td><td class="markdownTableBodyCenter">0  </td><td class="markdownTableBodyCenter">1  </td><td class="markdownTableBodyLeft"><code><a class="el" href="group__drivers__pcf857x.html#ga2c6a2ae4d4985f50ce977088d655c877" title="conversion of (port x : pin y) to a pin number ">PCF857X_GPIO_PIN(0, 1)</a></code>  </td><td class="markdownTableBodyLeft">PCF8574, PCF8574A and PCF8575   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone">...  </td><td class="markdownTableBodyCenter">...  </td><td class="markdownTableBodyCenter">...  </td><td class="markdownTableBodyLeft">...  </td><td class="markdownTableBodyLeft">...   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyNone">P07  </td><td class="markdownTableBodyCenter">0  </td><td class="markdownTableBodyCenter">7  </td><td class="markdownTableBodyLeft"><code><a class="el" href="group__drivers__pcf857x.html#ga2c6a2ae4d4985f50ce977088d655c877" title="conversion of (port x : pin y) to a pin number ">PCF857X_GPIO_PIN(0, 7)</a></code>  </td><td class="markdownTableBodyLeft">PCF8574, PCF8574A and PCF8575   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone">P10  </td><td class="markdownTableBodyCenter">0  </td><td class="markdownTableBodyCenter">8  </td><td class="markdownTableBodyLeft"><code><a class="el" href="group__drivers__pcf857x.html#ga2c6a2ae4d4985f50ce977088d655c877" title="conversion of (port x : pin y) to a pin number ">PCF857X_GPIO_PIN(0, 8)</a></code>  </td><td class="markdownTableBodyLeft">PCF8575 only   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyNone">P11  </td><td class="markdownTableBodyCenter">0  </td><td class="markdownTableBodyCenter">9  </td><td class="markdownTableBodyLeft"><code><a class="el" href="group__drivers__pcf857x.html#ga2c6a2ae4d4985f50ce977088d655c877" title="conversion of (port x : pin y) to a pin number ">PCF857X_GPIO_PIN(0, 9)</a></code>  </td><td class="markdownTableBodyLeft">PCF8575 only   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone">...  </td><td class="markdownTableBodyCenter">...  </td><td class="markdownTableBodyCenter">...  </td><td class="markdownTableBodyLeft">...  </td><td class="markdownTableBodyLeft">...   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyNone">P17  </td><td class="markdownTableBodyCenter">0  </td><td class="markdownTableBodyCenter">15  </td><td class="markdownTableBodyLeft"><code><a class="el" href="group__drivers__pcf857x.html#ga2c6a2ae4d4985f50ce977088d655c877" title="conversion of (port x : pin y) to a pin number ">PCF857X_GPIO_PIN(0, 15)</a></code>  </td><td class="markdownTableBodyLeft">PCF8575 only   </td></tr>
</table>
</center><h2><a class="anchor" id="autotoc_md1719"></a>
Interrupts</h2>
<p>PCF857X expanders have an open-drain, low-active interrupt (INT) signal, which generates an interrupt by any rising or falling edge of the expander pins in the input mode. Using this expander interrupt signal, the following features become available:</p>
<ul>
<li>An interrupt service function can be attached to an expander input pin with the <a class="el" href="group__drivers__pcf857x.html#gaac5f8fddf9826f0273b501000bc0af5e" title="Initialize a PCF857X pin for external interrupt usage. ">pcf857x_gpio_init_int</a> function. This interrupt service function is then called on any rising and/or falling edge of the expander input pin.</li>
<li>In addition, the driver uses the interrupt on changes of an expander input pin to internally maintain the current state of all expander input pins. Using this internal current state of the expander input pins avoids reading all expander input pins via I2C every time the input value of a single expander GPIO pin is read with <a class="el" href="group__drivers__pcf857x.html#gadc4912bb7ef183e6614d0d1f9a6f761d" title="Get the value from PCF857X input pin. ">pcf857x_gpio_read</a>.</li>
</ul>
<p>Since interrupts are handled in the context of a separate event thread (see section <a href="#pcf857x_interrupt_context_problem">The Interrupt Context Problem</a>) enabling interrupts requires more RAM. Therefore interrupts have to be explicitly enabled with the module <code>pcf857x_irq_&lt;priority&gt;</code>. <code>priority</code> can be one of <code>low</code>, <code>medium</code> or <code>highest</code>, which correspond to the priority of the event thread that processes the interrupts. If only the module <code>pcf857x_irq</code> is used without specifying the priority, the interrupt handling is enabled with a medium priority of the event thread. For more information on the priorities check the <a class="el" href="group__sys__event.html">Event Queue</a> module.</p>
<p>Furthermore, the MCU GPIO pin to which the PCF857X <code>INT</code> signal is connected has to be defined by the default configuration parameter <a class="el" href="pcf857x__params_8h.html#a665016c4daba101f837973346ef3ca3e" title="MCU interrupt pin. ">PCF857X_PARAM_INT_PIN</a> (<a class="el" href="structpcf857x__params__t.html#a43ada2a73a84f200d761575abd92ae34" title="MCU GPIO pin or GPIO_UNDEF if not used (default). ">pcf857x_params_t::int_pin</a>) either in the configuration parameter file or at the command line, for example: </p><pre class="fragment"> CFLAGS="-DPCF857X_PARAM_INT_PIN=\(GPIO_PIN\(0,6\)\)" \
 USEMODULE="pcf8575 pcf857x_irq_medium" make -C tests/drivers/pcf857x BOARD=...
</pre><p><br />
 </p><dl class="section note"><dt>Note</dt><dd>If an output of the expander is connected to an input of the same expander, there is no interrupt triggered by the input when the output changes. Therefore, a write operation to an output with <a class="el" href="group__drivers__pcf857x.html#ga51c2774ca360ed0d8f3e278bdf51520f" title="Write the value to PCF857X input pin. ">pcf857x_gpio_write</a>, <a class="el" href="group__drivers__pcf857x.html#ga8e8c4c82cff49e2e2a668d252e32199f" title="Clear the PCF857X output pin. ">pcf857x_gpio_clear</a>, <a class="el" href="group__drivers__pcf857x.html#gad77ce42e4ed11f5a5b34653a990b9b27" title="Set the PCF857X output pin. ">pcf857x_gpio_set</a> or <a class="el" href="group__drivers__pcf857x.html#gae4c2c39aad7696907b0f7d16a242abe0" title="Toggle the value of the PCF857X output pin. ">pcf857x_gpio_toggle</a> leads to an additional read-after-write operation, if interrupts are used.<br />
<br />
 The use of interrupts therefore increases the read performance considerably, since I2C read operations are required only when the inputs change. But the write performance is reduced to the half.</dd></dl>
<h2><a class="anchor" id="pcf857x_interrupt_context_problem"></a>
The Interrupt Context Problem</h2>
<p>Handling an interrupt of a PCF857x expander requires the driver to access the device directly via I2C. However, the mutex-based synchronization of I2C accesses does not work in the interrupt context. Therefore the ISR must not access the PCF857x expander device directly. Rather, the ISR must only indicate the occurrence of the interrupt which has to be handled asynchronously in thread context.</p>
<p>For this purpose an event thread module is used when interrupts are enabled by the module <code>pcf857x_irq_&lt;priority&gt;</code>. The driver then handles the interrupts in the context of the event thread with given <code>priority</code>. For more information on the priorities check the <a class="el" href="group__sys__event.html">Event Queue</a> module.</p>
<h2><a class="anchor" id="autotoc_md1720"></a>
SAUL Capabilities</h2>
<p>The driver provides SAUL capabilities that are compatible to the SAUL capabilities of peripheral GPIOs. Each PCF857X expander I/O pin can be mapped directly to SAUL by defining an according entry in <code>PCF857X_SAUL_GPIO_PARAMS</code>. Please refer file <code>$RIOTBASE/drivers/pcf857x/include/pcf857x_params.h</code> for an example.</p>
<dl class="section note"><dt>Note</dt><dd>Module <code>saul_gpio</code> has to be added to the project to enable SAUL capabilities of the PCF857X driver, e.g.: <pre class="fragment"> USEMODULE="pcf8575 saul_gpio" make -C tests/drivers/saul BOARD=...
</pre></dd></dl>
<h2><a class="anchor" id="autotoc_md1721"></a>
Using Multiple Devices</h2>
<p>It is possible to use multiple devices and different variants of PCF857X I/O expanders at the same time. Either the board definition or the application must specify used PCF857X I/O expander variants by a list of used pseudomodules. For example, to use a PCF8574A and a PCF8575 I/O expander in one application, the make command would be: </p><pre class="fragment"> USEMODULE="pcf8574a pcf8575" make -C tests/drivers/pcf857x BOARD=...
</pre><p>Furthermore, used devices have to be configured by defining the configuration parameter set <code>pcf857x_params</code> of type <a class="el" href="structpcf857x__params__t.html" title="PCF857X device initialization parameters. ">pcf857x_params_t</a>. The default configuration for one device is defined in <code>drivers/pcf857x/pcf857x_params.h</code>. Either the board definition or the application can override it by placing a file <code><a class="el" href="pcf857x__params_8h.html" title="Default configuration for Texas Instruments PCF857X I2C I/O expanders. ">pcf857x_params.h</a></code> in the board definition directory or the application directory <code>$APPDIR</code>. For example, the definition of the configuration parameter array for the two devices above could be: </p><pre class="fragment"> static const pcf857x_params_t pcf857x_params[] = {
     {
         .dev = I2C_DEV(0),
         .addr = 0,
         .exp = PCF857X_EXP_PCF8574A,
         .int_pin = GPIO_PIN(0, 1),
     },
     {
         .dev = I2C_DEV(0),
         .addr = 0,
         .exp = PCF857X_EXP_PCF8575,
         .int_pin = GPIO_PIN(0, 2),
     },
 };
</pre><dl class="section author"><dt>Author</dt><dd>Gunar Schorcht <a href="#" onclick="location.href='mai'+'lto:'+'gun'+'ar'+'@sc'+'ho'+'rch'+'t.'+'net'; return false;">gunar<span style="display: none;">.nosp@m.</span>@sch<span style="display: none;">.nosp@m.</span>orcht<span style="display: none;">.nosp@m.</span>.net</a> </dd></dl>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="files"></a>
Files</h2></td></tr>
<tr class="memitem:pcf857x_8h"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pcf857x_8h.html">pcf857x.h</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:pcf857x__params_8h"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pcf857x__params_8h.html">pcf857x_params.h</a></td></tr>
<tr class="memdesc:pcf857x__params_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default configuration for Texas Instruments PCF857X I2C I/O expanders. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpcf857x__params__t.html">pcf857x_params_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">PCF857X device initialization parameters.  <a href="structpcf857x__params__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpcf857x__irq__event__t.html">pcf857x_irq_event_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">IRQ event type.  <a href="structpcf857x__irq__event__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpcf857x__t.html">pcf857x_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">PCF857X device data structure type.  <a href="structpcf857x__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpcf857x__saul__gpio__params__t.html">pcf857x_saul_gpio_params_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">PCF857X configuration structure for mapping expander pins to SAUL.  <a href="structpcf857x__saul__gpio__params__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga2c6a2ae4d4985f50ce977088d655c877"><td class="memItemLeft" align="right" valign="top"><a id="ga2c6a2ae4d4985f50ce977088d655c877"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drivers__pcf857x.html#ga2c6a2ae4d4985f50ce977088d655c877">PCF857X_GPIO_PIN</a>(x,  y)&#160;&#160;&#160;(y)</td></tr>
<tr class="memdesc:ga2c6a2ae4d4985f50ce977088d655c877"><td class="mdescLeft">&#160;</td><td class="mdescRight">conversion of (port x : pin y) to a pin number <br /></td></tr>
<tr class="separator:ga2c6a2ae4d4985f50ce977088d655c877"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga934ead4b846c83461bb75b6794b29b06"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drivers__pcf857x.html#ga934ead4b846c83461bb75b6794b29b06">pcf857x_error_codes_t</a> { <br />
&#160;&#160;<a class="el" href="group__drivers__pcf857x.html#gga934ead4b846c83461bb75b6794b29b06a302b5ef8bbc7e9804f479010683b03d1">PCF857X_OK</a> = 0, 
<a class="el" href="group__drivers__pcf857x.html#gga934ead4b846c83461bb75b6794b29b06acffdc1ec693bb7ca048ce84c4b96e770">PCF857X_ERROR_I2C</a> = ENXIO, 
<a class="el" href="group__drivers__pcf857x.html#gga934ead4b846c83461bb75b6794b29b06acf8c46064de3ba5e5bf9609bc60897da">PCF857X_ERROR_INV_EXP</a> = ENOTSUP, 
<a class="el" href="group__drivers__pcf857x.html#gga934ead4b846c83461bb75b6794b29b06ae0ecc8d3aa9ab6e1df81706b5c200810">PCF857X_ERROR_INV_MODE</a> = EINVAL, 
<br />
&#160;&#160;<a class="el" href="group__drivers__pcf857x.html#gga934ead4b846c83461bb75b6794b29b06a22c1da7b2d36f987bef537901a009504">PCF857X_ERROR_INV_FLANK</a> = EINVAL, 
<a class="el" href="group__drivers__pcf857x.html#gga934ead4b846c83461bb75b6794b29b06a1b9c7c1d2eb0946b986e92c256deaddf">PCF857X_ERROR_INT_PIN</a> = ENOSYS
<br />
 }</td></tr>
<tr class="memdesc:ga934ead4b846c83461bb75b6794b29b06"><td class="mdescLeft">&#160;</td><td class="mdescRight">Definition of PCF857X driver error codes.  <a href="group__drivers__pcf857x.html#ga934ead4b846c83461bb75b6794b29b06">More...</a><br /></td></tr>
<tr class="separator:ga934ead4b846c83461bb75b6794b29b06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3830af41ad87a8d92cd68d0a403eee63"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drivers__pcf857x.html#ga3830af41ad87a8d92cd68d0a403eee63">pcf857x_exp_t</a> { <a class="el" href="group__drivers__pcf857x.html#gga3830af41ad87a8d92cd68d0a403eee63a663b1283c72c95429d70fa84c3061bd0">PCF857X_EXP_PCF8574</a>, 
<a class="el" href="group__drivers__pcf857x.html#gga3830af41ad87a8d92cd68d0a403eee63af347d7d2b1ef3bea6396f572a27efc4f">PCF857X_EXP_PCF8574A</a>, 
<a class="el" href="group__drivers__pcf857x.html#gga3830af41ad87a8d92cd68d0a403eee63ad62676447ec776e12ce9d66747fbe1ce">PCF857X_EXP_PCF8575</a>, 
<b>PCF857X_EXP_MAX</b>
 }</td></tr>
<tr class="memdesc:ga3830af41ad87a8d92cd68d0a403eee63"><td class="mdescLeft">&#160;</td><td class="mdescRight">Definition of PCF857X expander variants.  <a href="group__drivers__pcf857x.html#ga3830af41ad87a8d92cd68d0a403eee63">More...</a><br /></td></tr>
<tr class="separator:ga3830af41ad87a8d92cd68d0a403eee63"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga2898d3ea96ff3310c6e6e41bf9a76dbe"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drivers__pcf857x.html#ga2898d3ea96ff3310c6e6e41bf9a76dbe">pcf857x_init</a> (<a class="el" href="structpcf857x__t.html">pcf857x_t</a> *dev, const <a class="el" href="structpcf857x__params__t.html">pcf857x_params_t</a> *params)</td></tr>
<tr class="memdesc:ga2898d3ea96ff3310c6e6e41bf9a76dbe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the PCF857X I/O expander.  <a href="#ga2898d3ea96ff3310c6e6e41bf9a76dbe">More...</a><br /></td></tr>
<tr class="separator:ga2898d3ea96ff3310c6e6e41bf9a76dbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga65f9d5963e745bac4b272a65e8ebc6d7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drivers__pcf857x.html#ga65f9d5963e745bac4b272a65e8ebc6d7">pcf857x_gpio_init</a> (<a class="el" href="structpcf857x__t.html">pcf857x_t</a> *dev, uint8_t pin, <a class="el" href="native_2include_2periph__cpu_8h.html#a491a2cbfb4e94f2afcc0d5bdef2dc454">gpio_mode_t</a> mode)</td></tr>
<tr class="memdesc:ga65f9d5963e745bac4b272a65e8ebc6d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize a PCF857X pin.  <a href="#ga65f9d5963e745bac4b272a65e8ebc6d7">More...</a><br /></td></tr>
<tr class="separator:ga65f9d5963e745bac4b272a65e8ebc6d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaac5f8fddf9826f0273b501000bc0af5e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drivers__pcf857x.html#gaac5f8fddf9826f0273b501000bc0af5e">pcf857x_gpio_init_int</a> (<a class="el" href="structpcf857x__t.html">pcf857x_t</a> *dev, uint8_t pin, <a class="el" href="native_2include_2periph__cpu_8h.html#a491a2cbfb4e94f2afcc0d5bdef2dc454">gpio_mode_t</a> mode, <a class="el" href="atxmega_2include_2periph__cpu_8h.html#a0e8c3f46deb150e48acaa79fe26b2e86">gpio_flank_t</a> flank, <a class="el" href="group__drivers__periph__gpio.html#ga06ceaaf4824f1504972babf0775dba92">gpio_cb_t</a> isr, void *arg)</td></tr>
<tr class="memdesc:gaac5f8fddf9826f0273b501000bc0af5e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize a PCF857X pin for external interrupt usage.  <a href="#gaac5f8fddf9826f0273b501000bc0af5e">More...</a><br /></td></tr>
<tr class="separator:gaac5f8fddf9826f0273b501000bc0af5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadc4912bb7ef183e6614d0d1f9a6f761d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drivers__pcf857x.html#gadc4912bb7ef183e6614d0d1f9a6f761d">pcf857x_gpio_read</a> (<a class="el" href="structpcf857x__t.html">pcf857x_t</a> *dev, uint8_t pin)</td></tr>
<tr class="memdesc:gadc4912bb7ef183e6614d0d1f9a6f761d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the value from PCF857X input pin.  <a href="#gadc4912bb7ef183e6614d0d1f9a6f761d">More...</a><br /></td></tr>
<tr class="separator:gadc4912bb7ef183e6614d0d1f9a6f761d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga51c2774ca360ed0d8f3e278bdf51520f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drivers__pcf857x.html#ga51c2774ca360ed0d8f3e278bdf51520f">pcf857x_gpio_write</a> (<a class="el" href="structpcf857x__t.html">pcf857x_t</a> *dev, uint8_t pin, int value)</td></tr>
<tr class="memdesc:ga51c2774ca360ed0d8f3e278bdf51520f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write the value to PCF857X input pin.  <a href="#ga51c2774ca360ed0d8f3e278bdf51520f">More...</a><br /></td></tr>
<tr class="separator:ga51c2774ca360ed0d8f3e278bdf51520f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8e8c4c82cff49e2e2a668d252e32199f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drivers__pcf857x.html#ga8e8c4c82cff49e2e2a668d252e32199f">pcf857x_gpio_clear</a> (<a class="el" href="structpcf857x__t.html">pcf857x_t</a> *dev, uint8_t pin)</td></tr>
<tr class="memdesc:ga8e8c4c82cff49e2e2a668d252e32199f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear the PCF857X output pin.  <a href="#ga8e8c4c82cff49e2e2a668d252e32199f">More...</a><br /></td></tr>
<tr class="separator:ga8e8c4c82cff49e2e2a668d252e32199f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad77ce42e4ed11f5a5b34653a990b9b27"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drivers__pcf857x.html#gad77ce42e4ed11f5a5b34653a990b9b27">pcf857x_gpio_set</a> (<a class="el" href="structpcf857x__t.html">pcf857x_t</a> *dev, uint8_t pin)</td></tr>
<tr class="memdesc:gad77ce42e4ed11f5a5b34653a990b9b27"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the PCF857X output pin.  <a href="#gad77ce42e4ed11f5a5b34653a990b9b27">More...</a><br /></td></tr>
<tr class="separator:gad77ce42e4ed11f5a5b34653a990b9b27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae4c2c39aad7696907b0f7d16a242abe0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drivers__pcf857x.html#gae4c2c39aad7696907b0f7d16a242abe0">pcf857x_gpio_toggle</a> (<a class="el" href="structpcf857x__t.html">pcf857x_t</a> *dev, uint8_t pin)</td></tr>
<tr class="memdesc:gae4c2c39aad7696907b0f7d16a242abe0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Toggle the value of the PCF857X output pin.  <a href="#gae4c2c39aad7696907b0f7d16a242abe0">More...</a><br /></td></tr>
<tr class="separator:gae4c2c39aad7696907b0f7d16a242abe0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8612435574aa19b16b4522bf8f2e6470"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drivers__pcf857x.html#ga8612435574aa19b16b4522bf8f2e6470">pcf857x_gpio_irq_enable</a> (<a class="el" href="structpcf857x__t.html">pcf857x_t</a> *dev, uint8_t pin)</td></tr>
<tr class="memdesc:ga8612435574aa19b16b4522bf8f2e6470"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable pin interrupt.  <a href="#ga8612435574aa19b16b4522bf8f2e6470">More...</a><br /></td></tr>
<tr class="separator:ga8612435574aa19b16b4522bf8f2e6470"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga49e1d37904efa5c1d4c3c1e91b040167"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drivers__pcf857x.html#ga49e1d37904efa5c1d4c3c1e91b040167">pcf857x_gpio_irq_disable</a> (<a class="el" href="structpcf857x__t.html">pcf857x_t</a> *dev, uint8_t pin)</td></tr>
<tr class="memdesc:ga49e1d37904efa5c1d4c3c1e91b040167"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disable pin interrupt.  <a href="#ga49e1d37904efa5c1d4c3c1e91b040167">More...</a><br /></td></tr>
<tr class="separator:ga49e1d37904efa5c1d4c3c1e91b040167"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
PCF857X I2C slave addresses</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrp25b064878914e41e3e14d8e666adfdec"></a>PCF857X I2C slave addresses are defined as an offset to a base address, which depends on the expander used.</p>
<p>The address offset is in the range of 0 to 7. </p>
</td></tr>
<tr class="memitem:ga7ebce9f6e370927c18f35483c7dd20a9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drivers__pcf857x.html#ga7ebce9f6e370927c18f35483c7dd20a9">PCF8575_BASE_ADDR</a>&#160;&#160;&#160;(0x20)</td></tr>
<tr class="memdesc:ga7ebce9f6e370927c18f35483c7dd20a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">PCF8575 I2C slave base address.  <a href="#ga7ebce9f6e370927c18f35483c7dd20a9">More...</a><br /></td></tr>
<tr class="separator:ga7ebce9f6e370927c18f35483c7dd20a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3b157bbd1aa7ce107226426b392bc5ce"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drivers__pcf857x.html#ga3b157bbd1aa7ce107226426b392bc5ce">PCF8574_BASE_ADDR</a>&#160;&#160;&#160;(0x20)</td></tr>
<tr class="memdesc:ga3b157bbd1aa7ce107226426b392bc5ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">PCF8574 I2C slave base address.  <a href="#ga3b157bbd1aa7ce107226426b392bc5ce">More...</a><br /></td></tr>
<tr class="separator:ga3b157bbd1aa7ce107226426b392bc5ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad559a661317b211295e0f042c4eddcef"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drivers__pcf857x.html#gad559a661317b211295e0f042c4eddcef">PCF8574A_BASE_ADDR</a>&#160;&#160;&#160;(0x38)</td></tr>
<tr class="memdesc:gad559a661317b211295e0f042c4eddcef"><td class="mdescLeft">&#160;</td><td class="mdescRight">PCF8574A I2C slave base address.  <a href="#gad559a661317b211295e0f042c4eddcef">More...</a><br /></td></tr>
<tr class="separator:gad559a661317b211295e0f042c4eddcef"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
PCF857X I/O expander pin number</h2></td></tr>
<tr class="memitem:ga49a01f682b305839f4e4c0e4cb4e45cb"><td class="memItemLeft" align="right" valign="top"><a id="ga49a01f682b305839f4e4c0e4cb4e45cb"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drivers__pcf857x.html#ga49a01f682b305839f4e4c0e4cb4e45cb">PCF8575_GPIO_PIN_NUM</a>&#160;&#160;&#160;(16)</td></tr>
<tr class="memdesc:ga49a01f682b305839f4e4c0e4cb4e45cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">PCF8575 has 16 I/O pins. <br /></td></tr>
<tr class="separator:ga49a01f682b305839f4e4c0e4cb4e45cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga919cc1ec394aee81c0e9ed9adb6e438b"><td class="memItemLeft" align="right" valign="top"><a id="ga919cc1ec394aee81c0e9ed9adb6e438b"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drivers__pcf857x.html#ga919cc1ec394aee81c0e9ed9adb6e438b">PCF8574_GPIO_PIN_NUM</a>&#160;&#160;&#160;(8)</td></tr>
<tr class="memdesc:ga919cc1ec394aee81c0e9ed9adb6e438b"><td class="mdescLeft">&#160;</td><td class="mdescRight">PCF8574 has 8 I/O pins. <br /></td></tr>
<tr class="separator:ga919cc1ec394aee81c0e9ed9adb6e438b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaed55868d1262ae50a58dccc1d475f13c"><td class="memItemLeft" align="right" valign="top"><a id="gaed55868d1262ae50a58dccc1d475f13c"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drivers__pcf857x.html#gaed55868d1262ae50a58dccc1d475f13c">PCF8574A_GPIO_PIN_NUM</a>&#160;&#160;&#160;(8)</td></tr>
<tr class="memdesc:gaed55868d1262ae50a58dccc1d475f13c"><td class="mdescLeft">&#160;</td><td class="mdescRight">PCF8574A has 8 I/O pins. <br /></td></tr>
<tr class="separator:gaed55868d1262ae50a58dccc1d475f13c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Module dependent definitions and declarations</h2></td></tr>
<tr class="memitem:ga4fb98ac27d4530a770ba33243b5ca50a"><td class="memItemLeft" align="right" valign="top">typedef uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drivers__pcf857x.html#ga4fb98ac27d4530a770ba33243b5ca50a">pcf857x_data_t</a></td></tr>
<tr class="memdesc:ga4fb98ac27d4530a770ba33243b5ca50a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Data type that can mask all expander pins.  <a href="#ga4fb98ac27d4530a770ba33243b5ca50a">More...</a><br /></td></tr>
<tr class="separator:ga4fb98ac27d4530a770ba33243b5ca50a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga54fe8fc228b47313d83b1d17fd7ef291"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drivers__pcf857x.html#ga54fe8fc228b47313d83b1d17fd7ef291">PCF857X_GPIO_PIN_NUM</a>&#160;&#160;&#160;(16)</td></tr>
<tr class="memdesc:ga54fe8fc228b47313d83b1d17fd7ef291"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum number of GPIO pins.  <a href="#ga54fe8fc228b47313d83b1d17fd7ef291">More...</a><br /></td></tr>
<tr class="separator:ga54fe8fc228b47313d83b1d17fd7ef291"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ga3b157bbd1aa7ce107226426b392bc5ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3b157bbd1aa7ce107226426b392bc5ce">&#9670;&nbsp;</a></span>PCF8574_BASE_ADDR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PCF8574_BASE_ADDR&#160;&#160;&#160;(0x20)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>PCF8574 I2C slave base address. </p>
<p>Addresses are then in range from 0x20 to 0x27 </p>

<p class="definition">Definition at line <a class="el" href="pcf857x_8h_source.html#l00281">281</a> of file <a class="el" href="pcf857x_8h_source.html">pcf857x.h</a>.</p>

</div>
</div>
<a id="gad559a661317b211295e0f042c4eddcef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad559a661317b211295e0f042c4eddcef">&#9670;&nbsp;</a></span>PCF8574A_BASE_ADDR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PCF8574A_BASE_ADDR&#160;&#160;&#160;(0x38)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>PCF8574A I2C slave base address. </p>
<p>Addresses are then in range from 0x38 to 0x3f </p>

<p class="definition">Definition at line <a class="el" href="pcf857x_8h_source.html#l00288">288</a> of file <a class="el" href="pcf857x_8h_source.html">pcf857x.h</a>.</p>

</div>
</div>
<a id="ga7ebce9f6e370927c18f35483c7dd20a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7ebce9f6e370927c18f35483c7dd20a9">&#9670;&nbsp;</a></span>PCF8575_BASE_ADDR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PCF8575_BASE_ADDR&#160;&#160;&#160;(0x20)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>PCF8575 I2C slave base address. </p>
<p>Addresses are then in range from 0x20 to 0x27 </p>

<p class="definition">Definition at line <a class="el" href="pcf857x_8h_source.html#l00274">274</a> of file <a class="el" href="pcf857x_8h_source.html">pcf857x.h</a>.</p>

</div>
</div>
<a id="ga54fe8fc228b47313d83b1d17fd7ef291"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga54fe8fc228b47313d83b1d17fd7ef291">&#9670;&nbsp;</a></span>PCF857X_GPIO_PIN_NUM</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PCF857X_GPIO_PIN_NUM&#160;&#160;&#160;(16)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Maximum number of GPIO pins. </p>
<p>Defines the maximum number of GPIO pins of all PCF857X I/O expanders used. If a PCF8575 is used, the maximum number is 16 I/O pins. </p>

<p class="definition">Definition at line <a class="el" href="pcf857x_8h_source.html#l00320">320</a> of file <a class="el" href="pcf857x_8h_source.html">pcf857x.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="ga4fb98ac27d4530a770ba33243b5ca50a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4fb98ac27d4530a770ba33243b5ca50a">&#9670;&nbsp;</a></span>pcf857x_data_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef uint16_t <a class="el" href="group__drivers__pcf857x.html#ga4fb98ac27d4530a770ba33243b5ca50a">pcf857x_data_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Data type that can mask all expander pins. </p>
<p>If a PCF8575 is used, the 16 I/O pins have to be masked. </p>

<p class="definition">Definition at line <a class="el" href="pcf857x_8h_source.html#l00327">327</a> of file <a class="el" href="pcf857x_8h_source.html">pcf857x.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="ga934ead4b846c83461bb75b6794b29b06"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga934ead4b846c83461bb75b6794b29b06">&#9670;&nbsp;</a></span>pcf857x_error_codes_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__drivers__pcf857x.html#ga934ead4b846c83461bb75b6794b29b06">pcf857x_error_codes_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition of PCF857X driver error codes. </p>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000012">Deprecated:</a></b></dt><dd>These are aliases for errno error codes now, use them directly </dd></dl>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga934ead4b846c83461bb75b6794b29b06a302b5ef8bbc7e9804f479010683b03d1"></a>PCF857X_OK&#160;</td><td class="fielddoc"><p>success </p>
</td></tr>
<tr><td class="fieldname"><a id="gga934ead4b846c83461bb75b6794b29b06acffdc1ec693bb7ca048ce84c4b96e770"></a>PCF857X_ERROR_I2C&#160;</td><td class="fielddoc"><p>I2C communication error. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga934ead4b846c83461bb75b6794b29b06acf8c46064de3ba5e5bf9609bc60897da"></a>PCF857X_ERROR_INV_EXP&#160;</td><td class="fielddoc"><p>invalid expander variant </p>
</td></tr>
<tr><td class="fieldname"><a id="gga934ead4b846c83461bb75b6794b29b06ae0ecc8d3aa9ab6e1df81706b5c200810"></a>PCF857X_ERROR_INV_MODE&#160;</td><td class="fielddoc"><p>invalid pin mode </p>
</td></tr>
<tr><td class="fieldname"><a id="gga934ead4b846c83461bb75b6794b29b06a22c1da7b2d36f987bef537901a009504"></a>PCF857X_ERROR_INV_FLANK&#160;</td><td class="fielddoc"><p>invalid interrupt flank </p>
</td></tr>
<tr><td class="fieldname"><a id="gga934ead4b846c83461bb75b6794b29b06a1b9c7c1d2eb0946b986e92c256deaddf"></a>PCF857X_ERROR_INT_PIN&#160;</td><td class="fielddoc"><p>interrupt pin initialization failed </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="pcf857x_8h_source.html#l00342">342</a> of file <a class="el" href="pcf857x_8h_source.html">pcf857x.h</a>.</p>

</div>
</div>
<a id="ga3830af41ad87a8d92cd68d0a403eee63"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3830af41ad87a8d92cd68d0a403eee63">&#9670;&nbsp;</a></span>pcf857x_exp_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__drivers__pcf857x.html#ga3830af41ad87a8d92cd68d0a403eee63">pcf857x_exp_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition of PCF857X expander variants. </p>
<p>It is used in configuration parameters to specify the PCF857X expander used by device.</p>
<dl class="section note"><dt>Note</dt><dd>Expander variants known by the driver depend on enabled pseudomodules <code>pcf8574</code>, <code>pcf8574a</code> and <code>pcf8575</code>. </dd></dl>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga3830af41ad87a8d92cd68d0a403eee63a663b1283c72c95429d70fa84c3061bd0"></a>PCF857X_EXP_PCF8574&#160;</td><td class="fielddoc"><p>PCF8574 8 bit I/O expander used. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga3830af41ad87a8d92cd68d0a403eee63af347d7d2b1ef3bea6396f572a27efc4f"></a>PCF857X_EXP_PCF8574A&#160;</td><td class="fielddoc"><p>PCF8574A 8 bit I/O expander. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga3830af41ad87a8d92cd68d0a403eee63ad62676447ec776e12ce9d66747fbe1ce"></a>PCF857X_EXP_PCF8575&#160;</td><td class="fielddoc"><p>PCF8575 16 bit I/O expander. </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="pcf857x_8h_source.html#l00360">360</a> of file <a class="el" href="pcf857x_8h_source.html">pcf857x.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga8e8c4c82cff49e2e2a668d252e32199f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8e8c4c82cff49e2e2a668d252e32199f">&#9670;&nbsp;</a></span>pcf857x_gpio_clear()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pcf857x_gpio_clear </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpcf857x__t.html">pcf857x_t</a> *&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>pin</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clear the PCF857X output pin. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dev</td><td>descriptor of PCF857X I/O expander device </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pin</td><td>pin to clear, use <a class="el" href="group__drivers__pcf857x.html#ga2c6a2ae4d4985f50ce977088d655c877" title="conversion of (port x : pin y) to a pin number ">PCF857X_GPIO_PIN(x,y)</a> to specify </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga65f9d5963e745bac4b272a65e8ebc6d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga65f9d5963e745bac4b272a65e8ebc6d7">&#9670;&nbsp;</a></span>pcf857x_gpio_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pcf857x_gpio_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpcf857x__t.html">pcf857x_t</a> *&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>pin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="native_2include_2periph__cpu_8h.html#a491a2cbfb4e94f2afcc0d5bdef2dc454">gpio_mode_t</a>&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize a PCF857X pin. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dev</td><td>descriptor of PCF857X I/O expander device </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pin</td><td>pin to initialize, use <a class="el" href="group__drivers__pcf857x.html#ga2c6a2ae4d4985f50ce977088d655c877" title="conversion of (port x : pin y) to a pin number ">PCF857X_GPIO_PIN(x,y)</a> to specify </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mode</td><td>mode of the pin, see <a class="el" href="group__drivers__periph__gpio.html#gadacfc0deb08affff1e88f9549c8e2823" title="GPIO type identifier. ">gpio_t</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd><ul>
<li>Since the expander I/O pins are quasi-bidirectional without direction control, the only actively driven level is the output LOW. Therefore the driver physically supports only the modes <a class="el" href="group__drivers__periph__gpio.html#gga491a2cbfb4e94f2afcc0d5bdef2dc454a676755cb9c90de719e9fee3936a3a79c" title="configure as input with pull-up resistor ">GPIO_IN_PU</a> and <a class="el" href="group__drivers__periph__gpio.html#gga491a2cbfb4e94f2afcc0d5bdef2dc454a6989d6b30554f7596c282eac49adc05d" title="configure as output in open-drain mode with pull resistor enabled ">GPIO_OD_PU</a>. The other logically identical modes <a class="el" href="group__drivers__periph__gpio.html#gga491a2cbfb4e94f2afcc0d5bdef2dc454a3343e227f62c4c536efff81438a8e155" title="configure as input without pull resistor ">GPIO_IN</a>, <a class="el" href="group__drivers__periph__gpio.html#gga491a2cbfb4e94f2afcc0d5bdef2dc454a1b59f059dea546f0248fb26232ee3531" title="configure as output in push-pull mode ">GPIO_OUT</a> and <a class="el" href="group__drivers__periph__gpio.html#gga491a2cbfb4e94f2afcc0d5bdef2dc454a4e49b8f9feef3b91e8d2842009151e2b" title="configure as output in open-drain mode without pull resistor ">GPIO_OD</a> are emulated. For the <a class="el" href="group__drivers__periph__gpio.html#gga491a2cbfb4e94f2afcc0d5bdef2dc454a676755cb9c90de719e9fee3936a3a79c" title="configure as input with pull-up resistor ">GPIO_IN_PU</a> mode the function returns with <code>-EINVAL</code>.</li>
<li>After initialization in <a class="el" href="group__drivers__periph__gpio.html#gga491a2cbfb4e94f2afcc0d5bdef2dc454a1b59f059dea546f0248fb26232ee3531" title="configure as output in push-pull mode ">GPIO_OUT</a> mode the pin is actively driven LOW, after initialization in all other modes the pin is pulled-up to HIGH.</li>
</ul>
</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success </td></tr>
    <tr><td class="paramname">&lt;0</td><td>a negative errno error code on error </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaac5f8fddf9826f0273b501000bc0af5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaac5f8fddf9826f0273b501000bc0af5e">&#9670;&nbsp;</a></span>pcf857x_gpio_init_int()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pcf857x_gpio_init_int </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpcf857x__t.html">pcf857x_t</a> *&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>pin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="native_2include_2periph__cpu_8h.html#a491a2cbfb4e94f2afcc0d5bdef2dc454">gpio_mode_t</a>&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="atxmega_2include_2periph__cpu_8h.html#a0e8c3f46deb150e48acaa79fe26b2e86">gpio_flank_t</a>&#160;</td>
          <td class="paramname"><em>flank</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__drivers__periph__gpio.html#ga06ceaaf4824f1504972babf0775dba92">gpio_cb_t</a>&#160;</td>
          <td class="paramname"><em>isr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize a PCF857X pin for external interrupt usage. </p>
<p>The registered callback function will be called in interrupt context every time the defined flank(s) are detected. Therefore, it MUST NOT be blocking or time-consuming.</p>
<p>The interrupt is activated automatically after the initialization.</p>
<dl class="section pre"><dt>Precondition</dt><dd>The MCU GPIO pin for the interrupt signal has to be defined by the default configuration parameter <a class="el" href="pcf857x__params_8h.html#a665016c4daba101f837973346ef3ca3e" title="MCU interrupt pin. ">PCF857X_PARAM_INT_PIN</a> (<a class="el" href="structpcf857x__params__t.html#a43ada2a73a84f200d761575abd92ae34" title="MCU GPIO pin or GPIO_UNDEF if not used (default). ">pcf857x_params_t::int_pin</a>).</dd></dl>
<dl class="section note"><dt>Note</dt><dd><ul>
<li>This function is only available if interrupt handling is enabled by one of the modules <code>pcf857x_irq*</code></li>
<li>Since the expander I/O pins are quasi-bidirectional without direction control, the only actively driven level is the output LOW. Therefore the driver physically supports only the modes <a class="el" href="group__drivers__periph__gpio.html#gga491a2cbfb4e94f2afcc0d5bdef2dc454a676755cb9c90de719e9fee3936a3a79c" title="configure as input with pull-up resistor ">GPIO_IN_PU</a> and <a class="el" href="group__drivers__periph__gpio.html#gga491a2cbfb4e94f2afcc0d5bdef2dc454a6989d6b30554f7596c282eac49adc05d" title="configure as output in open-drain mode with pull resistor enabled ">GPIO_OD_PU</a>. The other logically identical modes <a class="el" href="group__drivers__periph__gpio.html#gga491a2cbfb4e94f2afcc0d5bdef2dc454a3343e227f62c4c536efff81438a8e155" title="configure as input without pull resistor ">GPIO_IN</a>, <a class="el" href="group__drivers__periph__gpio.html#gga491a2cbfb4e94f2afcc0d5bdef2dc454a1b59f059dea546f0248fb26232ee3531" title="configure as output in push-pull mode ">GPIO_OUT</a> and <a class="el" href="group__drivers__periph__gpio.html#gga491a2cbfb4e94f2afcc0d5bdef2dc454a4e49b8f9feef3b91e8d2842009151e2b" title="configure as output in open-drain mode without pull resistor ">GPIO_OD</a> are emulated. For the <a class="el" href="group__drivers__periph__gpio.html#gga491a2cbfb4e94f2afcc0d5bdef2dc454a676755cb9c90de719e9fee3936a3a79c" title="configure as input with pull-up resistor ">GPIO_IN_PU</a> mode the function returns with <code>-EINVAL</code>.</li>
<li>After initialization in <a class="el" href="group__drivers__periph__gpio.html#gga491a2cbfb4e94f2afcc0d5bdef2dc454a1b59f059dea546f0248fb26232ee3531" title="configure as output in push-pull mode ">GPIO_OUT</a> mode the pin is actively driven LOW, after initialization in all other modes the pin is pulled-up to HIGH.</li>
</ul>
</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dev</td><td>descriptor of PCF857X I/O expander device </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pin</td><td>pin to initialize, use <a class="el" href="group__drivers__pcf857x.html#ga2c6a2ae4d4985f50ce977088d655c877" title="conversion of (port x : pin y) to a pin number ">PCF857X_GPIO_PIN(x,y)</a> to specify </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mode</td><td>mode of the pin, see <a class="el" href="group__drivers__periph__gpio.html#gadacfc0deb08affff1e88f9549c8e2823" title="GPIO type identifier. ">gpio_t</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">flank</td><td>define the active flanks, see <a class="el" href="group__drivers__periph__gpio.html#ga0e8c3f46deb150e48acaa79fe26b2e86" title="Definition of possible active flanks for external interrupt mode. ">gpio_flank_t</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">isr</td><td>ISR that is called back from interrupt context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">arg</td><td>optional argument passed to the callback</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success </td></tr>
    <tr><td class="paramname">&lt;0</td><td>a negative errno error code on error </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga49e1d37904efa5c1d4c3c1e91b040167"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga49e1d37904efa5c1d4c3c1e91b040167">&#9670;&nbsp;</a></span>pcf857x_gpio_irq_disable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pcf857x_gpio_irq_disable </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpcf857x__t.html">pcf857x_t</a> *&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>pin</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Disable pin interrupt. </p>
<dl class="section note"><dt>Note</dt><dd>This function is only available if interrupt handling is enabled by one of the modules <code>pcf857x_irq*</code></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dev</td><td>descriptor of PCF857X I/O expander device </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pin</td><td>pin to enable the interrupt for </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga8612435574aa19b16b4522bf8f2e6470"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8612435574aa19b16b4522bf8f2e6470">&#9670;&nbsp;</a></span>pcf857x_gpio_irq_enable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pcf857x_gpio_irq_enable </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpcf857x__t.html">pcf857x_t</a> *&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>pin</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enable pin interrupt. </p>
<dl class="section note"><dt>Note</dt><dd>This function is only available if interrupt handling is enabled by one of the modules <code>pcf857x_irq*</code></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dev</td><td>descriptor of PCF857X I/O expander device </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pin</td><td>pin to enable the interrupt for </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gadc4912bb7ef183e6614d0d1f9a6f761d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadc4912bb7ef183e6614d0d1f9a6f761d">&#9670;&nbsp;</a></span>pcf857x_gpio_read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pcf857x_gpio_read </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpcf857x__t.html">pcf857x_t</a> *&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>pin</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the value from PCF857X input pin. </p>
<dl class="section note"><dt>Note</dt><dd>If the PCF857X interrupt is used, the read operation does not perform an I2C read operation since the last input pin value is already read.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dev</td><td>descriptor of PCF857X I/O expander device </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pin</td><td>pin to read, use <a class="el" href="group__drivers__pcf857x.html#ga2c6a2ae4d4985f50ce977088d655c877" title="conversion of (port x : pin y) to a pin number ">PCF857X_GPIO_PIN(x,y)</a> to specify </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gad77ce42e4ed11f5a5b34653a990b9b27"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad77ce42e4ed11f5a5b34653a990b9b27">&#9670;&nbsp;</a></span>pcf857x_gpio_set()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pcf857x_gpio_set </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpcf857x__t.html">pcf857x_t</a> *&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>pin</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the PCF857X output pin. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dev</td><td>descriptor of PCF857X I/O expander device </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pin</td><td>pin to set, use <a class="el" href="group__drivers__pcf857x.html#ga2c6a2ae4d4985f50ce977088d655c877" title="conversion of (port x : pin y) to a pin number ">PCF857X_GPIO_PIN(x,y)</a> to specify </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gae4c2c39aad7696907b0f7d16a242abe0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae4c2c39aad7696907b0f7d16a242abe0">&#9670;&nbsp;</a></span>pcf857x_gpio_toggle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pcf857x_gpio_toggle </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpcf857x__t.html">pcf857x_t</a> *&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>pin</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Toggle the value of the PCF857X output pin. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dev</td><td>descriptor of PCF857X I/O expander device </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pin</td><td>pin to toggle, use <a class="el" href="group__drivers__pcf857x.html#ga2c6a2ae4d4985f50ce977088d655c877" title="conversion of (port x : pin y) to a pin number ">PCF857X_GPIO_PIN(x,y)</a> to specify </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga51c2774ca360ed0d8f3e278bdf51520f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga51c2774ca360ed0d8f3e278bdf51520f">&#9670;&nbsp;</a></span>pcf857x_gpio_write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pcf857x_gpio_write </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpcf857x__t.html">pcf857x_t</a> *&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>pin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write the value to PCF857X input pin. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dev</td><td>descriptor of PCF857X I/O expander device </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pin</td><td>pin to write, use <a class="el" href="group__drivers__pcf857x.html#ga2c6a2ae4d4985f50ce977088d655c877" title="conversion of (port x : pin y) to a pin number ">PCF857X_GPIO_PIN(x,y)</a> to specify </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">value</td><td>value to write </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga2898d3ea96ff3310c6e6e41bf9a76dbe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2898d3ea96ff3310c6e6e41bf9a76dbe">&#9670;&nbsp;</a></span>pcf857x_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pcf857x_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpcf857x__t.html">pcf857x_t</a> *&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structpcf857x__params__t.html">pcf857x_params_t</a> *&#160;</td>
          <td class="paramname"><em>params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the PCF857X I/O expander. </p>
<p>All expander pins are set to be input and are pulled up.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dev</td><td>descriptor of PCF857X I/O expander device </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">params</td><td>configuration parameters, see <a class="el" href="structpcf857x__params__t.html" title="PCF857X device initialization parameters. ">pcf857x_params_t</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>If the interrupt handling is enabled by one of the modules <code>pcf857x_irq*</code>, the MCU GPIO pin for the interrupt signal has to be defined by the default configuration parameter <a class="el" href="pcf857x__params_8h.html#a665016c4daba101f837973346ef3ca3e" title="MCU interrupt pin. ">PCF857X_PARAM_INT_PIN</a> (<a class="el" href="structpcf857x__params__t.html#a43ada2a73a84f200d761575abd92ae34" title="MCU GPIO pin or GPIO_UNDEF if not used (default). ">pcf857x_params_t::int_pin</a>).</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success </td></tr>
    <tr><td class="paramname">&lt;0</td><td>a negative errno error code on error </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
    <div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
        <ul>
            <li class="footer">Generated on Thu Mar 13 2025 10:38:33 by <a href="http://www.doxygen.org/index.html">
                       <img class="footer" src="doxygen.png" alt="doxygen"></a> 1.8.14</li>
        </ul>
    </div>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="bootstrap.min.js"></script>
    <script src="jquery.smartmenus.min.js"></script>
    <script src="jquery.smartmenus.bootstrap.min.js"></script>
    <script src="riot-doxy.js"></script>
  </body>
</html>
