<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="icon" type="image/png" href="favicon.png">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>netdev_driver Struct Reference</title>
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="jquery.min.js"></script>
    <script src="jquery.powertip.min.js"></script>
    <script src="jquery-ui.min.js"></script>
    <script src="jquery.scrollTo.min.js"></script>
    <script src="doxy-jquery.js"></script>
    <script src="dynsections.js"></script>
    <link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
    <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
    <!-- Bootstrap -->
    <link href="doxygen.css" rel="stylesheet">
    <link href="fonts.css" rel="stylesheet">
    <link href="bootstrap.min.css" rel="stylesheet">
    <link href="jquery.smartmenus.bootstrap.css" rel="stylesheet">
    <link href="riot.css" rel="stylesheet">
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
        <script>
            function displaySR(){
            searchBox.Search();
            var rhtml=(document.getElementById('MSearchResults').contentWindow.document.body.innerHTML).replace(/href=\"\.\.\//g,'href="');
            document.getElementById('MSearchResultsWindow').style.display='none';
            document.getElementById('top').append(document.getElementById('MSearchSelectWindow'));
            document.getElementById('top').append(document.getElementById('MSearchResultsWindow'));
            document.getElementById('doc-content').innerHTML=rhtml;
            }
            function modSearch(){
            if(!searchBox.doxySearch){
                searchBox.doxySearch=searchBox.Search
                searchBox.Search= function(){this.doxySearch();
                var r=document.getElementById('MSearchResultsWindow');console.log(r.style);
                if(parseInt(r.style.left)<0)r.style.left=0;
                var x=document.getElementById('MSearchResults');
                if(x.scrollWidth>window.screen.width)x.style.width=window.screen.width-2+'px';
                var f=document.getElementById('riot-searchform');
                if(parseInt( r.style.top) < f.offsetTop+f.scrollHeight) r.style.top = f.offsetTop+f.scrollHeight+'px';}
            }
            }
        </script>
  </head>
  <body>
      <div id="top">
        <nav class="navbar navbar-inverse">
          <div class="container-fluid">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
              <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse" aria-expanded="false">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              <a class="navbar-brand" id="brand-logo" href="http://riot-os.org"><img height="40px" src="riot-logo.svg" /></a>
              <p class="navbar-text text-center visible-xs">Documentation</p>
            </div>
            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="navbar-collapse">
              <p class="navbar-text navbar-left"><span id="projectbrief">The friendly Operating System for the Internet of Things</span></p>
              <ul id="riot-navlist" class="nav navbar-nav"></ul>
              <form id="riot-searchform" class="navbar-form navbar-left navbar-right" action="https://duckduckgo.com/" method="get">
                 <input type="hidden" name="sites" value="doc.riot-os.org"/>
                 <input type="hidden" name="kt" value="h"/>
                 <div class="form-group">
                   <div id="MSearchBox" class="MSearchBoxActive">
                     <div class="input-group">
                       <div class="input-group-addon">
                         <span id="MSearchSelect" class="glyphicon glyphicon-search" aria-hidden="true" onmouseover="return searchBox.OnSearchSelectShow()" onmouseout="return searchBox.OnSearchSelectHide()"></span>
                       </div>
                       <input class="form-control" type="text" name="q" id="MSearchField" placeholder="Search" accesskey="S" onfocus="searchBox.OnSearchFieldFocus(true)" onblur="searchBox.OnSearchFieldFocus(false)" onkeyup="searchBox.OnSearchFieldChange(event); modSearch();">
                       <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()">
                         <span id="search-reset" class="glyphicon glyphicon-remove-circle" aria-hidden="true"></span>
                       </a>
                     </div>
                   </div>
                 </div>
              </form>
            </div><!-- /.navbar-collapse -->
          </div><!-- /.container-fluid -->
        </nav>
      </div>
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('structnetdev__driver.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle">
<div class="title">netdev_driver Struct Reference<div class="ingroups"><a class="el" href="group__drivers.html">Drivers</a> &raquo; <a class="el" href="group__drivers__netdev.html">Network Device Drivers</a> &raquo; <a class="el" href="group__drivers__netdev__api.html">Netdev - Network Device Driver API</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Structure to hold driver interface -&gt; function mapping.  
 <a href="structnetdev__driver.html#details">More...</a></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Structure to hold driver interface -&gt; function mapping. </p>
<p>The send/receive functions expect/return a full ethernet frame (dst mac, src mac, ethertype, payload, no checksum). </p>

<p class="definition">Definition at line <a class="el" href="drivers_2include_2net_2netdev_8h_source.html#l00426">426</a> of file <a class="el" href="drivers_2include_2net_2netdev_8h_source.html">netdev.h</a>.</p>
</div>
<p><code>#include &lt;<a class="el" href="drivers_2include_2net_2netdev_8h_source.html">netdev.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:a39585137953a92c1c58b5e0ad3262096"><td class="memItemLeft" align="right" valign="top">int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structnetdev__driver.html#a39585137953a92c1c58b5e0ad3262096">send</a> )(<a class="el" href="group__drivers__netdev__api.html#ga14012f723b7591ad2fa42ace34601ac4">netdev_t</a> *dev, const <a class="el" href="group__sys__iolist.html#gaa17f91ef26edec149cd806d8457aa3a0">iolist_t</a> *<a class="el" href="structiolist.html">iolist</a>)</td></tr>
<tr class="memdesc:a39585137953a92c1c58b5e0ad3262096"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start transmission of the given frame and return directly.  <a href="#a39585137953a92c1c58b5e0ad3262096">More...</a><br /></td></tr>
<tr class="separator:a39585137953a92c1c58b5e0ad3262096"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aacad0fea752b3a0ec9beb30470c4f34e"><td class="memItemLeft" align="right" valign="top">int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structnetdev__driver.html#aacad0fea752b3a0ec9beb30470c4f34e">confirm_send</a> )(<a class="el" href="group__drivers__netdev__api.html#ga14012f723b7591ad2fa42ace34601ac4">netdev_t</a> *dev, void *info)</td></tr>
<tr class="memdesc:aacad0fea752b3a0ec9beb30470c4f34e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fetch the status of a transmission and perform any potential cleanup.  <a href="#aacad0fea752b3a0ec9beb30470c4f34e">More...</a><br /></td></tr>
<tr class="separator:aacad0fea752b3a0ec9beb30470c4f34e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2c8cad80067e3b1f9979931ddb3cc8b"><td class="memItemLeft" align="right" valign="top">int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structnetdev__driver.html#ae2c8cad80067e3b1f9979931ddb3cc8b">recv</a> )(<a class="el" href="group__drivers__netdev__api.html#ga14012f723b7591ad2fa42ace34601ac4">netdev_t</a> *dev, void *buf, size_t len, void *info)</td></tr>
<tr class="memdesc:ae2c8cad80067e3b1f9979931ddb3cc8b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Drop a received frame, <b>OR</b> get the length of a received frame, <b>OR</b> get a received frame.  <a href="#ae2c8cad80067e3b1f9979931ddb3cc8b">More...</a><br /></td></tr>
<tr class="separator:ae2c8cad80067e3b1f9979931ddb3cc8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9c8aa7e8b6ef4b7b4acfcb0ae84209a"><td class="memItemLeft" align="right" valign="top">int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structnetdev__driver.html#ae9c8aa7e8b6ef4b7b4acfcb0ae84209a">init</a> )(<a class="el" href="group__drivers__netdev__api.html#ga14012f723b7591ad2fa42ace34601ac4">netdev_t</a> *dev)</td></tr>
<tr class="memdesc:ae9c8aa7e8b6ef4b7b4acfcb0ae84209a"><td class="mdescLeft">&#160;</td><td class="mdescRight">the driver's initialization function  <a href="#ae9c8aa7e8b6ef4b7b4acfcb0ae84209a">More...</a><br /></td></tr>
<tr class="separator:ae9c8aa7e8b6ef4b7b4acfcb0ae84209a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef446b76f05e6b5cfef52ab7460f3cd6"><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structnetdev__driver.html#aef446b76f05e6b5cfef52ab7460f3cd6">isr</a> )(<a class="el" href="group__drivers__netdev__api.html#ga14012f723b7591ad2fa42ace34601ac4">netdev_t</a> *dev)</td></tr>
<tr class="memdesc:aef446b76f05e6b5cfef52ab7460f3cd6"><td class="mdescLeft">&#160;</td><td class="mdescRight">a driver's user-space ISR handler  <a href="#aef446b76f05e6b5cfef52ab7460f3cd6">More...</a><br /></td></tr>
<tr class="separator:aef446b76f05e6b5cfef52ab7460f3cd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f7bbd084d7a51756fba665903884317"><td class="memItemLeft" align="right" valign="top">int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structnetdev__driver.html#a0f7bbd084d7a51756fba665903884317">get</a> )(<a class="el" href="group__drivers__netdev__api.html#ga14012f723b7591ad2fa42ace34601ac4">netdev_t</a> *dev, <a class="el" href="group__net__netopt.html#ga19e30424c1ab107c9c84dc0cb29d9906">netopt_t</a> opt, void *value, size_t max_len)</td></tr>
<tr class="memdesc:a0f7bbd084d7a51756fba665903884317"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get an option value from a given network device.  <a href="#a0f7bbd084d7a51756fba665903884317">More...</a><br /></td></tr>
<tr class="separator:a0f7bbd084d7a51756fba665903884317"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5c8c409276a702877ad50ad09e87a58"><td class="memItemLeft" align="right" valign="top">int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structnetdev__driver.html#ad5c8c409276a702877ad50ad09e87a58">set</a> )(<a class="el" href="group__drivers__netdev__api.html#ga14012f723b7591ad2fa42ace34601ac4">netdev_t</a> *dev, <a class="el" href="group__net__netopt.html#ga19e30424c1ab107c9c84dc0cb29d9906">netopt_t</a> opt, const void *value, size_t value_len)</td></tr>
<tr class="memdesc:ad5c8c409276a702877ad50ad09e87a58"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set an option value for a given network device.  <a href="#ad5c8c409276a702877ad50ad09e87a58">More...</a><br /></td></tr>
<tr class="separator:ad5c8c409276a702877ad50ad09e87a58"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Field Documentation</h2>
<a id="aacad0fea752b3a0ec9beb30470c4f34e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aacad0fea752b3a0ec9beb30470c4f34e">&#9670;&nbsp;</a></span>confirm_send</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int(* netdev_driver::confirm_send) (<a class="el" href="group__drivers__netdev__api.html#ga14012f723b7591ad2fa42ace34601ac4">netdev_t</a> *dev, void *info)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fetch the status of a transmission and perform any potential cleanup. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dev</td><td><a class="el" href="structNetwork.html" title="Network struct within mqtt paho. ">Network</a> device descriptor. Must not be NULL. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">info</td><td>Device class specific type to fetch transmission info. May be <code>NULL</code> if not needed by upper layer. May be ignored by driver.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of bytes transmitted. (The size of the transmitted frame including all overhead, such as frame check sequence, bit stuffing, escaping, headers, trailers, preambles, start of frame delimiters, etc. May be an estimate for performance reasons.) </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">-EAGAIN</td><td>Transmission still ongoing. (Call later again!) </td></tr>
    <tr><td class="paramname">-EHOSTUNREACH</td><td>Layer 2 ACK timeout </td></tr>
    <tr><td class="paramname">-EBUSY</td><td>Medium is busy. (E.g. Auto-CCA failed / timed out, collision detected) </td></tr>
    <tr><td class="paramname">-ENETDOWN</td><td>Interface is not connected / powered down </td></tr>
    <tr><td class="paramname">-EIO</td><td>Any kind of transmission error Use <code>info</code> for more details </td></tr>
    <tr><td class="paramname">&lt;0</td><td>Other error. (Please use a negative errno code.)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section warning"><dt>Warning</dt><dd>After <a class="el" href="structnetdev__driver.html#a39585137953a92c1c58b5e0ad3262096" title="Start transmission of the given frame and return directly. ">netdev_driver_t::send</a> was called and returned zero, this function must be called until it returns anything other than <code>-EAGAIN</code>. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>The driver will signal completion using the NETDEV_EVENT_TX_COMPLETE event. This function must not return <code>-EAGAIN</code> after that event was received. </dd></dl>

<p class="definition">Definition at line <a class="el" href="drivers_2include_2net_2netdev_8h_source.html#l00494">494</a> of file <a class="el" href="drivers_2include_2net_2netdev_8h_source.html">netdev.h</a>.</p>

</div>
</div>
<a id="a0f7bbd084d7a51756fba665903884317"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f7bbd084d7a51756fba665903884317">&#9670;&nbsp;</a></span>get</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int(* netdev_driver::get) (<a class="el" href="group__drivers__netdev__api.html#ga14012f723b7591ad2fa42ace34601ac4">netdev_t</a> *dev, <a class="el" href="group__net__netopt.html#ga19e30424c1ab107c9c84dc0cb29d9906">netopt_t</a> opt, void *value, size_t max_len)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get an option value from a given network device. </p>
<dl class="section pre"><dt>Precondition</dt><dd><code>(dev != NULL)</code> </dd>
<dd>
for scalar types of <a class="el" href="group__net__netopt.html#ga19e30424c1ab107c9c84dc0cb29d9906">netopt_t</a> <code>max_len</code> must be of exactly that length (see <a class="el" href="group__net__netopt.html">netopt documentation</a> for type) </dd>
<dd>
for array types of <a class="el" href="group__net__netopt.html#ga19e30424c1ab107c9c84dc0cb29d9906">netopt_t</a> <code>max_len</code> must greater or equal the required length (see <a class="el" href="group__net__netopt.html">netopt documentation</a> for type) </dd>
<dd>
<code>value</code> must have the natural alignment of its type (see <a class="el" href="group__net__netopt.html">netopt documentation</a> for type)</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dev</td><td>network device descriptor </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">opt</td><td>option type </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">value</td><td>pointer to store the option's value in </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">max_len</td><td>maximal amount of byte that fit into <code>value</code> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>number of bytes written to <code>value</code> </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">-ENOTSUP</td><td>if <code>opt</code> is not provided by the device </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="drivers_2include_2net_2netdev_8h_source.html#l00584">584</a> of file <a class="el" href="drivers_2include_2net_2netdev_8h_source.html">netdev.h</a>.</p>

</div>
</div>
<a id="ae9c8aa7e8b6ef4b7b4acfcb0ae84209a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9c8aa7e8b6ef4b7b4acfcb0ae84209a">&#9670;&nbsp;</a></span>init</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int(* netdev_driver::init) (<a class="el" href="group__drivers__netdev__api.html#ga14012f723b7591ad2fa42ace34601ac4">netdev_t</a> *dev)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>the driver's initialization function </p>
<dl class="section pre"><dt>Precondition</dt><dd><code>(dev != NULL)</code></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dev</td><td>network device descriptor. Must not be NULL.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">&lt;0</td><td>on error </td></tr>
    <tr><td class="paramname">0</td><td>on success </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="drivers_2include_2net_2netdev_8h_source.html#l00543">543</a> of file <a class="el" href="drivers_2include_2net_2netdev_8h_source.html">netdev.h</a>.</p>

</div>
</div>
<a id="aef446b76f05e6b5cfef52ab7460f3cd6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef446b76f05e6b5cfef52ab7460f3cd6">&#9670;&nbsp;</a></span>isr</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* netdev_driver::isr) (<a class="el" href="group__drivers__netdev__api.html#ga14012f723b7591ad2fa42ace34601ac4">netdev_t</a> *dev)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>a driver's user-space ISR handler </p>
<dl class="section pre"><dt>Precondition</dt><dd><code>(dev != NULL)</code></dd></dl>
<p>This function will be called from a network stack's loop when being notified by netdev_isr.</p>
<p>It is supposed to call <a class="el" href="structnetdev.html#af91155f0bff62279c2b4c12fcc909d16">netdev-&gt;event_callback()</a> for each occurring event.</p>
<p>See receive frame flow description for details.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dev</td><td>network device descriptor. Must not be NULL. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="drivers_2include_2net_2netdev_8h_source.html#l00561">561</a> of file <a class="el" href="drivers_2include_2net_2netdev_8h_source.html">netdev.h</a>.</p>

</div>
</div>
<a id="ae2c8cad80067e3b1f9979931ddb3cc8b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2c8cad80067e3b1f9979931ddb3cc8b">&#9670;&nbsp;</a></span>recv</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int(* netdev_driver::recv) (<a class="el" href="group__drivers__netdev__api.html#ga14012f723b7591ad2fa42ace34601ac4">netdev_t</a> *dev, void *buf, size_t len, void *info)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Drop a received frame, <b>OR</b> get the length of a received frame, <b>OR</b> get a received frame. </p>
<dl class="section pre"><dt>Precondition</dt><dd><code>(dev != NULL)</code></dd></dl>
<p>Supposed to be called from <a class="el" href="structnetdev.html#af91155f0bff62279c2b4c12fcc909d16">netdev-&gt;event_callback()</a></p>
<p>If <code>buf</code> == NULL and <code>len</code> == 0, returns the frame size &ndash; or an upper bound estimation of the size &ndash; without dropping the frame. If <code>buf</code> == NULL and <code>len</code> &gt; 0, drops the frame and returns the frame size.</p>
<p>If called with <code>buf</code> != NULL and <code>len</code> is smaller than the received frame:</p><ul>
<li>The received frame is dropped</li>
<li>The content in <code>buf</code> becomes invalid. (The driver may use the memory to implement the dropping - or may not change it.)</li>
<li><code>-ENOBUFS</code> is returned</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dev</td><td>network device descriptor. Must not be NULL. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">buf</td><td>buffer to write into or NULL to return the frame size. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">len</td><td>maximum number of bytes to read. If <code>buf</code> is NULL the currently buffered frame is dropped when <code>len</code> &gt; 0. Must not be 0 when <code>buf</code> != NULL. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">info</td><td>status information for the received frame. Might be of different type for different netdev devices. May be NULL if not needed or applicable.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">-ENOBUFS</td><td>if supplied buffer is too small </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>number of bytes read if buf != NULL </dd>
<dd>
frame size (or upper bound estimation) if buf == NULL </dd></dl>

<p class="definition">Definition at line <a class="el" href="drivers_2include_2net_2netdev_8h_source.html#l00531">531</a> of file <a class="el" href="drivers_2include_2net_2netdev_8h_source.html">netdev.h</a>.</p>

</div>
</div>
<a id="a39585137953a92c1c58b5e0ad3262096"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39585137953a92c1c58b5e0ad3262096">&#9670;&nbsp;</a></span>send</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int(* netdev_driver::send) (<a class="el" href="group__drivers__netdev__api.html#ga14012f723b7591ad2fa42ace34601ac4">netdev_t</a> *dev, const <a class="el" href="group__sys__iolist.html#gaa17f91ef26edec149cd806d8457aa3a0">iolist_t</a> *<a class="el" href="structiolist.html">iolist</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start transmission of the given frame and return directly. </p>
<dl class="section pre"><dt>Precondition</dt><dd><code>(dev != NULL) &amp;&amp; (iolist != NULL)</code></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dev</td><td><a class="el" href="structNetwork.html" title="Network struct within mqtt paho. ">Network</a> device descriptor. Must not be NULL. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">iolist</td><td>IO vector list to send. Elements of this list may have iolist_t::iol_size == 0 and (in this case only) iolist_t::iol_data == 0.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">-EBUSY</td><td>Driver is temporarily unable to send, e.g. because an incoming frame on a half-duplex medium is received </td></tr>
    <tr><td class="paramname">-ENETDOWN</td><td>Device is powered down </td></tr>
    <tr><td class="paramname">&lt;0</td><td>Other error </td></tr>
    <tr><td class="paramname">0</td><td>Transmission successfully started </td></tr>
    <tr><td class="paramname">&gt;0</td><td>Number of bytes transmitted (transmission already complete)</td></tr>
  </table>
  </dd>
</dl>
<p>This function will cause the driver to start the transmission in an async fashion. The driver will "own" the <code>iolist</code> until a subsequent call to <a class="el" href="structnetdev__driver.html#aacad0fea752b3a0ec9beb30470c4f34e">netdev_driver_t::confirm_send</a> returns something different than <code>-EAGAIN</code>. The driver must signal completion using the NETDEV_EVENT_TX_COMPLETE event, regardless of success or failure.</p>
<p>If the driver implements blocking send (e.g. because it writes out the frame byte-by-byte over a serial line) it can also return the number of bytes transmitted here directly. In this case it MUST NOT emit a NETDEV_EVENT_TX_COMPLETE event, <a class="el" href="structnetdev__driver.html#aacad0fea752b3a0ec9beb30470c4f34e" title="Fetch the status of a transmission and perform any potential cleanup. ">netdev_driver_t::confirm_send</a> will never be called but should still be implemented to signal conformance to the new API.</p>
<p>Old drivers might not be ported to the new API and have <a class="el" href="structnetdev__driver.html#aacad0fea752b3a0ec9beb30470c4f34e" title="Fetch the status of a transmission and perform any potential cleanup. ">netdev_driver_t::confirm_send</a> set to <code>NULL</code>. In that case the driver will return the number of bytes transmitted on success (instead of <code>0</code>) and will likely block until completion. </p>

<p class="definition">Definition at line <a class="el" href="drivers_2include_2net_2netdev_8h_source.html#l00462">462</a> of file <a class="el" href="drivers_2include_2net_2netdev_8h_source.html">netdev.h</a>.</p>

</div>
</div>
<a id="ad5c8c409276a702877ad50ad09e87a58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5c8c409276a702877ad50ad09e87a58">&#9670;&nbsp;</a></span>set</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int(* netdev_driver::set) (<a class="el" href="group__drivers__netdev__api.html#ga14012f723b7591ad2fa42ace34601ac4">netdev_t</a> *dev, <a class="el" href="group__net__netopt.html#ga19e30424c1ab107c9c84dc0cb29d9906">netopt_t</a> opt, const void *value, size_t value_len)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set an option value for a given network device. </p>
<dl class="section pre"><dt>Precondition</dt><dd><code>(dev != NULL)</code> </dd>
<dd>
for scalar types of <a class="el" href="group__net__netopt.html#ga19e30424c1ab107c9c84dc0cb29d9906">netopt_t</a> <code>value_len</code> must be of exactly that length (see <a class="el" href="group__net__netopt.html">netopt documentation</a> for type) </dd>
<dd>
for array types of <a class="el" href="group__net__netopt.html#ga19e30424c1ab107c9c84dc0cb29d9906">netopt_t</a> <code>value_len</code> must lesser or equal the required length (see <a class="el" href="group__net__netopt.html">netopt documentation</a> for type) </dd>
<dd>
<code>value</code> must have the natural alignment of its type (see <a class="el" href="group__net__netopt.html">netopt documentation</a> for type)</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dev</td><td>network device descriptor </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">opt</td><td>option type </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">value</td><td>value to set </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">value_len</td><td>the length of <code>value</code> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>number of bytes written to <code>value</code> </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">-ENOTSUP</td><td>if <code>opt</code> is not configurable for the device </td></tr>
    <tr><td class="paramname">-EINVAL</td><td>if <code>value</code> is an invalid value with regards to <code>opt</code> </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="drivers_2include_2net_2netdev_8h_source.html#l00610">610</a> of file <a class="el" href="drivers_2include_2net_2netdev_8h_source.html">netdev.h</a>.</p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>drivers/include/net/<a class="el" href="drivers_2include_2net_2netdev_8h_source.html">netdev.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
    <div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
        <ul>
            <li class="footer">Generated on Wed Mar 12 2025 10:21:36 by <a href="http://www.doxygen.org/index.html">
                       <img class="footer" src="doxygen.png" alt="doxygen"></a> 1.8.14</li>
        </ul>
    </div>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="bootstrap.min.js"></script>
    <script src="jquery.smartmenus.min.js"></script>
    <script src="jquery.smartmenus.bootstrap.min.js"></script>
    <script src="riot-doxy.js"></script>
  </body>
</html>
